/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/var addRowsCount,enableAutoCom,actionBtnPos,arrAppResp=[],isFormDirty=!1;function disableElements(){$j(".Config-contBX").find("input").attr("disabled","true"),$j(".Config-contBX").find("textarea").attr("disabled","true"),$j("#btnSave").attr("disabled","true")}function navTabFocus(e,t,a){$(".lastFocusable").removeClass("lastFocusable"),"menu6Header"==e&&(t="btnSave"),$("#"+t).addClass("lastFocusable").focus(),$(".lastFocusable").on("keydown.tabRot",function(e){9!==e.which||e.shiftKey||e.preventDefault()}),setTimeout(function(){var e=$("#"+a).find('button[tabindex!="-1"],input[tabindex!="-1"],select[tabindex!="-1"],radio[tabindex!="-1"], ul, .swtchDummyAnchr').filter(":visible").not(":disabled");firstInput=e.first(),firstInput.focus()},300)}function checkIfFormChanges(){return $('input[type="text"], input[type="radio"], input[type="checkbox"], select').each(function(e){!isFormDirty&&$(this).hasClass("dirty")&&(isFormDirty=!0)}),isFormDirty}function ConfirmLeave(){if($(".jconfirm").length>0)$(".jconfirm").remove();else{var glType=eval(callParent("gllangType")),isRTL=!1;isRTL="ar"==glType;var ConfirmSaveCB=$.confirm({theme:"modern",title:eval(callParent("lcm[155]")),animation:"scale",closeAnimation:"scale",animateFromElement:!1,onContentReady:function(){disableBackDrop("bind"),$(".jconfirm-buttons button").each(function(){var e=$(this).text();$(this).prop("title",e.charAt(0).toUpperCase()+e.slice(1))}),$(".jconfirm-buttons .hotbtn").focus()},backgroundDismiss:"false",escapeKey:"cancel",rtl:isRTL,content:eval(callParent("lcm[292]")),buttons:{confirm:{text:eval(callParent("lcm[164]")),btnClass:"btn btn-primary",action:function(){ConfirmSaveCB.close(),parent.checkIfAnyActionPerformed(),cancelAppSettings()}},cancel:{text:eval(callParent("lcm[192]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){parent.actionsClicked=""}}}})}}function EnableEdit(){$j(".Config-contBX").find("input").removeAttr("disabled"),$j(".Config-contBX").find("textarea").removeAttr("disabled"),$j("#btnSave").removeAttr("disabled")}function showSuccess(){showAlertDialog("success",1038,"client")}function AddRoles(){try{ASB.WebService.GetRoles(OnSuccessRoles)}catch(e){}}function OnSuccessRoles(e){var t=$j.parseXML(e);$j("#imgAdd").css("display","none"),AddTableRows(t,16)}function AddTableRows(e,t){var a=document.getElementById("tblGeneral").insertRow(t);addRowsCount=1,a.id="AddRow";var n=a.insertCell(0),l=a.insertCell(1),i=document.createElement("select");for(i.id="selectRole",i.className="cnt-Roles",idx=0;idx<$j(e).find("res").length;idx++){$j(e).find("res")[idx].innerHTML==undefined?sRoles=$j(e).find("res")[idx].textContent:sRoles=$j(e).find("res")[idx].innerHTML;var o="Page Name : ";n.innerHTML="<span class='cnt-Rolelabel'><img src='../AxpImages/icons/16x16/Add.png' id='imgAddPage' class='handCursor' onclick='AddPage();'> <img src='../AxpImages/icons/16x16/delete.png' id='imgDelete' class='handCursor' onclick='DeleteLandingPage();'> Role :  ";var r="option"+idx;(r=document.createElement("option")).text=sRoles,i.appendChild(r)}n.appendChild(i);l.innerHTML="<div class= 'cnt-Select'>"+o+'<input type ="text" runat ="server" width = "300px" id ="txtRoleLandPage" onchange="GetPageName();"/>(Tstruct/Iview/DashBoard)</div>'}function DeleteLandingPage(){var e=document.getElementById("imgDelete");$j(e).closest("tr").remove(),--addRowsCount<=0&&($j("#imgAdd").css("display","block"),$j("#imgAdd").css("margin-left","320px"),$j("#imgAdd").css("margin-top","-10px"))}function AddPage(){var e=document.getElementById("imgAddPage");$j(e).closest("tr").clone(!0).insertAfter("#AddRow"),addRowsCount++}function GetPageName(){var e=$j("#txtRoleLandPage").val(),t=$j("#hdnLandingPages").val(),a=$j("#hdnRoleName").val();""!=$j("#hdnLandingPages").val()?$j("#hdnLandingPages").val(t+"~"+e):$j("#hdnLandingPages").val(e);var n=$j("#selectRole").find("option:selected").text();""!=a?$j("#hdnRoleName").val(a+"~"+n):$j("#hdnRoleName").val(n)}var waitDialogUntilFormLoad=!0;function SetLangFromAxLangSrc(){var e=$j("#hdnAxLangSrc").val();if(e.length>0){var t="",a=0,n=e.split(",");for(a=0;a<n.length;a++)t+='<div class="form-group form-switch form-check form-check-custom form-check-solid col-md-6">\n                <span class="form-check-label form-label col-form-label pb-1 fw-boldest ms-0">'.concat(capitalizeFirstLetter(n[a]),'</span>\n                <a href="javascript:void(0);" class="form-check form-switch form-check-solid ms-auto m-0 ps-0 py-4">\n                    <input type="checkbox" class="form-check-input ms-3 w-40px h-25px" name="optLang" value="').concat(n[a].toLowerCase(),'" />\n                </a>\n            </div>');$j("#dvLangs").append(t)}else $("input[name=optLang]").filter('[value="english"]').prop("checked",!0).attr("disabled",!0)}function SetLangConfigs(e){""!=e&&3==$j("input[name="+e+"]").length&&($j("input[name="+e+"]")[0].value=$j("#txtAppTitle").val(),$j("input[name="+e+"]")[1].value=$j("#txtCopyRightText").val(),$j("input[name="+e+"]")[2].value=$j("#txtPrintTitle").val())}function ConstructLangVals(){var e="";$j("#dvLangInputs").children("input").each(function(){var t=$j(this);""==e?e=t.attr("id")+":"+t.val():e+="♦"+t.attr("id")+":"+t.val()}),$j("#hdnLangVals").val(e)}function PopulateLangConfigs(){ConstructLangInputs();var e=$j("#langSelect").find("option:selected").val().toUpperCase().substring(0,3);""!=e&&($j("#txtAppTitle").val($j("input[name="+e+"]")[0].value),$j("#txtCopyRightText").val($j("input[name="+e+"]")[1].value),$j("#txtPrintTitle").val($j("input[name="+e+"]")[2].value))}function ConstructLangInputs(){var e=GetSelectedLang().toString(),t=$j("#hdnLangKeys").val().split("♦"),a="",n=0,l=0;for(n=0;n<e.split(",").length;n++)for(langCode=e.split(",")[n].toUpperCase().slice(0,3),l=0;l<t.length;l++){var i=t[l].split(":")[0].toString()+"_"+langCode,o=t[l].split(":")[1].toString();$j("input#"+i).length||(a+="<input type='hidden' id='"+i+"' name='"+langCode+"' value='"+o+"' />")}$j("#dvLangInputs").append(a)}function SetMenuVal(){$("#rdoMenu").val($("input[name=optMenu]:checked").val())}function GetSelectedLang(){var e="";return $("input[name=optLang]:checked").each(function(){""==e?e=$(this).val():e+=","+$(this).val()}),e}function GetSelectedLangText(){var e="";return $("input[name=optLang]:checked").each(function(){""==e?e=capitalizeFirstLetter($(this).val()):e+=","+capitalizeFirstLetter($(this).val())}),e}function GetConfigVals(){ShowDimmer(!0),TrimWhiteSpaces();try{$("#hdnTrace").val($("input[name=optTrace]:checked").val()),$("#hdnMenu").val($("input[name=optMenu]:checked").val()),$j("#hdnBreadcrumb").val($j("#optBcrum").prop("checked").toString()),1==$j("#enableCardsText").prop("checked")?$j("#hdnEnableCards").val("true"):$j("#hdnEnableCards").val("false"),1==$j("#enableErrorMsgText").prop("checked")?$j("#hdnEnableErrorMsg").val("true"):($j("#hdnEnableErrorMsg").val("false"),$("#txtErrorTimeout").val(0)),1==$j("#showSubmitCancel1").prop("checked")?$j("#showSubmitCancel").val("true"):$j("#showSubmitCancel").val("false"),1==$j("#ckbEnabledDraft").prop("checked")?$j("#hdnEnableDrafts").val("true"):$j("#hdnEnableDrafts").val("false"),1==$j("#ckbAutoPurge").prop("checked")?$j("#hdnAutoPurge").val("true"):$j("#hdnAutoPurge").val("false"),1==$j("#chkAutoSavePublish").prop("checked")?$j("#hdnAutoSavePublish").val("true"):$j("#hdnAutoSavePublish").val("false"),1==$j("#enabletallyText").prop("checked")?$j("#hdnTallyExport").val("true"):$j("#hdnTallyExport").val("false"),1==$j("#enablelblcpwdText").prop("checked")?$j("#hdnCPOFL").val("true"):$j("#hdnCPOFL").val("false"),1==$j("#enablelblsessText").prop("checked")?$j("#hdnSessExt").val("true"):$j("#hdnSessExt").val("false"),1==$j("#allowTimezone").prop("checked")?$j("#hdnAllowTimeZone").val("true"):$j("#hdnAllowTimeZone").val("false"),$("#enablelSplit").prop("checked")?$j("#hdnDisableSplit").val("true"):$j("#hdnDisableSplit").val("false"),$("#hdnActSess").val($("input[name=optActSess]:checked").val()),$("#hdnLanguage").val(GetSelectedLang()),$("#optUserLang").prop("checked")?$j("#hdnUserLevelLang").val("true"):$j("#hdnUserLevelLang").val("false"),$("#hdnCulture").val($("input[name=optCulture]:checked").val()),1==$j("#enableDevInstance").prop("checked")?$j("#hdnDevInstance").val("true"):$j("#hdnDevInstance").val("false"),1==$j("#enableautognrText").prop("checked")?$j("#hdnAutoGen").val("true"):$j("#hdnAutoGen").val("false"),1==$j("#enablelblslctText").prop("checked")?$j("#hdnIsPerfCode").val("true"):$j("#hdnIsPerfCode").val("false"),1==$j("#enableoptdcgridText").prop("checked")?$j("#hdnDcGridOnSave").val("true"):$j("#hdnDcGridOnSave").val("false"),$("#hdnIsPrintExe").val($("input[name=optexe]:checked").val()),1==$j("#enabletextwrapc5Text").prop("checked")?$j("#hdnTextWrap").val("true"):$j("#hdnTextWrap").val("false"),$("#hdnDbPagination").val($("input[name=optDbP]:checked").val()),1==$j("#enabletitledwn").prop("checked")?$j("#hdnShowAppTitle").val("true"):$j("#hdnShowAppTitle").val("false"),1==$j("#enablestripedreport").prop("checked")?$j("#hdnShowstripedreport").val("true"):$j("#hdnShowstripedreport").val("false"),$("#hdnPrintMargins").val($("#pmleft").val()+","+$("#pmright").val()+","+$("#pmtop").val()+","+$("#pmbottom").val());var e="";$j("#ms-designerResp .ms-elem-selection.ms-selected").each(function(){""==e?e=$(this).find("span")[0].innerHTML.trim():e+=","+$(this).find("span")[0].innerHTML.trim()}),$("#hdnDesignerResp").val(e);var t="";$j("#ms-homeBuildResp .ms-elem-selection.ms-selected").each(function(){""==t?t=$(this).find("span")[0].innerHTML.trim():t+=","+$(this).find("span")[0].innerHTML.trim()}),$("#hdnHomeBuildResp").val(t),GetMenuVals(),enableAutoCom==$("#hdnIsPerfCode").val()&&actionBtnPos==$("#showSubmitCancel").val()||FlushRedisKeys()}catch(a){console.log(a.message)}}function GetMenuVals(){"all"==$("input[name=axMenuSubmenuCnt]:checked").val()?$j("#hdnSubMenuCount").val("all"):$j("#hdnSubMenuCount").val($j("#txtSubMenuCnt").val()),"all"==$("input[name=axMenuDirSubmenuCnt]:checked").val()?$j("#hdnDirSubMenuCount").val("all"):$j("#hdnDirSubMenuCount").val($j("#txtDirSubMenuCnt").val()),1==$j("#axMenuWrapText").prop("checked")?$j("#hdnMenuWrapText").val("true"):$j("#hdnMenuWrapText").val("false")}function SetConfigVals(){try{$("input[name=optTrace]").filter('[value="'+$("#hdnTrace").val()+'"]').prop("checked",!0),$("input[name=optMenu]").filter('[value="'+$("#hdnMenu").val()+'"]').prop("checked",!0),$j("#optBcrum").prop("checked","true"==$("#hdnBreadcrumb").val()),"true"==$("#hdnEnableCards").val()?$j("#enableCardsText").prop("checked",!0):$j("#enableCardsText").prop("checked",!1),"true"==$("#hdnEnableErrorMsg").val()?($j("#enableErrorMsgText").prop("checked",!0),$j("#divErrorTimeOut").show()):($j("#enableErrorMsgText").prop("checked",!1),$j("#divErrorTimeOut").hide()),"true"==$("#showSubmitCancel").val()?$j("#showSubmitCancel1").prop("checked",!0):$j("#showSubmitCancel1").prop("checked",!1),"true"==$("#hdnEnableDrafts").val()?$j("#ckbEnabledDraft").prop("checked",!0):$j("#ckbEnabledDraft").prop("checked",!1),"true"==$("#hdnAutoPurge").val()?$j("#ckbAutoPurge").prop("checked",!0):$j("#ckbAutoPurge").prop("checked",!1),"true"==$("#hdnAutoSavePublish").val()?$j("#chkAutoSavePublish").prop("checked",!0):$j("#chkAutoSavePublish").prop("checked",!1),"true"==$j("#hdnTallyExport").val()?$j("#enabletallyText").prop("checked",!0):$j("#enabletallyText").prop("checked",!1),"true"==$j("#hdnCPOFL").val()?$j("#enablelblcpwdText").prop("checked",!0):$j("#enablelblcpwdText").prop("checked",!1),"true"==$j("#hdnSessExt").val()?$j("#enablelblsessText").prop("checked",!0):$j("#enablelblsessText").prop("checked",!1),"true"==$j("#hdnAllowTimeZone").val()?$j("#allowTimezone").prop("checked",!0):$j("#allowTimezone").prop("checked",!1),"true"==$("#hdnDisableSplit").val()?$j("#enablelSplit").prop("checked",!0):$j("#enablelSplit").prop("checked",!1),$("input[name=optActSess]").filter('[value="'+$("#hdnActSess").val()+'"]').prop("checked",!0);var e=$("#hdnLanguage").val();if(e!=undefined&&""!=e)for(var t=e.split(","),a=0;a<t.length;a++)$("input[name=optLang]").filter('[value="'+t[a]+'"]').prop("checked",!0);"true"==$("#hdnUserLevelLang").val()?$("#optUserLang").prop("checked",!0):$("#optUserLang").prop("checked",!1),$("input[name=optCulture]").filter('[value="'+$("#hdnCulture").val()+'"]').prop("checked",!0),"true"==$j("#hdnDevInstance").val()?$j("#enableDevInstance").prop("checked",!0):$j("#enableDevInstance").prop("checked",!1),"true"==$j("#hdnAutoGen").val()?$j("#enableautognrText").prop("checked",!0):$j("#enableautognrText").prop("checked",!1),"true"==$j("#hdnIsPerfCode").val()?$j("#enablelblslctText").prop("checked",!0):$j("#enablelblslctText").prop("checked",!1),"true"==$j("#hdnDcGridOnSave").val()?$j("#enableoptdcgridText").prop("checked",!0):$j("#enableoptdcgridText").prop("checked",!1),$("input[name=optexe]").filter('[value="'+$("#hdnIsPrintExe").val()+'"]').prop("checked",!0),"true"==$j("#hdnTextWrap").val()?$j("#enabletextwrapc5Text").prop("checked",!0):$j("#enabletextwrapc5Text").prop("checked",!1),$("input[name=optDbP]").filter('[value="'+$("#hdnDbPagination").val()+'"]').prop("checked",!0),"true"==$j("#hdnShowAppTitle").val()?$j("#enabletitledwn").prop("checked",!0):$j("#enabletitledwn").prop("checked",!1),"true"==$j("#hdnShowstripedreport").val()?$j("#enablestripedreport").prop("checked",!0):$j("#enablestripedreport").prop("checked",!1);var n="";if(""!=$("#hdnPrintMargins").val())try{n=$("#hdnPrintMargins").val().split(","),$("#pmleft").val(n[0]),$("#pmright").val(n[1]),$("#pmtop").val(n[2]),$("#pmbottom").val(n[3])}catch(l){}ShowDesignerResp(),ShowHomeBuildResp(),SetLangKeys(),SetMenuVals()}catch(l){console.log(l.message)}}function SetMenuVals(){var e=$j("#hdnSubMenuCount").val();isNaN(e)?$("input[name=axMenuSubmenuCnt]").filter('[value="all"]').prop("checked",!0):($("input[name=axMenuSubmenuCnt]").filter('[value="lim"]').prop("checked",!0),$j("#txtSubMenuCnt").val(e));var t=$j("#hdnDirSubMenuCount").val();isNaN(t)?$("input[name=axMenuDirSubmenuCnt]").filter('[value="all"]').prop("checked",!0):($("input[name=axMenuDirSubmenuCnt]").filter('[value="lim"]').prop("checked",!0),$j("#txtDirSubMenuCnt").val(t)),"true"==$j("#hdnMenuWrapText").val()?$j("#axMenuWrapText").prop("checked",!0):$j("#axMenuWrapText").prop("checked",!1)}function SetLangKeys(){var e=$j("#hdnLangVals").val().split("♦"),t="",a="",n=0;for(n=0;n<e.length;n++)if(""!=e[n].toString()){var l=e[n].split(":")[0].toString(),i=e[n].split(":")[1].toString();t=l.slice(l.length-3,l.length),$j("input#"+l).length||(a+="<input type='hidden' id='"+l+"' name='"+t+"' value='"+i+"' />")}$j("#dvLangInputs").append(a)}function ChangeTheme(){var theme="";if(theme=eval(callParent("currentThemeColor")),""!=theme)$j("#themecss").attr("href","../App_Themes/"+theme+"/Stylesheet.min.css?v=23");else{var themeref="";window.opener&&(themeref=$j("#themecss",window.opener.document).attr("href"),""!=themeref&&$j("#themecss").attr("href",themeref)),parent.parent.document&&(themeref=$j("#themecss",parent.parent.document).attr("href"),""!=themeref&&$j("#themecss").attr("href",themeref)),""!=themeref&&themeref!=undefined||(themeref="../App_Themes/"+axTheme+"/Stylesheet.min.css?v=23",$j("#themecss").attr("href",themeref))}}function ValidateNumeric(e){var t=$j(e).val();if(""!=t){if(!$j.isNumeric(t)||t<1)return showAlertDialog("error",1039,"client"),$j(e).val(""),$j(e).focus(),!1;$j(e).val(Math.round(Number(t)))}return!0}function TrimWhiteSpaces(){$j("#txtAppTitle").val($j("#txtAppTitle").val().trim()),$j("#txtCopyRightText").val($j("#txtCopyRightText").val().trim()),$j("#txtPrintTitle").val($j("#txtPrintTitle").val().trim()),$j("#txtMaxRowsToPrint").val($j("#txtMaxRowsToPrint").val().trim()),$j("#txtPageRowCount").val($j("#txtPageRowCount").val().trim()),$j("#txtAlertTimeout").val($j("#txtAlertTimeout").val().trim()),$j("#txtGlobalSrchLimit").val($j("#txtGlobalSrchLimit").val().trim()),$j("#txtImpEmpTmpPath").val($j("#txtImpEmpTmpPath").val().trim()),$j("#txtIviewDataWSRows").val($j("#txtIviewDataWSRows").val().trim()),$j("#txtMaxDraftsCount").val($j("#txtMaxDraftsCount").val().trim()),$j("#txtExePath").val($j("#txtExePath").val().trim()),$j("#txtPrintPath").val($j("#txtPrintPath").val().trim()),$j("#txtMaxNumOfWidgets").val($j("#txtMaxNumOfWidgets").val().trim())}function ShowDimmer(e){DimmerCalled=!0;var t=$j("#waitDiv");if(t.length>0&&t!=undefined)if(1==e){var a=$j("#middle1",parent.document);a&&t.width(a.width()),t.show(),document.onkeydown=function(){return!1}}else t.hide(),document.onkeydown=function(){if(1==DimmerCalled)return!0};else window.opener!=undefined&&(t=$j("#waitDiv",window.opener.document)).length>0&&(1==e?t.show():t.hide());DimmerCalled=!1}function FlushRedisKeys(){$.ajax({type:"POST",url:"../aspx/FastDataUtility.aspx/FlushAll",contentType:"application/json;charset=utf-8",data:"{}",dataType:"json",failure:function(e){console.log(e.d+"failure")},error:function(e){console.log(e.d+"error")}})}function CheckRequiredFields(){var e=!0;if($j("ul.nav-tabs li.active").length&&1==$j("ul.nav-tabs li.active").length)if("liReports"==$j("ul.nav-tabs li.active").attr("id"))$j("input#txtMaxRowsToPrint, input#txtPageRowCount, input#txtIviewDataWSRows").each(function(){var t=$(this).val();if(!$j.isNumeric(t)||""==t||t<1?(showAlertDialog("error",1039,"client"),$(this).val(""),e=!1):"txtIviewDataWSRows"==$(this).attr("id")&&t<1e3?(showAlertDialog("error",callParentNew("lcm")[384]),$(this).val(1e3),e=!1):"txtPageRowCount"==$(this).attr("id")&&Math.floor($("#txtIviewDataWSRows").val()/2)<t&&(showAlertDialog("error",callParentNew("lcm")[385]),$(this).val(30),e=!1),!e)return $j("div#headingfive").addClass("active"),$j("div#collapsefive").addClass("in"),$(this).focus(),!1});else if("liForms"==$j("ul.nav-tabs li.active").attr("id"))$j("input#pmtop, input#pmright, input#pmbottom, input#pmleft").each(function(){var t=$(this).val();if(!$j.isNumeric(t)||""==t||t<1)return showAlertDialog("error",1039,"client"),$j("div#headingfour").addClass("active"),$j("div#collapsefour").addClass("in"),$(this).val(""),$(this).focus(),e=!1,!1});else if("liApplication"==$j("ul.nav-tabs li.active").attr("id")){0==$j("input[name=optLang]:checked").length&&(showAlertDialog("error",1009,"client"),$j("div#headingTwo").addClass("active"),$j("div#collapseTwo").addClass("in"),$("input[name=optLang]")[0].focus(),e=!1);parseInt($("#txtAlertTimeout").val());var t=$("#txtAlertTimeout").val();if(t<1||t>10)return showAlertDialog("error",callParentNew("lcm")[388]),$("#txtAlertTimeout").focus(),e=!1,!1;if(1==$j("#enableErrorMsgText").prop("checked")){parseInt($("#txtErrorTimeout").val());var a=$("#txtErrorTimeout").val();if(0!=a&&""!=a||$("#txtErrorTimeout").val(0),a<1||a>10)return showAlertDialog("error",callParentNew("lcm")[388]),$("#txtErrorTimeout").focus(),e=!1,!1}var n=$("#txtGlobalSrchLimit").val();if(n<10||n>1e4)return showAlertDialog("error",callParentNew("lcm")[391]),$("#txtGlobalSrchLimit").focus(),e=!1,!1}else"liDeveloper"==$j("ul.nav-tabs li.active").attr("id")&&$j("input#txtMaxNumOfWidgets").each(function(){var t=$(this).val();return!$j.isNumeric(t)||""==t||t<1?(showAlertDialog("error",1039,"client"),$j("div#headingsix").addClass("active"),$j("div#collapsesix").addClass("in"),$(this).val(""),$(this).focus(),e=!1,!1):t>100?(showAlertDialog("error",1040,"client"),$j("div#headingsix").addClass("active"),$j("div#collapsesix").addClass("in"),$j(this).val(""),$j(this).focus(),e=!1,!1):void 0});e&&(ConstructLangSel(),SetLangConfigs($j("#langSelect").find("option:selected").val().toUpperCase().substring(0,3)),ConstructLangVals());return e}function ConstructLangSel(){var e=GetSelectedLang().toString(),t=GetSelectedLangText().toString(),a="";$("#langSelect").children("option").each(function(){""==a?a=$(this).val():a+=","+$(this).val()});var n=e.split(","),l=t.split(",");if(1===n.length||lockPage!=undefined&&"true"==lockPage.toLowerCase()?$("#langSelect").attr("disabled",!0):$("#langSelect").attr("disabled",!1),n.length!=$("#langSelect").children("option").length||e.toUpperCase()!=a.toUpperCase()){for(var i="",o="",r=0;r<n.length;r++)o=n[r].toString().slice(n[r].toString().length-3,n[r].toString().length),i+=" <option value='"+n[r].toString()+"' >"+l[r].toString()+"</option>",SetLangConfigs(o);$("#langSelect").html(""),$("#langSelect").append(i),PopulateLangConfigs()}}function loadDefaultValues(){var cutMsg=eval(callParent("lcm[75]")),glType=eval(callParent("gllangType")),isRTL=!1;isRTL="ar"==glType;var loadDefaultValuesCB=$.confirm({theme:"modern",closeIcon:!1,title:eval(callParent("lcm[155]")),onContentReady:function(){disableBackDrop("bind"),$(".jconfirm-buttons button").each(function(){var e=$(this).text();$(this).prop("title",e.charAt(0).toUpperCase()+e.slice(1))}),$(".jconfirm-buttons .hotbtn").focus()},rtl:isRTL,backgroundDismiss:!0,escapeKey:"buttonB",content:cutMsg,buttons:{buttonA:{text:eval(callParent("lcm[164]")),btnClass:"btn btn-primary",action:function(){window.location.href="Configuration.aspx?reStoreDefault=true"}},buttonB:{text:eval(callParent("lcm[192]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){}}}})}function SuccessButtonClicked(e){if(""!=e)return window.location=e,!1}function OnNavException(e){ShowDimmer(!1),showAlertDialog("error",e._message)}function SuccessGetAxResponsibilities(e){if(1==e.status){var t=e.data;if(t!=undefined&&t.length>0)for(var a=0;a<t.length;a++){var n=t[a].toString().split(",");if(""!=n&&n.length>0)for(var l=0;l<n.length;l++)$.inArray(n[l],arrAppResp)<0&&arrAppResp.push(n[l])}arrAppResp.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}),ConstructResponsibilityFields()}else showAlertDialog("error",e.errMsg),console.log(e),valSessByApi(e)}function ConstructResponsibilityFields(){if(arrAppResp!=undefined&&arrAppResp.length>0){for(var e="",t=0;t<arrAppResp.length;t++)e+=" <option value='"+arrAppResp[t].toString()+"' >"+arrAppResp[t].toString()+"</option>";""!=e&&($("#homeBuildResp").append(e),$("#designerResp").append(e)),$("#homeBuildResp").multiSelect("refresh"),$("#designerResp").multiSelect("refresh"),ShowDesignerResp(),ShowHomeBuildResp()}}function ShowDesignerResp(){var e=$("#hdnDesignerResp").val();e!=undefined&&""!=e&&($j("#ms-designerResp .ms-elem-selection").each(function(){for(var e=$("#hdnDesignerResp").val().split(","),t=0;t<e.length;t++)if($j(this).find("span")[0].innerHTML.trim()==e[t].trim()){$j(this).addClass("ms-selected"),$j(this).removeAttr("style");break}}),$j("#ms-designerResp .ms-elem-selectable").each(function(){for(var e=$("#hdnDesignerResp").val().split(","),t=0;t<e.length;t++)if($j(this).find("span")[0].innerHTML.trim()==e[t].trim()){$j(this).addClass("ms-selected"),$j(this).css("display","none");break}}))}function ShowHomeBuildResp(){var e=$("#hdnHomeBuildResp").val();e!=undefined&&""!=e&&($j("#ms-homeBuildResp .ms-elem-selection").each(function(){for(var e=$("#hdnHomeBuildResp").val().split(","),t=0;t<e.length;t++)if($j(this).find("span")[0].innerHTML.trim()==e[t].trim()){$j(this).addClass("ms-selected"),$j(this).removeAttr("style");break}}),$j("#ms-homeBuildResp .ms-elem-selectable").each(function(){for(var e=$("#hdnHomeBuildResp").val().split(","),t=0;t<e.length;t++)if($j(this).find("span")[0].innerHTML.trim()==e[t].trim()){$j(this).addClass("ms-selected"),$j(this).css("display","none");break}}))}function createSrcAutoComp(){var e=[];ddlLanguage=$j("#ddlLanguage").val(),""!=ddlLanguage?($("#ddlSource").autocomplete({minLength:0,selectFirst:!0,autoFocus:!0,source:function(t,a){$.ajax({type:"POST",url:"../WebService.asmx/FormAutoComplete",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({FldValue:"",fltValue:t.term,ddlLanguage:ddlLanguage}),dataType:"json",success:function(t){var n=$.parseJSON(t.d);e=[],$(n).each(function(t,a){e.push(a.item+"~"+a.status)}),a($.map(e.slice(0,50),function(e){return{label:e.split("~")[0],value:e.split("~")[0],link:e.split("~")[1]}}))}})},appendTo:"#lblddlsource",open:function(e,t){var a=$(this).closest(".ui-dialog");a.length>0&&$(".ui-autocomplete.ui-front").zIndex(a.zIndex()+1),$(this).offset().top+200>$(".scrolldiv").outerHeight()+$(".scrolldiv").scrollTop()&&$(".scrolldiv").scrollTop($(this).offset().top)},select:function(t,a){var l=$("#ddlSource").val(),i=a.item.value,o=$("#ddlLanguage").val(),r=[];for(n=0;n<e.length;n++){var s=e[n].split("~");r.push(s[0])}$.inArray(l,r)>-1&&GetTextsdata(l,o),gethtmldiv(i,o)}}).data("ui-autocomplete")._renderItem=function(e,t){var a="";return a="yes"==t.link?'<div><span><img  class="customtransicon" src="../axpimages/ico_translate.png" /></span>'+t.label+"</div>":'<div><span><img class="customtransicon" src="../axpimages/failure icon.png"/></span>'+t.label+"</div>",$("<li></li>").data("ui-autocomplete-item",t).append(a).appendTo(e)},$("#ddlSource").data("uiAutocomplete")?$("#ddlSource").focus().autocomplete("search",""):createSrcAutoComp()):$("#ddlLanguage").focus()}function createLangAutoComp(){var e=[];$("#ddlLanguage").autocomplete({minLength:0,selectFirst:!0,autoFocus:!0,source:function(t,a){var n=$("#hdnAxLangSrc").val();0!=(e=n.toLowerCase().split(",")).length&&a($.map(e,function(e){return{label:e=e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),value:e}}))},appendTo:"#lblddlLanguage",open:function(e,t){var a=$(this).closest(".ui-dialog");a.length>0&&$(".ui-autocomplete.ui-front").zIndex(a.zIndex()+1),$(".scrolldiv").scrollTop(300)},select:function(t,a){var n=$("#ddlLanguage").val(),l=a.item.value,i=$("#ddlSource").val();$.inArray(n,e)>-1&&GetTextsdata(i,n),validate()&&gethtmldiv(i,l)}}),$("#ddlLanguage").data("uiAutocomplete")?$("#ddlLanguage").focus().autocomplete("search",$("#ddlLanguage").val()):createLangAutoComp()}function gethtmldiv(e,t){$.ajax({type:"POST",url:"../WebService.asmx/FileXml",data:'{ddlsource:"'+e+'" ,ddlLanguage: "'+t+'" }',contentType:"application/json; charset=utf-8",dataType:"json",success:OnSuccess,failure:function(e){showAlertDialog("error",e.d)}})}function OnSuccess(e){var t;""!=(t=e.d)&&($("#dvContent").empty(),$("#dvContent").append(t))}function validate(){return""!=$j("#ddlSource").val()||($("#ddlLanguage").focus(),!1)}function savefile(e,t,a){$.ajax({type:"POST",url:"../WebService.asmx/SaveLanFileData",dataType:"json",data:{ddlSource:e.toString(),ddlLanguage:t.toString(),textvalue:a.toString()},success:function(e){},error:function(e){}})}function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function GetTextsdata(e,t){""==e&&""==t&&(e=$("#ddlSource").val(),t=$("#ddlLanguage").val());var a=[];for(idx=0;idx<$("#dvContent textarea[id^=txt]").length;idx++)a=a+$("#dvContent textarea[id^=txt]")[idx].value+"♠";validate()&&a.length>0&&savefile(e,t,htmlEntities(a))}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)}function handleChange(e){e.value<1&&(e.value=1),e.value>99&&(e.value=99)}function LockConfigPage(){$("#form1 input").prop("disabled",!0),$(".ms-list li").prop("disabled",!0),$(".form-group select").prop("disabled",!0),$(".form-group label.tgl-btn").css("cssText","background:#eee !important"),$(".file-upload .file-select").css("border","2px solid #ddd8d8"),$(".file-upload .file-select .file-select-button").css("background","#b1b1b1"),void 0!==callParentNew("mainUserName")&&"admin"==callParentNew("mainUserName")&&($("#btnUnlock").prop("disabled",!1).css("display","block"),$("#btnRestore").css("display","none"),$("#btnSave").css("display","none"))}function UnlockPage(){UnlockConfigApp({forceUnlock:!0,cb:function(){ReloadPage()}})}function ReloadPage(){var e=parent.$("#iFrameGlobalSettings");e.attr("src",e.attr("src"))}$(document).ready(function(){var lang=capitalizeFirstLetter($j("#hdnLanguage").val());if(""!=$j("#hdnAxLangSrc").val())var otherLang=capitalizeFirstLetter($j("#hdnAxLangSrc").val());var arrLangs=[];arrLangs.push(lang),""!=$j("#hdnAxLangSrc").val()&&arrLangs.push(otherLang),$("#langSelect").select2({data:arrLangs}),"english"==lang.toLowerCase()&&""==$j("#hdnAxLangSrc").val()&&$("#langSelect").attr("disabled","true"),PopulateLangConfigs(),$(".swtchDummyAnchr").on("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||$(this).find("input.tgl").click()}),$("#enableErrorMsgText").change(function(){$(this).is(":checked")?$("#divErrorTimeOut").show():$("#divErrorTimeOut").hide()}),$("#btnSave").prop({value:eval(callParent("lcm[200]")),title:eval(callParent("lcm[200]"))}),$("#btnRestore").prop({value:eval(callParent("lcm[246]")),title:eval(callParent("lcm[246]"))}),$("#btnUnlock").prop({value:eval(callParent("lcm[386]")),title:eval(callParent("lcm[386]"))}),$(".confignav li").each(function(){$(this).prop("title",$(this).find("span").text())}).click(function(){$(".confignav li").each(function(){$(this).removeClass("firstFocusable")}),navTabFocus($(this).attr("data-menu-id"),"btnRestore",$(this).attr("data-div-id"))}),SetLangFromAxLangSrc(),navTabFocus("menu1Header","btnRestore","home"),$(window).keydown(function(e){if(0==$(e.target).closest("a").length&&13==e.keyCode)return $(".jconfirm").length>0||($(e.target).hasClass("allow-enter-key")&&$(e.target).click(),e.preventDefault(),!1)}),$('input[type="text"], input[type="radio"], input[type="checkbox"], select').each(function(e){$(this).change(function(){$(this).addClass("dirty")})}),checkSuccessAxpertMsg(),"ar"===callParentNew("gllangType")&&($("head").append('<link rel="stylesheet" href="../ThirdParty/bootstrap_rtl.min.css" type="text/css" />'),$("[data-toggle=popover]").each(function(){$(this).data("placement","left")})),SetConfigVals(),$("body").on("click",function(e){$("[data-toggle=popover]").each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||$(this).popover("hide")})}),$("[data-toggle=popover]").mousedown(function(){$(this).popover("toggle")}),$j("ul.nav-tabs li a").click(function(){if(!CheckRequiredFields())return!1;"#menu5"==$(this).attr("href")?$j("#btnRestore").css("display","none"):$j("#btnRestore").removeAttr("style")}),$j("ul.nav-tabs li a#tabGlobe").click(function(){PopulateLangConfigs()}),$("#langSelect").on("change",function(){PopulateLangConfigs()}),$("#langSelect").on("focus",function(){SetLangConfigs(this.value.toUpperCase().substring(0,3))}),enableAutoCom=$("#hdnIsPerfCode").val(),actionBtnPos=$("#showSubmitCancel").val(),$("#axMenuStyleSel").change(function(){"custom"===$(this).val()?($("#axCustomMenuInfo").find("input").prop("disabled",!1),$("#axCustomMenuInfo").find("select").prop("disabled",!1),$("#axCustomMenuInfo").find("#lblaxMenuWrapText").removeClass("tglSwtchdisabled")):($("#axCustomMenuInfo").find("input").prop("disabled",!0),$("#axCustomMenuInfo").find("select").prop("disabled",!0),$("#axCustomMenuInfo").find("#axMenuColCount").val("3"),$("#axCustomMenuInfo").find("#axMenusubCntPerView").val(6).prop("disabled",!0),$("#axCustomMenuInfo").find("#axMenuWrapText").prop({disabled:!0,checked:!0}),$("input[name='axMenuSubmenuCnt']:eq(1)").prop("checked",!0),$("input[name='axMenuSubmenuCnt']:eq(1)").parents(".radio").find(".menuInlineInpFld").val(4),$("input[name='axMenuDirSubmenuCnt']:eq(1)").prop("checked",!0),$("input[name='axMenuDirSubmenuCnt']:eq(1)").parents(".radio").find(".menuInlineInpFld").val(6),$("#axCustomMenuInfo").find("#lblaxMenuWrapText").addClass("tglSwtchdisabled"),$j("#axMenuWrapText").prop("checked",!1))}),$("#axMenuColCount").change(function(){$("#axMenusubCntPerView").val(2*$(this).val())}),$("input[name='axMenuDirSubmenuCnt'],input[name='axMenuSubmenuCnt']").change(function(){var e=$(this);"all"===e.val()?e.parents(".radio").next().find("input.menuInlineInpFld").prop("disabled",!0):e.parents(".radio").find("input.menuInlineInpFld").prop("disabled",!1)}),"custom"!==$("#axMenuStyleSel").val()&&($("#axCustomMenuInfo").find("input").prop("disabled",!0),$("#axCustomMenuInfo").find("select").prop("disabled",!0),$("#axCustomMenuInfo").find("#axMenuColCount").val("3"),$("#axCustomMenuInfo").find("#axMenusubCntPerView").val(6).prop("disabled",!0),$("#axCustomMenuInfo").find("#axMenuWrapText").prop({disabled:!0,checked:!0}),$("input[name='axMenuSubmenuCnt']:eq(1)").prop("checked",!0),$("input[name='axMenuSubmenuCnt']:eq(1)").parents(".radio").find(".menuInlineInpFld").val(4),$("input[name='axMenuDirSubmenuCnt']:eq(1)").prop("checked",!0),$("input[name='axMenuDirSubmenuCnt']:eq(1)").parents(".radio").find(".menuInlineInpFld").val(6),$("#axCustomMenuInfo").find("#lblaxMenuWrapText").addClass("tglSwtchdisabled"),$j("#axMenuWrapText").prop("checked",!1)),$("#axMenusubCntPerView").blur(function(){var e=$("#axMenusubCntPerView").val();(e<=1||e>99)&&($("#axMenusubCntPerView").val(""),$("#axMenusubCntPerView").val(2*$("#axMenuColCount").val()))}),$("#txtDirSubMenuCnt").blur(function(){var e=$("#txtDirSubMenuCnt").val();(e<1||e>99)&&$("#txtDirSubMenuCnt").val(10)}),$("#txtSubMenuCnt").blur(function(){var e=$("#txtSubMenuCnt").val();(e<1||e>99)&&$("#txtSubMenuCnt").val(10)}),$(".panel-title a").click(function(){"true"===$(this).attr("aria-expanded")?$(this).attr("title","Expand"):$(this).attr("title","Hide")}),$("#UploadAppImg").change(function(){var Filename=$("#UploadAppImg"),filesize=Filename[0].files[0].size/1024/1024,ext=$("#UploadAppImg").val().split(".").pop().toLowerCase();"mp4"==ext||"webm"==ext?filesize>10?(showAlertDialog("warning",eval(callParent("lcm[306]"))),$("#UploadAppImg").val("")):$("#lblnofile").text(Filename[0].value):filesize>5?(showAlertDialog("warning",eval(callParent("lcm[304]"))),$("#UploadAppImg").val("")):-1==$.inArray(ext,["gif","png","jpg","jpeg","mp4"])?(showAlertDialog("warning",eval(callParent("lcm[305]"))),$("#UploadAppImg").val("")):$("#lblnofile").text(Filename[0].value)}),$("#UploadAppLogoImg").change(function(){var File=$("#UploadAppLogoImg"),size=File[0].files[0].size/1024/1024,ext=$("#UploadAppLogoImg").val().split(".").pop().toLowerCase();size>1?(showAlertDialog("warning",eval(callParent("lcm[82]"))),$("#UploadAppLogoImg").val("")):-1==$.inArray(ext,["gif","png","jpg","jpeg"])?(showAlertDialog("warning",eval(callParent("lcm[305]"))),$("#UploadAppLogoImg").val("")):$("#lblnofile3").text(File[0].value)}),$("#UploadAppMobImg").change(function(){var File=$("#UploadAppMobImg"),size=File[0].files[0].size/1024/1024,ext=$("#UploadAppMobImg").val().split(".").pop().toLowerCase();size>1?(showAlertDialog("warning",eval(callParent("lcm[82]"))),$("#UploadAppMobImg").val("")):-1==$.inArray(ext,["gif","png","jpg","jpeg"])?(showAlertDialog("warning",eval(callParent("lcm[305]"))),$("#UploadAppMobImg").val("")):$("#lblnofile2").text(File[0].value)}),$("#txtCopyRightText").on("keypress",function(e){32!==e.which||this.value.length||e.preventDefault()," "==$("#txtCopyRightText").val()[0]&&$("#txtCopyRightText").val($.trim($("#txtCopyRightText").val()))}),setTimeout(function(){waitDialogUntilFormLoad=!1},250),$("[data-toggle=popover]").popover({trigger:"manual"}),$("[data-toggle=popover]").on("mouseenter",function(e){$(this).popover("show")}),lockPage!=undefined&&"true"==lockPage.toLowerCase()&&LockConfigPage(),$("#enableErrorMsgText").change(function(){$(this).is(":checked")?($("#divErrorTimeOut").show(),$("#txtErrorTimeout").focus()):$("#divErrorTimeOut").hide()})});