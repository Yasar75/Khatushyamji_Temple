/*www.agilecloud.biz/minZIP?v=3.5*/function TreeViewNodeClick(){}function LoadWF(){Sys.WebForms.PageRequestManager.getInstance().add_endRequest(EndRequestHandler)}function EndRequestHandler(e,t){if(t.get_error()==undefined){var l=$j("#hdnListWf"),n=$j("#hdnLoadSubType");if("List"==l.val()||"true"==n.val()){var d=$j("#hdnLvlValues"),a=$j("#hdnSubTypeDet");if("true"==n.val()&&a&&""!=a.val()&&d.val(a.val()),""!=d){var i=d.val().split("♣");wfLevels.length=0,LvlDetails.length=0;for(var o=0;o<i.length;o++)""!=i[o]&&(wfLevels.push(o),LvlDetails.push(i[o]))}DisplayWFDetails(),DisplaySubTypeDet(),l.val("")}else"true"==l.val()?DisplayWFDetails():(ShowDimmer(!1),AxWaitCursor(!1))}else document.body.style.cursor="default",showAlertDialog("error",1022,"client",t.get_error().message);ShowDimmer(!1),AxWaitCursor(!1)}$j(document).ready(function(){$("#headerWorkflow").text(callParentNew("lcm")[398]),$j(".RootNodeCss").click(function(){TreeViewNodeClick()}),adjustwin(window),AddNewLevel(),checkSuccessAxpertMsg()});var cIndex=0;function DisplaySubTypeDet(){var e=document.getElementById("hdnCondTxt").value;if(""!=e){var t="";if(""!=e.indexOf("|")){t=e.split("|");for(var l=0;l<t.length;l++)SetCondDetails(t[l])}else SetCondDetails(t)}}var oldCond="";function SetCondDetails(e){var t=e.split("^");if(cIndex==undefined||"0"==cIndex){var l=$j("#ddlFilter"),n=($j("#ddlFilcond"),$j("#txtFilter")),d=$j("#filVal2");$j("#ddlFilcond option").each(function(){$j(this).text()==t[1]&&$j(this).attr("selected","selected")}),l.val(t[0]),n.val(t[2]),d.val(t[3]),""!=t[4]&&(oldCond=t[4]),null!=(a=document.getElementById("rad"+t[4]+cIndex))&&(a.checked=!0),cIndex++}else{var a;AddNewCondition(),(a=document.getElementById("rad"+t[4]+cIndex)).checked=!0,cIndex++;l=$j("#ddlFilter"+cIndex),n=$j("#txtFilter"+cIndex),d=$j("#txtFillVal"+cIndex),$j("#ddlOpr"+cIndex);a=$j("#grpAndOr"+cIndex),$j("#ddlOpr"+cIndex+" option").each(function(){$j(this).text()==t[1]&&$j(this).attr("selected","selected")}),l.val(t[0]),n.val(t[2]),d.val(t[3]),""!=t[4]&&(oldCond=t[4]),cIndex++}}function validate(obj1,obj2,obj3,obj4,obj5){var err="";0==obj1[obj1.selectedIndex].value&&(err+=eval(callParent("lcm[141]"))),0==obj2[obj2.selectedIndex].value&&(err+=eval(callParent("lcm[142]"))),0==obj3[obj3.selectedIndex].value&&(err+=eval(callParent("lcm[143]"))),0==obj4[obj4.selectedIndex].value&&(err+=eval(callParent("lcm[144]"))),0==obj5[obj5.selectedIndex].value&&(err+=eval(callParent("lcm[145]"))),""!=err&&showAlertDialog("warning",err)}function CheckNumeric(e,t){var l=e.which?e.which:event.keyCode,n=t.length;return 46==l&&n>0&&(l=49),!(l>31&&(l<48||l>57))}function CheckAction(){var e=$j("#TxtDays"),t=$j("#TxtHrs"),l=$j("#ddlActions");""!=e.val()&&!isNaN(e.val())&&parseInt(e.val())>0||""!=t.val()&&!isNaN(t.val())&&parseInt(t.val())>0?l.prop("disabled",!1):(l.prop("disabled",!0),l.attr("selectedIndex",-1))}function CheckMandatory(e){for(var t=0,l=$j("#ChkMandatory"),n=0;n<e.length;n++)1==e.options[n].selected&&(t+=1);t>1?(l.attr("disabled",!1),l.parent().attr("disabled",!1)):(l.attr("disabled",!0),l.parent().attr("disabled",!0),l.attr("checked",!1))}function CheckRole(e){var t=document.getElementById("gvWorkFlow");e+=1;var l=t.rows[e].cells[1].childNodes[0];l.disabled=!0;var n=t.rows[e].cells[0].childNodes[0],d=0,a=0;for(d=0;d<n.nextSibling.length;d++)1==n.nextSibling[d].selected&&a++;a>1?(l.disabled=!1,l.nextSibling.firstChild.disabled=!1,l.nextSibling.removeAttribute("disabled")):(l.disabled=!0,l.checked=!1,l.nextSibling.firstChild.disabled=!0,l.nextSibling.firstChild.checked=!1)}function CheckActions(e){var t=document.getElementById("gvWorkFlow");e+=1;var l=t.rows[e].cells[6].childNodes[0],n=t.rows[e].cells[7].childNodes[0],d=t.rows[e].cells[9].childNodes[0];""!=l.value&&!isNaN(l.value)&&parseInt(l.value)>0||""!=n.value&&!isNaN(n.value)&&parseInt(n.value)>0?d.disabled=!1:(d.disabled=!0,d.selectedIndex=-1)}function ShowCondDiv(){if(0!=document.getElementById("ddlTst").selectedIndex){var e=document.getElementById("dvCondition");"block"==e.style.display?e.style.display="none":e.style.display="block"}else showAlertDialog("warning",1023,"client")}function ToggleFilterDiv(e){var t=document.getElementById("dvNewrow"),l=document.getElementById("tblFilter");t&&l.rows.length>0&&("block"==t.style.display?(e.src="AxpImages/icons/16x16/expandwt.png",t.style.display="none",e.alt="Show"):(e.src="AxpImages/icons/16x16/collapsewt.png",t.style.display="block",e.alt="Hide"))}function AddNewCondition(){var e=document.getElementById("tblFilter"),t=($j("#tblFilter tr").length,"0"),l=document.getElementById("FilterRowCount");l&&(t=l.value);var n=(parseInt(t)+1).toString(),d=e.appendChild(document.createElement("tr"));if(window.chrome){$j("#tblpanel").css("margin-left","6.8em");var a=d.insertCell();if((y=document.createElement("a")).id="delAnc"+n,y.href="javascript:DeleteCondition('"+n+"');",y.className="ancLink",(I=document.createElement("img")).src="../AxpImages/icons/16x16/delete.png",I.id="delCond"+n,I.className="curHand",y.appendChild(I),a.appendChild(y),n=(parseInt(n)+1).toString(),a=d.insertCell(),(x=document.createElement("input")).type="text",x.id="txtFillVal"+n,x.className="lblTxt",x.disabled="disabled",x.style.width="160px",a.appendChild(x),a=d.insertCell(),(x=document.createElement("input")).type="text",x.id="txtFilter"+n,x.className="lblTxt",x.style.width="160px",a.appendChild(x),a=d.insertCell(),(h=document.createElement("select")).id="ddlOpr"+n,h.className="lblTxt",h.setAttribute("onchange","CheckFilterCond("+n+")"),a.appendChild(h),(g=document.getElementById("ddlOpr"+n)).length=0,g)if((f=document.getElementById("ddlFilcond")).length>0)for(var i=0;i<f.length;i++){(b=document.createElement("option")).text=f.options[i].text,b.value=f.options[i].value,g.options.add(b)}a=d.insertCell();if((m=document.createElement("select")).id="ddlFilter"+n,m.className="lblTxt",m.style.width="120px",a.appendChild(m),(v=document.getElementById("ddlFilter"+n)).length=0,v)if((p=document.getElementById("ddlFilter")).length>0)for(i=0;i<p.length;i++){(b=document.createElement("option")).text=p.options[i].text,b.value=p.options[i].value,v.options.add(b)}var o=d.insertCell();(r=document.createElement("input")).type="radio",r.name="grpAndOr"+n,r.id="radAnd"+n,r.value="And",(c=document.createElement("input")).type="radio",c.name="grpAndOr"+n,c.id="radOr"+n,c.value="Or",o.appendChild(r),(s=document.createElement("span")).innerText="And",o.appendChild(s),o.appendChild(c),(s=document.createElement("span")).innerText="Or",o.appendChild(s),o.style.align="right",(u=document.getElementById("radOr"+n))&&(u.checked=!0),l.value=n}else{$j("#tblpanel").css("margin-left","6.6em");var r,c,s,u;o=d.insertCell();(r=document.createElement("input")).type="radio",r.name="grpAndOr"+n,r.id="radAnd"+n,r.value="And",(c=document.createElement("input")).type="radio",c.name="grpAndOr"+n,c.id="radOr"+n,c.value="Or",o.appendChild(r),(s=document.createElement("span")).innerText="And",o.appendChild(s),o.appendChild(c),(s=document.createElement("span")).innerText="Or",o.appendChild(s),o.style.align="right",(u=document.getElementById("radOr"+n))&&(u.checked=!0),n=(parseInt(n)+1).toString();var m,v,p,h,g,f,x,y,I;a=d.insertCell();if((m=document.createElement("select")).id="ddlFilter"+n,m.className="lblTxt",m.style.width="120px",a.appendChild(m),(v=document.getElementById("ddlFilter"+n)).length=0,v)if((p=document.getElementById("ddlFilter")).length>0)for(i=0;i<p.length;i++){(b=document.createElement("option")).text=p.options[i].text,b.value=p.options[i].value,v.options.add(b)}if(a=d.insertCell(),(h=document.createElement("select")).id="ddlOpr"+n,h.className="lblTxt",h.style.width="173px",h.setAttribute("onchange","CheckFilterCond("+n+")"),a.appendChild(h),(g=document.getElementById("ddlOpr"+n)).length=0,g)if((f=document.getElementById("ddlFilcond")).length>0)for(i=0;i<f.length;i++){var b;(b=document.createElement("option")).text=f.options[i].text,b.value=f.options[i].value,g.options.add(b)}a=d.insertCell(),(x=document.createElement("input")).type="text",x.id="txtFilter"+n,x.className="lblTxt",x.style.width="160px",a.appendChild(x),a=d.insertCell(),(x=document.createElement("input")).type="text",x.id="txtFillVal"+n,x.className="lblTxt",x.style.width="160px",x.disabled="disabled",a.appendChild(x),a=d.insertCell(),(y=document.createElement("a")).id="delAnc"+n,y.href="javascript:DeleteCondition('"+n+"');",y.className="ancLink",(I=document.createElement("img")).src="../AxpImages/icons/16x16/delete.png",I.id="delCond"+n,I.className="curHand",y.appendChild(I),a.appendChild(y),l.value=n}}function ValidatePreviousCondition(e){return 0==e&&(e=""),""!=$j("#ddlFilter"+e).val()&&""!=$j("#ddlFilcond").val()&&""!=$j("#ddlOpr"+e).val()&&""!=$j("#txtFilter"+e).val()&&(!(e>0&&"between"==$j("#ddlOpr"+e).val().toLowerCase()&&""==$j("#txtFillVal"+e).val())&&(""!=e||"between"!=$j("#ddlFilcond").val().toLowerCase()||""!=$j("#filVal2").val()))}function ConvertToExpr(e,t,l,n,d){l=l.toLowerCase();var a=!1;":"==n.substring(0,1)&&(a=!0);var i="";if("less than or equal to"==l||"greater than or equal to"==l){var o="";o="less than or equal to"==l?" < ":" > ",i=a?"("+e+o+(n=n.substring(1))+") | ("+e+"="+n+")":"Date/Time"==t?"("+e+o+"ctod({"+n+"})) | ("+e+" = ctod({"+n+"}))":"Numeric"==t?"("+e+o+n+") | ("+e+"="+n+")":"("+e+o+"{"+n+"}) | ("+e+"={"+n+"})"}else if("not equal to"==l||"equal to"==l){o="";o="not equal to"==l.toLowerCase()?" # ":" = ",i=a?"("+e+o+(n=n.substring(1))+")":"Date/Time"==t?"("+e+o+" ctod({"+n+"}))":"Numeric"==t?"("+e+o+n+")":"("+e+o+"{"+n+"})"}else if("less than"==l||"greater than"==l){o="";o="less than"==l?" < ":" > ",i=a?"("+e+o+(n=n.substring(1))+")":"Date/Time"==t?"("+e+o+"ctod({"+n+"}))":"Numeric"==t?"("+e+o+n+")":"("+e+o+"{"+n+"})"}else if("between"==l){var r=!1;r=":"==d.substring(0,1),a&&r?(i="(("+e+" > "+(n=n.substring(1))+") | ("+e+"="+n+")) & ",i+="(("+e+" < "+(d=d.substring(1))+") | ("+e+"="+d+"))"):a&&!r?(n=n.substring(1),"Date/Time"==t?(i="(("+e+">"+n+") | ("+e+"="+n+")) & ",i+="(("+e+"< ctod({"+d+"})) | ("+e+" = ctod({"+d+"})))"):(i="(("+e+" < "+n+") | ("+e+"="+n+")) & ",i+="(("+e+" < "+d+") | ("+e+"="+d+")))")):!a&&r?(d=d.substring(1),"Date/Time"==t?(i="(("+e+" > ctod({"+n+"})) | ("+e+" = ctod({"+n+"})) & ",i+="(("+e+" < "+d+") | ("+e+"="+d+")))"):(i="(("+e+" > "+n+") | ("+e+" = "+n+"))) & ",i+="(("+e+" < "+d+") | ("+e+" = "+d+")))")):"Date/Time"==t?(i="((("+e+" > ctod({"+n+"})) | ("+e+" = ctod({"+n+"}))) & ",i+="(("+e+" < ctod({"+d+"})) | ("+e+" = ctod({"+d+"}))))"):(i="((("+e+" > "+n+") | ("+e+" = "+n+")) & ",i+="(("+e+" < "+d+") | ("+e+" = "+d+")))")}return i}function ConvertToExprStr(e,t,l,n,d){return"between"==l.toLowerCase()?"("+t+" ( "+e+" ) "+l+" "+n+","+d+")":"("+t+" ( "+e+" ) "+l+" "+n+")"}function SaveWFCondition(){var e=document.getElementById("tblFilter");rowCount=e.rows.length;var t=document.getElementById("ddlFldTypes"),l="";l+="iif(";for(var n="",d="",a="",i="",o=0;o<=2*rowCount;o++){if(0==o)var r=document.getElementById("ddlFilter"),c=document.getElementById("ddlFilcond"),s=document.getElementById("txtFilter"),u=document.getElementById("filVal2");else{if(o%2==0)r=document.getElementById("ddlFilter"+o),s=document.getElementById("txtFilter"+o),u=document.getElementById("txtFillVal"+o),c=document.getElementById("ddlOpr"+o);if(o>0){var m="grpAndOr"+o;if(d=document.getElementsByName(m))for(var v=0;v<d.length;v++)d[v].checked&&(a=d[v].value)}}if(0==o)if(0==r.selectedIndex||0==c.selectedIndex||""==s.value)return""==$j("#lblCond").text()?(showAlertDialog("warning",1024,"client"),!1):(document.getElementById("hdnSubTypeCond").value=$j("#lblCond").text(),!0);var p=r.value,h=r[r.selectedIndex].textContent,g=(c.value,s.value),f=u.value,x=c[c.selectedIndex].innerText;0!=r.selectedIndex&&0!=c.selectedIndex&&""!=s.value&&(0!=o&&o%2!=0||("iif("==l?(l+=ConvertToExpr(p,t[r.selectedIndex].textContent,x,g,f),n+=ConvertToExprStr(p,h,x,g,f)):("Or"==a?(n+=" Or ",l+=" | "):"And"==a&&(n+=" And ",l+=" & "),n+=ConvertToExprStr(p,h,x,g,f),l+=ConvertToExpr(p,t[r.selectedIndex].textContent,x,g,f)),x=CheckSpecialCharsInXml(x),""==i?i=p+"^"+x+"^"+g+"^"+(""==f?"":f+"^")+a:i+="|^"+a+"^"+p+"^"+x+"^"+g+"^"+(""==f?"":f)))}return l+=",{T},{F})",document.getElementById("hdnSubTypeCond").value=l,document.getElementById("hdnCondTxt").value=i,$j("#hdnDisplayCond").val(n),!0}function SaveSubType(){var e=document.getElementById("tblFilter");rowCount=e.rows.length;var t=document.getElementById("ddlFldTypes"),l="";l+="iif((";for(var n="",d="",a="",i=0;i<=rowCount;i++){if(0==i)var o=document.getElementById("ddlFilter"),r=document.getElementById("ddlFilcond"),c=document.getElementById("txtFilter"),s=document.getElementById("filVal2");else{o=document.getElementById("ddlFilter"+i),c=document.getElementById("txtFilter"+i),s=document.getElementById("txtFillVal"+i),r=document.getElementById("ddlOpr"+i);if(i>0){var u="grpAndOr"+i;if(n=document.getElementsByName(u))for(var m=0;m<n.length;m++)n[m].checked&&(d=n[m].value)}}if(0==i)if(0==o.selectedIndex||0==r.selectedIndex||""==c.value)return""==$j("#lblCond").text()?(showAlertDialog("warning",1024,"client"),!1):(document.getElementById("hdnSubTypeCond").value=$j("#lblCond").text(),!0);var v=o.value,p=(r.value,c.value),h=s.value,g=r[r.selectedIndex].innerText;0!=o.selectedIndex&&0!=r.selectedIndex&&""!=c.value&&(0!=i&&i%2!=0||("iif(("==l?l+=ConvertToExpr(v,t[o.selectedIndex].textContent,g,p,h):("Or"==d?l+="|":"And"==d&&(l+="&"),l+=ConvertToExpr(v,t[o.selectedIndex].innerText,g,p,h)),g=CheckSpecialCharsInXml(g),""==a?a=v+"^"+g+"^"+p+(""==h?"":"^"+h+"^")+d:a+="|"+v+"^"+g+"^"+p+(""==h?"":"^"+h+"^")+d))}return l+="), {T},{F})",document.getElementById("hdnSubTypeCond").value=l,document.getElementById("hdnCondTxt").value=a,!0}function SetWFCondition(e){var t=document.getElementById("tblFilter");if(rowCount=t.rows.length,!(rowCount>0))for(var l=e.split("|"),n=1,d=0;d<l.length;d++){var a,i,o,r,c=l[d].split("^"),s="";if(d>0&&(s=2*d),0==d?(a=$j("#ddlFilter"),i=$j("#ddlFilcond"),o=$j("#txtFilter"),r=$j("#filVal2"),a.val(c[0]),a[0]!=undefined&&$j("#"+a[0].id).find("option").each(function(){$j(this).text()==c[0]&&$j(this).attr("selected","selected")}),i.val(c[1]),i[0]!=undefined&&$j("#"+i[0].id).find("option").each(function(){$j(this).text()==c[1]&&$j(this).attr("selected","selected")}),o.val(c[2]),r.val(c[3]),""!=c[3]&&(r[0].disabled=!1)):(a=$j("#ddlFilter"+s),o=$j("#txtFilter"+s),r=$j("#txtFillVal"+s),i=$j("#ddlOpr"+s),a.val(c[1]),a[0]!=undefined&&$j("#"+a[0].id).find("option").each(function(){$j(this).text()==c[1]&&$j(this).attr("selected","selected")}),i.val(c[2]),i[0]!=undefined&&$j("#"+i[0].id).find("option").each(function(){$j(this).text()==c[2]&&$j(this).attr("selected","selected")}),o.val(c[3]),r.val(c[4]),""!=c[4]&&(r[0].disabled=!1)),d<l.length-1&&AddNewCondition(),d>0){var u=1;if(d>0&&""==c[0]&&(c[0]="Or"),window.chrome)u=2*d,$j("#rad"+c[0]+u).prop("checked",!0);else $j("#rad"+c[0]+n).prop("checked",!0);n+=2}}}function CheckSpecialCharsInXml(e){return e=(e=(e=(e=(e=(e=e).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")}function DeleteCondition(e){e%2!=0&&(e=parseInt(e)+1);for(var t=$j("#tblFilter tr").length,l=e;l<2*t;l++){var n=parseInt(l)+2,d=parseInt(n)-1,a=parseInt(l)-1;$j("#ddlFilter"+l).val($j("#ddlFilter"+n).val()),0==$j("#ddlOpr"+l).length?$j("#ddlFilcond"+l).val($j("#ddlFilcond"+n).val()):$j("#ddlOpr"+l).val($j("#ddlOpr"+n).val()),$j("#txtFilter"+l).val($j("#txtFilter"+n).val()),$j("#txtFillVal"+l).val($j("#txtFillVal"+n).val()),$j("#radAnd"+d).is(":checked")?$j("#radAnd"+a).prop("checked",!0):$j("#radOr"+a).prop("checked",!0)}var i=document.getElementById("FilterRowCount");i&&(i.value-=2),document.getElementById("tblFilter").deleteRow(t-1)}function CheckFilterCond(e){if(-1==e){var t=document.getElementById("ddlFilcond"),l=document.getElementById("filVal2");"between"==t.value?l.disabled=!1:(l.disabled=!0,l.value="")}else{var n=$j("#"+("ddlOpr"+e)).val(),d="txtFillVal"+e,a=document.getElementById(d);"between"==n?a.disabled=!1:(a.value="",a.disabled=!0)}}function RemoveLevel(e,t){wfLevels.splice(t,1),HideDiv(e),adjustwin(window)}function HideDiv(e){document.getElementById(e).style.display="none"}function ConstructLevelHtml(e){var t="dvLevel"+e,l="";return l+="<div id='dvLevel"+e+"' class='wfLevel'><div class='leftPane'><table style='width:35%'><tr><td><select id='ddlUser"+e+"' Width='225px' class='lblTxt'>",l+="<option>All users</option><option>Reporting to user</option>",l+="<option>All users in this branch</option><option>All users in this department</option>",l+="<option>All users in this region</option></select></td><td><label id='lblRole"+e+"'>In Role </label> &nbsp;<select id='ddlRole"+e+"' class='lblTxt'>",l+="<option></option></select></td></tr><tr><td colspan='2'><input type='checkbox' id='chkReturn"+e+"' checked=true />",l+="<label>User can return the document</label></td></tr><tr><td colspan='2'><input type='checkbox' id='chkReject"+e+"' checked=true />",l+="<label>User can reject the document</label></td></tr>",l+="</table></div>",l+="<div class='rightPane'><a id='lnkInsert"+e+"' class='handCur lnk' href=\"javascript:InsertNewLevel('"+e+"', '"+(parseInt(e,10)+1)+"');adjustwin(window);\">Insert</a>&nbsp;&nbsp;",l+="<a class='handCur lnk' href=\"javascript:RemoveLevel('"+t+"', '"+e+"');\">Remove</a> &nbsp;",l+="</div></div>"}function AddNewLevel(){var e=document.getElementById("hdnLevelCnt"),t=0;""!=e.value&&(t=e.value);var l=ConstructLevelHtml(t);$j("#dvLevels").append(l),wfLevels.push(t.toString()),e.value=parseInt(t,10)+1;var n=document.getElementById("ddlRoles");if(n.length>0)for(var d=document.getElementById("ddlRole"+t),a=0;a<n.length;a++){var i=document.createElement("option");i.text=n.options[a].text,i.value=n.options[a].value,d.options.add(i)}}function DisplayWFDetails(){document.getElementById("dvLevels").innerHTML="";for(var e=0;e<LvlDetails.length;e++)SetNewLevel(LvlDetails[e],e);adjustwin(window)}function ClearLevels(){ShowDimmer(!0),document.getElementById("dvLevels").innerHTML="";new Array,new Array;$j("#subtypeName").val(""),$j("#ddlFilcond").val(""),$j("#txtFilter").val(""),$j("#filVal2").val(""),AddNewLevel()}function SetNewLevel(e,t){document.getElementById("hdnLevelCnt");var l=ConstructLevelHtml(t);$j("#dvLevels").append(l);var n="",d=e.split("¿");d[1]&&(n=d[1]);var a=document.getElementById("ddlRoles");if(a.length>0)for(var i=document.getElementById("ddlRole"+t),o=0;o<a.length;o++){var r=document.createElement("option");r.text=a.options[o].text,r.value=a.options[o].value,r.text==n&&(r.selected="true"),i.options.add(r)}for(var c=document.getElementById("ddlUser"+t),s=0;s<c.length;s++)if(c.options[s].innerText==d[0]){c.selectedIndex=s;break}var u=document.getElementById("chkReject"+t);"true"==d[2]||"y"==d[2]?u.checked=!0:u.checked=!1;var m=document.getElementById("chkReturn"+t);"true"==d[3]||"y"==d[3]?m.checked=!0:m.checked=!1}function InsertNewLevel(e,t){var l="",n=document.getElementById("hdnLevelCnt"),d=GetIndexOf(e);t=wfLevels.length+1,wfLevels.splice(d,0,t),n.value=wfLevels.length+1;for(var a=0;a<wfLevels.length;a++)if(wfLevels[a]==t)l+=ConstructLevelHtml(t);else{var i=document.getElementById("dvLevel"+wfLevels[a]);i&&(l+=i.outerHTML)}document.getElementById("dvLevels").innerHTML=l;var o=document.getElementById("ddlRoles");if(o.length>0){var r=document.getElementById("ddlRole"+t);for(a=0;a<o.length;a++){var c=document.createElement("option");c.text=o.options[a].text,c.value=o.options[a].value,r.options.add(c)}}}function GetIndexOf(e){for(var t=-1,l=0;l<wfLevels.length;l++)if(wfLevels[l]==e){t=l;break}return t}function SaveLevel(e){var t=document.getElementById("txtWorkflowName").value;wfNames.push(t);var l=document.getElementById("ddlUser"+e),n=document.getElementById("ddlRole"+e),d=document.getElementById("chkReturn"+e),a=document.getElementById("chkReject"+e),i=l.options[l.selectedIndex].innerText,o=n.options[n.selectedIndex].innerText,r="false";1==d.checked&&(r="true");var c="false";1==a.checked&&(c="true");var s;s=i+", "+o+", "+r+", "+c,wfLevels.push(s)}function LoadWf(e){if(""!=e.value){var t=document.getElementById("btnLoadWorkflow");t&&t.click()}}function ShowWfList(){document.getElementById("")}function SetList(){document.getElementById("hdnListWf").value="List"}function SetSelectedWf(e){e&&(document.getElementById("txtWorkflowName").value=e.innerText)}function ClearEntryText(){var e=document.getElementById("subtypeName");"Enter a sub type name"==e.value&&(e.value="")}function ValidateSubType(){var e=document.getElementById("ddlSubType"),t=document.getElementById("subtypeName"),l=document.getElementById("hdnValidate");return 0!=e.selectedIndex||""!=t.value&&"Enter a sub type name"!=t.value?(l.value="true",!0):(showAlertDialog("warning",1025,"client"),l.value="false",!1)}function GetRoleData(){if(!SaveSubType())return!1;var e=document.getElementById("hdnLevelCnt");parseInt(e.value,10);for(var t="",l=0;l<wfLevels.length;l++){var n=wfLevels[l],d=document.getElementById("ddlUser"+n),a=document.getElementById("ddlRole"+n),i=document.getElementById("chkReturn"+n),o=document.getElementById("chkReject"+n);a&&""!=a.value&&(t+=""==t?a.value+"¿"+o.checked+"¿"+i.checked+"¿"+d[d.selectedIndex].innerText:"♣"+a.value+"¿"+o.checked+"¿"+i.checked+"¿"+d[d.selectedIndex].innerText)}document.getElementById("hdnWrkLevel").value=t}function SetBtnCap(e){$j("#btnSave").length>0&&("edit"==e?$j("#btnSave").attr("value","Update"):$j("#btnSave").attr("value","Submit"))}function EditCond(){$j("#subtypeName").val($j("#ddlSubType").val())}function ShowDimmer(e){DimmerCalled=!0;var t=$j("#waitDiv");if(t.length>0&&t!=undefined)if(1==e){var l=$j("#middle1",parent.document);l&&t.width(l.width()),t.show(),document.onkeydown=function(){return!1}}else t.hide(),document.onkeydown=function(){if(1==DimmerCalled)return!0};else window.opener!=undefined&&(t=$j("#waitDiv",window.opener.document)).length>0&&(1==e?t.show():t.hide());DimmerCalled=!1}