/*http://demo.agile-labs.com/minZIP/*//*version=3.8.1*/!function($){var imagePath="../images/builder/",animationSetTimeout,defaultTitleHtmlLayout="#TITLE_ICON# #TITLE_NAME#";function getPanelHtml(_ref){var templateObj=_ref.templateObj,idx=_ref.idx,type=_ref.type,title=_ref.title,target=_ref.target,_ref$isFirstTime=_ref.isFirstTime,isFirstTime=void 0===_ref$isFirstTime?"":_ref$isFirstTime,scenaRio=_ref.scenaRio,_ref$targetType=_ref.targetType,targetType=void 0===_ref$targetType?{t:"",tg:""}:_ref$targetType,_ref$isExpanding=_ref.isExpanding,isExpanding=void 0!==_ref$isExpanding&&_ref$isExpanding,calledFrom=_ref.calledFrom,isMyPage=_ref.isMyPage,_ref$isWidgetHidden=_ref.isWidgetHidden,isWidgetHidden=void 0!==_ref$isWidgetHidden&&_ref$isWidgetHidden,_ref$liveWidgetId=_ref.liveWidgetId,liveWidgetId=void 0===_ref$liveWidgetId?"":_ref$liveWidgetId,_ref$isRefreshableWid=_ref.isRefreshableWidget,isRefreshableWidget=void 0!==_ref$isRefreshableWid&&_ref$isRefreshableWid,_ref$paginationButton=_ref.paginationButtons,paginationButtons=void 0!==_ref$paginationButton&&_ref$paginationButton,_ref$flipCard=_ref.flipCard,flipCard=void 0!==_ref$flipCard&&_ref$flipCard,_ref$widgetSearch=_ref.widgetSearch,widgetSearch=void 0!==_ref$widgetSearch&&_ref$widgetSearch,_ref$breadCrumb=_ref.breadCrumb,breadCrumb=void 0!==_ref$breadCrumb&&_ref$breadCrumb,hid=_ref.hid,totalCards=templateObj.cc||1;totalCards=parseInt(totalCards);var repeatLastWidget=templateObj.repeatLastWidget;idx+=1;var templateIdx=idx;if(repeatLastWidget)templateIdx>totalCards&&(templateIdx=totalCards);else for(;templateIdx>totalCards;)templateIdx-=totalCards;var presCardTemplate=templateObj.cf[templateIdx-1],heightOfCard=presCardTemplate.ht||"300px",widthOfTheCard=presCardTemplate.wd||"m3 l3",brRadius=presCardTemplate.br||"4px",ttrPosition=presCardTemplate.tr.p||"top",menuStyle=presCardTemplate.ms||"classic",finalHtml="",iconClass="icon-paper-plane",statusIndicatorIcon="",statusIndicatorColorClass="",toolTip="",statusIndicator="",classToAdd="",cardClickClass="";if("homeBuild"===presBuiildMode){iconClass=_getDefaultIcons(type);var _getStatusIndicator2=_getStatusIndicator(scenaRio),statusIndicatorIcon=_getStatusIndicator2.statusIndicatorIcon,statusIndicatorColorClass=_getStatusIndicator2.statusIndicatorColorClass,toolTip=_getStatusIndicator2.toolTip,statusIndicator=_getStatusIndicator2.statusIndicator}else"homeRun"===presBuiildMode&&(cardClickClass="cardClick","widget"!=type&&"Custom__mytsk"!=type&&(classToAdd="pointerMe"));(isRefreshableWidget||paginationButtons||flipCard||widgetSearch)&&!enableSlick&&(classToAdd+=" showButtonsOnHover");var menuTargetType="",menuTarget="",showMenu=!1,htmlToReturn="";if(htmlToReturn+='<div data-widthclass = "'+widthOfTheCard+'" data-cardidx ='+(idx-1)+' id="'+target+'Wrapper" data-target="'+target+'" data-type="'+type+'" class="col '+(widthOfTheCard.indexOf("s")>-1?"":" s12 ")+widthOfTheCard+" "+isFirstTime+" "+classToAdd+' ui-state-default">',htmlToReturn+='<div style="border-radius:'.concat(brRadius,';" class="card hoverable ').concat(isWidgetHidden?"hidden":""," ").concat(enableSlick?"enableSlick":""," widgetStatus-").concat(statusIndicatorColorClass,'">'),!liveWidgetId)if("modern"===menuStyle&&(htmlToReturn+='<button class="modernCardMenu waves-effect waves-light btn-flat"><span class="icon-ellipsis"></span></button>'),"homeBuild"===presBuiildMode)isMyPage?(htmlToReturn+='<div class="hideTheWidget"></div>',htmlToReturn+='<button type="button" title="'.concat(isWidgetHidden?"Show Widget":"Hide Widget",'" class="cardTitleClear widgetFloatingBtn saveHideBtn red waves-effect btn-floating right"><i class="').concat(isWidgetHidden?"icon-eye-crossed":"icon-eye",'"></i></button>')):(htmlToReturn+='<button type="button" title="Delete Widget" class="cardTitleClear widgetFloatingBtn titleLessCardTitleClear  red waves-effect btn-floating right"><i class="icon-cross2"></i></button>',htmlToReturn+='<span class="widgetStatusIndicator">'+statusIndicator+"</span>");else if("homeRun"===presBuiildMode){isExpanding&&!enableSlick&&(htmlToReturn+='<button title="Expand" type="button" onclick="zoomInTheWidget(\''+target+"Wrapper','"+isExpanding+'\');" class="cardTitleClear titleLessCardTitleClear  red waves-effect btn-floating right"><i class="icon-expand"></i></button>');var footerBtnsHTML="";if(isRefreshableWidget&&!enableSlick){var onclickAction="ajaxCallObj.getAxpertWidgetDetails({ tId:'".concat(target,"', widgetId:").concat(target.substr(6),", refreshWidget:true, cacheWidget:true, calledFrom:'refreshWidget',wgHid:'").concat(hid,"'})");"Custom__sql"===type||"Custom__mytsk"===type?onclickAction="ajaxCallObj.fireMySql('', '".concat(target,"Wrapper','','refreshWidget','").concat(hid,"');"):"iview"===type&&(onclickAction="ajaxCallObj.getIviewDataNew({ target:'".concat(target,"',calledFrom:'refreshWidget',customParams:'',isPagination:false,page:'undefined',ivHid:'").concat(hid,"' });")),footerBtnsHTML+='\n                                <button title="Refresh Widget" onclick="'.concat(onclickAction,'" class="hoverButton waves-effect waves-light btn-flat">\n                                    <i class="icon-refresh"></i>\n                                </button>\n                            ')}flipCard&&!enableSlick&&(footerBtnsHTML+='\n                                <button title="Filters" onclick="flipAndshowFlitersInWidget({target:\''.concat(target,'\'})" class="hoverButton  waves-effect flipNShowParams waves-light btn">\n                                    <i class="icon-funnel"></i>\n                                </button>\n                            ')),widgetSearch&&(footerBtnsHTML+='\n                                <button title="Search" onclick="createInlineWidgetSearch({target:\''.concat(target,'\'})" class="hoverButton  waves-effect waves-light btn">\n                                    <i class="icon-magnifier"></i>\n                                </button>\n                            ')),paginationButtons&&(footerBtnsHTML+='<div class="prevNextBtnWrapper">\n                                <button title="Previous" class="hoverButton prevButton waves-effect waves-light btn">\n                                    <i class="icon-chevron-left"></i>\n                                </button>\n                                <button title="Next" class="hoverButton nextButton waves-effect waves-light btn">\n                                    <i class="icon-chevron-right"></i>\n                                </button>\n                                </div>\n                            ');var showHoverButtons=!0;"Custom__dynamic"===type&&(showHoverButtons=!1),htmlToReturn+='<div class="'.concat(showHoverButtons?"":"hide",' widgetFooterHoverButtons">').concat(footerBtnsHTML,"</div>")}liveWidgetId&&isExpanding&&!enableSlick&&(htmlToReturn+='<button title="Expand" type="button" onclick="zoomInTheWidget(\''+target+"Wrapper','"+isExpanding+'\');" class="cardTitleClear titleLessCardTitleClear  red waves-effect btn-floating right"><i class="icon-expand"></i></button>'),"top"===ttrPosition&&(htmlToReturn+=_getTitleRegion({iconClass:iconClass,title:title,templateObj:presCardTemplate})),"homeRun"===presBuiildMode&&breadCrumb&&(htmlToReturn+='\n                        <div class="widgetBreadCrumb">\n                            <span class="bCrumb">cars</span>\n                            <span class="bCrumb">Bike Sales</span>\n                            <span class="bCrumb">Transactions</span>\n                            <span class="bCrumb">Reports</span>\n                            <span class="bCrumb">Iview</span>\n                        </div>\n                    ');var cardContentMainWrapper='<div style="height:'+heightOfCard+";border-bottom-left-radius:"+brRadius+";border-bottom-right-radius:"+brRadius+';" class="heightOfcardContentMainWrapper cardContentMainWrapper">';if(liveWidgetId){var url="";"tstruct"===type?url="tstruct.aspx?transid="+liveWidgetId:"iview"===type&&(url="ivtoivload.aspx?ivname="+liveWidgetId),cardContentMainWrapper+='<iframe id="homePageFrame'.concat(idx-1,'" name="middle1" frameborder="0" scrolling="no" class="" allowtransparency="True" height="100%" width="100%" src="').concat(url,'"></iframe>')}if(-1!==type.indexOf("Custom__")?(menuTargetType=targetType.t,menuTarget=targetType.tg):(menuTargetType=type,menuTarget=targetType.tg),!liveWidgetId)if("modern"==menuStyle&&(cardContentMainWrapper+=_getMenuHtml({calledFrom:calledFrom,targetType:menuTargetType,target:menuTarget,menuStyle:menuStyle,title:title})),"tstruct"==type)cardContentMainWrapper+='<div class="card-image '.concat(cardClickClass,'">'),cardContentMainWrapper+='<img src="'.concat(imagePath,'/sample.png">'),cardContentMainWrapper+="</div>",cardContentMainWrapper+='<div class="card-content '.concat(cardClickClass,' imgCard">'),cardContentMainWrapper+="<p>"+title+"</p>",cardContentMainWrapper+="</div>";else if("iview"==type||"widget"==type)cardContentMainWrapper+='<div class="'.concat(cardClickClass," card-content ").concat(type,'">'),cardContentMainWrapper+='<div class="cardContentData">',cardContentMainWrapper+="</div>",cardContentMainWrapper+='<div class="cardContentLoader valign-wrapper">',cardContentMainWrapper+='<div class="preloader-wrapper small active">',cardContentMainWrapper+='<div class="spinner-layer themeBorderColor spinner-green-only">',cardContentMainWrapper+='<div class="circle-clipper left">',cardContentMainWrapper+='<div class="circle"></div>',cardContentMainWrapper+="</div>",cardContentMainWrapper+='<div class="gap-patch">',cardContentMainWrapper+='<div class="circle"></div>',cardContentMainWrapper+="</div>",cardContentMainWrapper+='<div class="circle-clipper right">',cardContentMainWrapper+='<div class="circle"></div>',cardContentMainWrapper+="</div>",cardContentMainWrapper+="</div>",cardContentMainWrapper+="</div>",cardContentMainWrapper+="</div>",cardContentMainWrapper+="</div>";else if(-1!==type.indexOf("Custom__")){var customType=type.substring(8);cardContentMainWrapper+="html"==customType?'<div class="card-content"><div class="htmlContentCard"></div>':"img"==customType?'<div class="card-content cardClick card-image imageCard"><img src="'.concat(imagePath,'/sample.png" />'):"sql"==customType?'<div class="card-content cardClick"><div class="sqlContentCard"></div>':"mytsk"==customType?'<div class="card-content mtskContentCard"><div class="carousel carousel-slider center corusalAdded sqlContentCard" data-indicators="true"></div>':"rss"==customType?'<div class="card-content rssFeedCard"><div class="carousel carousel-slider center" data-indicators="true"></div>':"dynamic"==customType?'<div class="card-content dynamicCard noScroll cardClick"><div class="dynamicContentCard"></div>':'<div class="card-content cardClick">',"txt"==customType&&(cardContentMainWrapper+="<p></p>"),cardContentMainWrapper+="</div>"}if(cardContentMainWrapper+="</div>",flipCard&&!enableSlick){var flipCardHtml="";flipCardHtml+='<div style="height:'.concat(heightOfCard,";border-bottom-left-radius:").concat(brRadius,";border-bottom-right-radius:").concat(brRadius,';" class="flip-container heightOfcardContentMainWrapper" ontouchstart="this.classList.toggle(\'hover\');">\n                                <div class="flipper">\n                                    <div class="flipper-front">\n                                        ').concat(cardContentMainWrapper,'\n                                    </div>\n                                    <div class="flipper-back">\n                                       \n                                    </div>\n                                </div> \n                            </div>'),htmlToReturn+=flipCardHtml}else htmlToReturn+=cardContentMainWrapper;return"bottom"===ttrPosition&&(htmlToReturn+=_getTitleRegion({iconClass:iconClass,title:title,templateObj:presCardTemplate})),liveWidgetId||"classic"==menuStyle&&("Custom__img"!=type?htmlToReturn+=_getMenuHtml({calledFrom:calledFrom,targetType:menuTargetType,target:menuTarget,menuStyle:menuStyle,title:title}):void 0!==eval(callParent("ShowImaWidActionBtn"))&&"true"==eval(callParent("ShowImaWidActionBtn"))&&"Custom__img"==type&&(htmlToReturn+=_getMenuHtml({calledFrom:calledFrom,targetType:menuTargetType,target:menuTarget,menuStyle:menuStyle,title:title}))),htmlToReturn+="</div>",htmlToReturn+="</div>",htmlToReturn}function _getDefaultIcons(e){var t="icon-paper-plane";switch(e){case"tstruct":t="icon-register";break;case"iview":t="icon-clipboard-user";break;case"widget":t="icon-cube";break;case"Custom__html":t="icon-pencil5";break;case"Custom__sql":t="icon-cloud-database";break;case"Custom__rss":t="icon-wifi";break;case"Custom__txt":t="icon-feather3";break;case"Custom__img":t="icon-picture2";break;case"Custom__mytsk":t="icon-envelope-open";break;default:t="icon-paper-plane"}return t}function _getStatusIndicator(e){var t="",a="",i="",n="";if(e){switch(e){case"save":t="icon-check",i="Widget Saved. Not published";break;case"saveFailed":t="icon-warning",i="Widget saving failed.";break;case"notSaved":t="icon-notification-circle",i="Widget not yet saved.";break;case"published":t="icon-cloud-check",i="Widget published.";break;case"private":t="icon-cloud-lock",i="Private widget published."}n='<span title="'+i+'" class="widgetStatusSpn widgetStatus-'+(a=e)+'"><i class="'+t+'"></i></span>'}return{toolTip:i,statusIndicatorIcon:t,statusIndicatorColorClass:a,statusIndicator:n}}function _getMenuHtml(e){e.calledFrom;var t=e.targetType,a=e.target,i=e.menuStyle,n=void 0===i?"classic":i,r=e.title,s=void 0===r?" ":r,l="",c="",d="";return"widget"!==t&&("homeBuild"===presBuiildMode||t&&"none"!==t)&&("classic"===n?(l+='<div class="fixed-action-btn runtimeActionWrapper vertical click-to-toggle">',l+='<a title="Actions" class="btn-floating runtimeActionBtn halfway-fab waves-effect waves-light"> <i class="icon-plus"></i></a>',c="floatingBtnMenu",d="cutsomColorbtn btn-floating waves-effect waves-light btn"):(l+='<div style="display:none;" class="modernMenuBg"></div>',l+='<div style="display:none;" class="modernMenuItems">'),"homeRun"===presBuiildMode&&"url"!=t&&"none"!=t&&(l+='<ul class="'+c+'">',"tstruct"==t?("undefined"==typeof localLangFile.listview&&handleLanguageSupprt(),l+="<li><a onclick=\"performDirectAction('tstruct','"+a.substr(1)+'\')" class="'+d+'"><span class="icon-pencil5"></span><span class="directAtnBtn">New</span></a></li>',l+="<li><a onclick=\"performDirectAction('listiview','"+a.substr(1)+"','"+s+'\')" class="'+d+'"><span class="icon-menu3"></span><span class="directAtnBtn">'+localLangFile.listview+"</span></a></li>"):"iview"==t&&("undefined"==typeof localLangFile.print&&handleLanguageSupprt(),l+='<li><a title="'+localLangFile.print+"\" onclick=\"performDirectAction('iview-print','"+a.substr(1)+'\')" class="'+d+'"><span class="icon-printer"></span><span class="directAtnBtn">'+localLangFile.print+"</span></a></li>",l+='<li><a title="'+localLangFile.pdf+"\" onclick=\"performDirectAction('iview-pdf','"+a.substr(1)+'\')" class="'+d+'"><span class="icon-document"></span><span class="directAtnBtn">'+localLangFile.pdf+"</span></a></li>",l+='<li><a title="'+localLangFile.excel+"\" onclick=\"performDirectAction('iview-excel','"+a.substr(1)+'\')" class="'+d+'"><span class="icon-grid"></span><span class="directAtnBtn">'+localLangFile.excel+"</span></a></li>"),l+="</ul>"),l+="</div>"),l}function _getTitleRegion(e){var t=e.iconClass,a=e.title,i=e.templateObj,n="";return n+='<div style="height:'+(i.tr.h||"35px")+'" class="cardTitleWrapper">',n+=(i.tr.html||defaultTitleHtmlLayout).replace("#TITLE_ICON#",'<i class="'+t+'"></i>').replace("#TITLE_NAME#",'<span class="cardTitle" title="'+a+'">'+a+"</span>"),n+='<div class="clear"></div>',n+="</div>"}function changePanelLayout(e){var t=e.templateObj,a=e.panel,i=e.toIdx,n=t.cc||1,r=i;if(t.repeatLastWidget)i>=n&&(i=n-1);else for(;i>=n;)i-=n;var s=t.cf[i],l=s.ht||"300px",c=s.wd||"m3 l3",d=s.br||"4px";a=$(a);var o=s.tr.html||defaultTitleHtmlLayout,p=a.find('.cardTitleWrapper i[class^="icon-"]').attr("class"),u=a.find(".cardTitleWrapper .cardTitle").text(),g=s.tr.h||"35px";s.tr.p,s.ms;l=0!=a.find(".card-content.titleRemoved").length?parseInt(l)+parseInt(g)+"px":l;var m=o.replace("#TITLE_ICON#",'<i class="'+p+'"></i>').replace("#TITLE_NAME#",'<span class="cardTitle">'+u+"</span>");a.find(".cardTitleWrapper").html(m).css("height",g);var f=a.attr("class");a.attr("class",f.replace(a.data("widthclass"),c)).data("cardidx",r).data("widthclass",c),a.find(".heightOfcardContentMainWrapper").css({height:l}),a.find(".hoverable").css("border-radius",d)}function rearrangePanelsBeforeDeleteNadd(e){var t=e.elem,a=e.templateObj,i=e.task;t.nextAll().each(function(e,t){var n=$(this),r="add"===i?n.index():n.index()-1;changePanelLayout({templateObj:a,panel:n,toIdx:r}),_changeStatusAfterDrag(n)})}function _changeStatusAfterDrag(e){var t=e.attr("id");changeWidgetStatus("notSaved",t),homeJsonObj.updateDataInJson(t,"isU","Y")}function changeToNewTemplate(e){var t=e.templateObj,a=e.afterTemplateChange;animationSetTimeout&&clearTimeout(animationSetTimeout),$("#hpbDsgnrcnvsWrapper").addClass("animateElements");var i=parseInt(t.cc||1),n=t.repeatLastWidget;$("#hpbDsgnrcnvsWrapper #sortable .ui-state-default").each(function(e,a){if(idx=e,n)idx>=i&&(idx=i);else for(;idx>=i;)idx-=i;var r=$(this);changePanelLayout({templateObj:t,panel:r,toIdx:idx})}),animationSetTimeout=setTimeout(function(){"function"==typeof a&&a(),$("#hpbDsgnrcnvsWrapper").removeClass("animateElements")},1100)}window.getPanelHtml=getPanelHtml,window.changePanelLayout=changePanelLayout,window.rearrangePanelsBeforeDeleteNadd=rearrangePanelsBeforeDeleteNadd,window.changeToNewTemplate=changeToNewTemplate}(jQuery),$(document).on("click",".modernCardMenu ",function(e){var t=$(this).parent();t.find(".modernMenuItems").is(":visible")?(t.find(".modernMenuBg").fadeOut(),t.find(".modernMenuItems").slideUp()):(t.find(".modernMenuBg").fadeIn(),t.find(".modernMenuItems").slideDown())});