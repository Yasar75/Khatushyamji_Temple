/*http://demo.agile-labs.com/minZIP/*//*version=3.9.1*/function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var count="",keyvalue="",isFormDirty=!1;function checkIfFormChanges(){count=document.getElementById("hfCount").value;var e=document.getElementById("tblFastDataUtility").getElementsByTagName("input");if(e[0].checked)count="All";else for(var t=0;t<e.length;t++)e[t].checked&&-1==e[t].id.indexOf("chkAll")&&count++;return isFormDirty=0!=count}function ConfirmLeave(){if($(".jconfirm").length>0)$(".jconfirm").remove();else var ConfirmSaveCB=$.confirm({theme:"modern",title:eval(callParent("lcm[155]")),onContentReady:function(){disableBackDrop("bind"),$(".jconfirm-buttons button").each(function(){var e=$(this).text();$(this).prop("title",e.charAt(0).toUpperCase()+e.slice(1))}),$(".jconfirm-buttons .hotbtn").focus()},backgroundDismiss:"false",escapeKey:"cancel",content:eval(callParent("lcm[285]")),buttons:{confirm:{text:eval(callParent("lcm[164]")),btnClass:"btn btn-primary",action:function(){ConfirmSaveCB.close(),parent.closeModalDialog(),parent.checkIfAnyActionPerformed()}},cancel:{text:eval(callParent("lcm[192]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy"),parent.actionsClicked=""}}}})}function ShowDimmer(e){DimmerCalled=!0;var t=$j("#waitDiv");if(t.length>0&&t!=undefined)if(1==e){var a=$j("#middle1",parent.document);a&&t.width(a.width()),t.show(),document.onkeydown=function(){return!1}}else t.hide(),document.onkeydown=function(){if(1==DimmerCalled)return!0};else window.opener!=undefined&&(t=$j("#waitDiv",window.opener.document)).length>0&&(1==e?t.show():t.hide());DimmerCalled=!1}function confirmDialog(calledFrom){if(count=document.getElementById("hfCount").value,dt.column(0).nodes().to$().each(function(e){$(this).find("input[type='checkbox']").prop("checked")&&count++}),0!=recordCount){if(count==recordCount&&(count="All"),0==count)return showAlertDialog("warning",eval(callParent("lcm[278]"))),!1;var alertMsg="All"==count?"delete"==calledFrom?eval(callParent("lcm[71]")):eval(callParent("lcm[70]")):"delete"==calledFrom?eval(callParent("lcm[277]")):eval(callParent("lcm[276]")),ConfirmSaveCB=$.confirm({theme:"modern",title:eval(callParent("lcm[155]")),onContentReady:function(){disableBackDrop("bind"),$(".jconfirm-buttons button").each(function(){var e=$(this).text();$(this).prop("title",e.charAt(0).toUpperCase()+e.slice(1))}),$(".jconfirm-buttons .hotbtn").focus()},backgroundDismiss:"false",escapeKey:"cancel",content:alertMsg,buttons:{confirm:{text:eval(callParent("lcm[164]")),btnClass:"btn btn-primary",action:function(){parent.isLatestSession()?(ConfirmSaveCB.close(),getKeyNameLists(),"delete"==calledFrom?deleteSelectedKeys(count):refreshSelectedKeys(count)):parent.location.href="../aspx/sess.aspx"}},cancel:{text:eval(callParent("lcm[192]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}else showAlertDialog("warning",eval(callParent("lcm[312]")))}function getKeyNameLists(){keyvalue="",dt.column(1).nodes().to$().each(function(e){$(this).siblings().find("input[type='checkbox']").prop("checked")&&(keyvalue+=$(this).next().text()+"&")}),keyvalue=keyvalue.substr(0,keyvalue.length-1)}function deleteSelectedKeys(count){ShowDimmer(!0);var url="../aspx/FastDataUtility.aspx/"+("All"==count?"FlushAll":"DeleteKeys");$.ajax({type:"POST",url:url,contentType:"application/json;charset=utf-8",data:'{keylists:"'+keyvalue+'"}',dataType:"json",success:function success(data){"success"==data.d?showAlertDialog("success",eval(callParent("lcm[267]"))):showAlertDialog("warning",eval(callParent("lcm[268]"))),bindGridData(),callCharts(),keyvalue=""},error:function error(response){showAlertDialog("warning",eval(callParent("lcm[268]"))),ShowDimmer(!1)}})}function refreshSelectedKeys(count){ShowDimmer(!0);var url="../aspx/FastDataUtility.aspx/"+("All"==count?"RefereshAll":"GetRefreshDatasetKeys");$.ajax({type:"POST",url:url,contentType:"application/json;charset=utf-8",data:'{dtKeylists:"'+keyvalue+'"}',dataType:"json",success:function success(data){"success"==data.d?showAlertDialog("success",eval(callParent("lcm[269]"))):showAlertDialog("warning",eval(callParent("lcm[270]"))),bindGridData(),callCharts(),keyvalue=""},error:function error(response){showAlertDialog("warning",eval(callParent("lcm[268]"))),ShowDimmer(!1)}})}function callCharts(){ShowDimmer(!0),$.ajax({type:"POST",url:"../aspx/FastDataUtility.aspx/MemoryDetails",contentType:"application/json;charset=utf-8",data:"{}",dataType:"json",success:function(e){ShowDimmer(!1),pieChart(e.d),isPostback=!1},error:function error(response){showAlertDialog("warning",eval(callParent("lcm[273]"))+eval(callParent("lcm[274]"))),ShowDimmer(!1)}})}function pieChart(datats){try{var _legend;$("#containerChartsPie").highcharts({colors:["#50B432","#ED561B","#DDDF00","#24CBE5"],credits:{enabled:!1},chart:{type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},exporting:{enabled:!1},legend:(_legend={layout:"vertical",backgroundColor:"#FFFFFF",floating:!0,align:"right",x:90,y:0,itemStyle:{color:"#FFFFF"}},_defineProperty(_legend,"align","right"),_defineProperty(_legend,"verticalAlign","middle"),_legend),title:{style:{fontWeight:"bold",fontSize:"15px"},text:eval(callParent("lcm[291]"))},tooltip:{shared:!0,style:{fontWeight:"bold"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,size:180,dataLabels:{enabled:!0,format:"{point.name}"}}},series:[{colorByPoint:!0,name:"Memory details in MB",data:JSON.parse(JSON.stringify(JSON.parse(datats)))}]})}catch(e){showAlertDialog("warning",eval(callParent("lcm[361]")))}}function bindGridData(){ShowDimmer(!0),$.ajax({type:"POST",url:"../aspx/FastDataUtility.aspx/BindGridData",contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){createDataTable(e.d),recordCount=e.d.length,$("#chkSelectAll").prop("checked",!1),ShowDimmer(!1)},error:function error(response){showAlertDialog("warning",eval(callParent("lcm[273]"))+eval(callParent("lcm[275]"))),ShowDimmer(!1),ShowDimmer(!1)}})}$(document).ready(function(){if(ShowDimmer(!0),parent.isLatestSession()){ShowDimmer(!1),modalHeader=eval(callParent("divModalHeader","id")+".getElementById('divModalHeader')"),modalHeader.innerText=eval(callParent("lcm[256]"));var key="",value="",confirmAction="";$("[data-toggle=tooltip]").tooltip(),bindGridData(),callCharts(),$('[data-toggle="popover"],[data-original-title]').popover({placement:"right"}),$(document).on("click",function(e){$('[data-toggle="popover"],[data-original-title]').each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||($(this).popover("hide").data("bs.popover").inState.click=!1)})}),$("#btnDeleteKey").prop("title",eval(callParent("lcm[286]"))),$("#btnRefreshKey").prop("title",eval(callParent("lcm[247]"))),gridSearchEvent(),$("#txtGridSearch").attr("placeholder",eval(callParent("lcm[287]"))).focus(),tabFocus("icocl1","tblFastDataUtility_next")}else parent.location.href="../aspx/sess.aspx"});var dt="",recordCount=0;function createDataTable(data){dt=$("#tblFastDataUtility").DataTable({data:data,dom:'<"left"><"right"l>rt<"bottom"ip><"clear">',language:{search:"",searchPlaceholder:eval(callParent("lcm[287]")),lengthMenu:eval(callParent("lcm[288]")),zeroRecords:eval(callParent("lcm[0]")),info:eval(callParent("lcm[290]")),infoEmpty:"",infoFiltered:eval(callParent("lcm[289]")),paginate:{previous:eval(callParent("lcm[163]")),next:eval(callParent("lcm[162]"))}},order:[[2,"asc"]],autoWidth:!1,destroy:!0,scrollY:"200px",scrollCollapse:!0,columns:[{targets:0,searchable:!1,bSortable:!1,orderable:!1,className:"dt-body-center",render:function(e,t,a,l){return'<input type="checkbox" style="margin-left:7px;" name="id[]" value="'+$("<div/>").text(e).html()+'">'},width:"4%"},{data:"Key",bSortable:!1,orderable:!1,width:"10%"},{data:"Key",width:"80%"}]}),dt.on("order.dt search.dt",function(){}).on("draw",function(){gridDataboundEvent()}),gridDataboundEvent(),$("#txtGridSearch").val(""),setTimeout(function(){dt.columns.adjust().draw()},500)}function tabFocus(firstFocusId,lastFocusId){modalButton=eval(callParent("btnModalClose","id")+".getElementById('btnModalClose')"),-1==modalButton.className.indexOf("firstFocusable")&&(modalButton.className+=" firstFocusable"),$(".lastFocusable").removeClass("lastFocusable"),$("#"+lastFocusId).addClass("lastFocusable").focus(),$(".lastFocusable").on("keydown.tabRot",function(e){9!==e.which||e.shiftKey||(e.preventDefault(),modalButton.focus())}),modalButton.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),$(".lastFocusable").focus())}),setTimeout(function(){$("#txtGridSearch").focus()},500)}function ChangeTheme(){var theme="";if(theme=eval(callParent("currentThemeColor")),""!=theme)$j("#themecss").attr("href","../App_Themes/"+theme+"/Stylesheet.min.css?v=23");else{var themeref="";window.opener&&(themeref=$j("#themecss",window.opener.document).attr("href"),""!=themeref&&$j("#themecss").attr("href",themeref)),parent.parent.document&&(themeref=$j("#themecss",parent.parent.document).attr("href"),""!=themeref&&$j("#themecss").attr("href",themeref)),""!=themeref&&themeref!=undefined||(themeref="../App_Themes/"+axTheme+"/Stylesheet.min.css?v=23",$j("#themecss").attr("href",themeref))}}function gridDataboundEvent(){dt.column(1,{search:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1}),$("#tblFastDataUtility_previous").hasClass("disabled")&&$("#tblFastDataUtility_next").hasClass("disabled")?$("#tblFastDataUtility_paginate").hide():$("#tblFastDataUtility_paginate").show(),$("#chkSelectAll").on("click",function(){var e=dt.rows({search:"applied"}).nodes();$('td input[type="checkbox"]',e).prop("checked",this.checked)}),$("#tblFastDataUtility tbody").on("change",'input[type="checkbox"]',function(){if(!this.checked){var e=$("#chkSelectAll").get(0);e&&e.checked&&"indeterminate"in e&&(e.indeterminate=!0)}})}function gridSearchEvent(){$("#txtGridSearch").keyup(function(){$('td input[type="checkbox"], #chkSelectAll').prop("checked",!1);var e=$("#txtGridSearch").val();$(this).focus(),dt.search(e).draw(),e.length>0?$("#searchclear").show():$("#searchclear").hide()}),$("#searchclear").click(function(){$("#txtGridSearch").val("").focus(),dt.search("").columns().search("").draw(),$(this).hide()})}