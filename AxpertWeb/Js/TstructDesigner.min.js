/*http://demo.agile-labs.com/minZIP/*//*version=3.9.0*/var tstruct=new Object,clickedArray=[],gridArray=[],clickedArrayIndex=[],dcid="",griddcid="",dcNo="",min=1,max=999999,randomNumberRow=[],checker=!1,minWidthForGridHeaders=40,adjustWidth=20,isNotsequence=!1,tableArray=[],isGridElementsAlligned=!0,designChanged=!1;function unBindEvents(){$("#wBdr").find("input:not(.grdButtons .tgl-ios),textarea").each(function(){$(this).prop("disabled",!0),$(this).filter(".form-control").is(":disabled")&&$(this).after('<div style="position:absolute; left:0; right:0; top:0; bottom:0;z-index:9"></div>')}),$("#wBdr").find("select").each(function(){$(this).parent().prepend('<div class="selectOverLay"></div>'),$(this).prop("disabled",!0)}),$("[id^=wrapperForEditFields]").removeClass("hide"),$("button[id^=gridAddBtn]").removeAttr("onclick").addClass("disabled"),$(".grdButtons button[id^=gridAddBtn]").removeAttr("onclick").addClass("disabled"),$("li[onclick*='javascript:FillGrid']").removeAttr("onclick").addClass("disabled"),$(".grdButtons li button").addClass("disabled").prop("disabled",!0),$(".editLayoutFooter button").removeAttr("onclick").addClass("disabled").prop("disabled",!0).attr("type","button"),$(".toolbardiv").addClass("disableToolIcon"),$('#dvlayout [title]:not([class^="icon-basic-eye"])').removeAttr("title"),$(".editLayoutFooter").hide()}function hideTheField(){if(!$("#hideTheField").hasClass("disableToolIcon")){designChanged=!0;for(var e=0;e<clickedArray.length;e++)$(clickedArray[e]).attr("data-isVisible","false").data("isVisible","false");ClearSelected()}}function showTheField(){if(!$("#showTheField").hasClass("disableToolIcon")){designChanged=!0;for(var e=0;e<clickedArray.length;e++)$(clickedArray[e]).attr("data-isVisible","true").data("isVisible","true");ClearSelected()}}function BindButtonsOnLoad(){$("#btnAlignOne").click(function(){$("#btnAlignOne").hasClass("disableToolIcon")||AlignOne()}),$("#btnAlignMerge").click(function(){if(!$("#btnAlignMerge").hasClass("disableToolIcon")){var e=!0;for(i=0;i<clickedArray.length;i++)!$(clickedArray[i]).hasClass("gridElement")&&(e=!1);e?alignGridElements():AlignMerge()}})}function BindFunctionsOnLoad(){$("#dvlayout").on("click",function(e){1==designChanged&&$("#A5").removeClass("disableToolIcon"),0===$(e.target).closest("div[id^='colScroll']").length&&ClearSelected()}),$("#tstructcontent").find("input, textarea, button, select").attr("disabled","disabled"),$(".form-group").find("input,textarea,select").css("disabled",!0),$(".form-group > *").css("width","100% !important"),$(".form-group").on("click",function(e){OnElementSelect(this,e),enableToolIcons()}),$(".gridHeader th").on("click",function(e){OnGridElementSelect(this,e),enableToolIcons()}),$("table[id^='gridHd'] tbody").on("click",function(e){OnTableSelect(this,e),enableToolIcons()})}function ClearSelected(){for(var e=0;e<clickedArray.length;e++)clickedArray[e].id==undefined?$("#"+clickedArray[e]).css("outline","none"):clickedArray[e].style.outline="none";for(var r=0;r<gridArray.length;r++)gridArray[r].id==undefined?$("#"+gridArray[r]).css("border","none"):(gridArray[r].style.border="none",$(gridArray[r]).css("border-right","1px solid white"));for(r=0;r<tableArray.length;r++)""!=tableArray[r]&&$("#"+tableArray[r]+" tbody").css("border","none");tableArray=[],gridArray=[],clickedArray=[],clickedArrayIndex=[],$(".toolbardiv").addClass("disableToolIcon"),1==designChanged&&$("#A5").removeClass("disableToolIcon")}function OnElementSelect(e,r){gridArray.length>0&&ClearSelected();var i=e;""==(dcid=e.parentElement.id)&&"containerDc"==e.parentElement.className&&(dcid=e.parentElement.parentNode.id),dcNo=dcid.replace("divDc","");for(var l=0;l<clickedArray.length;l++)if(clickedArray[l].id==i.id){clickedArray[l].style.outline="none",clickedArray.splice(l,1),r.stopPropagation();break}if(r.ctrlKey)i.style.outline="1px red solid",clickedArray.push(i);else{for(l=0;l<clickedArray.length;l++)clickedArray[l].style.outline="none";i.style.outline="1px red solid",(clickedArray=[]).push(i)}$("#propertySheet").hasClass("scale-in")&&$("#propertySheet").addClass("scale-out"),r.stopPropagation()}function AlignThree(){if(3===clickedArray.length)for(var e=GenerateDiv(findPreviousElement(clickedArray[0])),r=0;r<clickedArray.length;r++){clickedArray[r].style.outline="none";var i=$(clickedArray[r]).attr("class").split(/\s+/);$.each(i,function(e,i){i.indexOf("col-lg-")>-1?($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-lg-4")):i.indexOf("col-md-")>-1?($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-md-4")):i.indexOf("col-sm-")>-1?($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-sm-4")):i.indexOf("col-xs-")>-1&&($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-xs-12"))});var l=$(clickedArray[r]).detach();$("#"+e).append(l)}else showAlertDialog("warning",2045,"client");l=[],ClearSelected()}function SetSingleColumn(){var e=[];if(checker=!1,$(".form-group").each(function(){e.push(this.id)}),e.length>0)for(var r=0;r<e.length;r++)($("#"+e).hasClass("col-lg-6")||$("#"+e).hasClass("col-lg-4"))&&(checker=!0);$('div[class|="grap"]')}function AlignMerge(){if(clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(2===clickedArray.length){if(clickedArray=SortBasedOnParent(clickedArray),isNotsequence)return showAlertDialog("warning",2047,"client"),isNotsequence=!1,void ClearSelected();designChanged=!0,$("#A5").removeClass("disableToolIcon");for(var e=0;e<clickedArray.length-1;e++)$("#"+clickedArray[e]).parent().removeClass("row"),$("#"+clickedArray[e]).parent().addClass("rowdesign");for(e=0;e<clickedArray.length;e++){$("#"+clickedArray[e].id).css("outline","none");var r=$("#"+clickedArray[e]).attr("class").split(/\s+/);$.each(r,function(r,i){i.indexOf("col-lg-")>-1?($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-lg-6")):i.indexOf("col-sm-")>-1?($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-sm-6")):i.indexOf("col-md-")>-1?($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-md-6")):i.indexOf("col-xs-")>-1&&($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-xs-12"))})}}else if(3===clickedArray.length){if(clickedArray=SortBasedOnParent(clickedArray),isNotsequence)return showAlertDialog("warning",2047,"client"),isNotsequence=!1,void ClearSelected();designChanged=!0,$("#A5").removeClass("disableToolIcon");for(e=0;e<clickedArray.length-1;e++)$("#"+clickedArray[e]).parent().removeClass("row"),$("#"+clickedArray[e]).parent().addClass("rowdesign");for(e=0;e<clickedArray.length;e++){$("#"+clickedArray[e].id).css("outline","none");r=$("#"+clickedArray[e]).attr("class").split(/\s+/);$.each(r,function(r,i){i.indexOf("col-lg-")>-1?($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-lg-4")):i.indexOf("col-md-")>-1?($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-md-4")):i.indexOf("col-sm-")>-1?($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-sm-4")):i.indexOf("col-xs-")>-1&&($("#"+clickedArray[e]).removeClass(i),$("#"+clickedArray[e]).addClass("col-xs-12"))})}}else showAlertDialog("warning",2048,"client");detached=[],ClearSelected()}function alignGridElements(){if(clickedArray.length>3||clickedArray.length<=1)showAlertDialog("warning",2048,"client");else if(checkGridAlignment(),isGridElementsAlligned){if(designChanged=!0,$("#A5").removeClass("disableToolIcon"),3===clickedArray.length)for(var e=0;e<clickedArray.length;e++){$("#"+clickedArray[e].id).css("outline","none");var r=$("#"+clickedArray[e].id).attr("class").split(/\s+/);$.each(r,function(r,i){i.indexOf("col-lg-")>-1?($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-lg-4")):i.indexOf("col-md-")>-1?($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-md-4")):i.indexOf("col-sm-")>-1?($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-sm-4")):i.indexOf("col-xs-")>-1&&($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-xs-12"))})}if(2===clickedArray.length)for(e=0;e<clickedArray.length;e++){$("#"+clickedArray[e].id).css("outline","none");r=$("#"+clickedArray[e].id).attr("class").split(/\s+/);$.each(r,function(r,i){i.indexOf("col-lg-")>-1?($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-lg-6")):i.indexOf("col-sm-")>-1?($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-sm-6")):i.indexOf("col-md-")>-1?($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-md-6")):i.indexOf("col-xs-")>-1&&($("#"+clickedArray[e].id).removeClass(i),$("#"+clickedArray[e].id).addClass("col-xs-12"))})}}else showAlertDialog("warning",2047,"client");isGridElementsAlligned=!0,ClearSelected()}function checkGridAlignment(e){if(e==undefined){for(e=1,clickedArrayIndex=[],i=0;i<clickedArray.length;i++)clickedArrayIndex.push(parseInt($(clickedArray[i]).index()));clickedArrayIndex.sort(sortTheNumbers)}var r=!0,l=clickedArrayIndex[e-1],a=clickedArrayIndex[e],d=Math.min(l,a),s=Math.max(l,a),t=$(clickedArray[0]).parent().attr("id");for(i=d+1;i<s;i++)$("#"+t).children().eq(i).is(":visible")&&(r=!1);0==r?isGridElementsAlligned=!1:r&&e+1<clickedArray.length?checkGridAlignment(e+1):r&&(isGridElementsAlligned=!0)}function sortTheNumbers(e,r){return e<r?-1:e>r?1:0}function AlignOne(){if(clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(1===clickedArray.length){var e="#randomID_"+(parseInt($("#"+clickedArray[0].id)[0].parentNode.id.split("_")[1])-1);$(e)!=undefined&&($(e).removeClass("rowdesign"),$(e).addClass("row"));for(var r=0;r<clickedArray.length;r++){clickedArray[r].style.outline="none";var i=$(clickedArray[r]).attr("class").split(/\s+/);$.each(i,function(e,i){i.indexOf("col-lg-")>-1?($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-lg-12")):i.indexOf("col-sm-")>-1?($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-sm-12")):i.indexOf("col-md-")>-1?($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-md-12")):i.indexOf("col-xs-")>-1&&($(clickedArray[r]).removeClass(i),$(clickedArray[r]).addClass("col-xs-12"))})}designChanged=!0,$("#A5").removeClass("disableToolIcon")}else showAlertDialog("warning",2049,"client");ClearSelected()}$(document).ready(function(){BindFunctionsOnLoad(),BindButtonsOnLoad(),unBindEvents(),checkSuccessAxpertMsg(),jQuery.browser={},jQuery.browser.msie=!1,jQuery.browser.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1),SetGridElementsHeight()});var elemID="";function findPreviousElement(e){var r=$(e).prev();return"none"==r.css("display")?findPreviousElement(r):elemID=0==r.length?dcid:r[0].id,elemID}function GenerateDiv(e){for(var r="randomID"+getRandomIntInclusive(),i=0;i<randomNumberRow.length;i++)r===randomNumberRow[i]&&GenerateDiv();return CreateDiv(r,e),r}function CreateDiv(e,r){$("#"+r).parent().length>-1&&null!=$("#"+r).parent()[0]&&$("#"+r).parent()[0].id.indexOf("randomID")>-1&&(r=$("#"+r).parent()[0].id),r.indexOf("divDc")>-1?$("<div/>",{"class":"row",id:e}).prependTo("#"+r):$("<div/>",{"class":"row",id:e}).insertAfter("#"+r),randomNumberRow.push(e)}function getRandomIntInclusive(){return Math.floor(999999*Math.random())}function saveAsJson(){if(!$("#A5").hasClass("disableToolIcon")&&(tstruct.dcs=[],tstruct.tstructName=tstructName,tstruct.tstructCaption=tstructCaption,parseInt(TotalDCs)>0)){for(var e=1;e<parseInt(TotalDCs)+1;e++){var r=$("#divDc"+e)[0];if(r!=undefined){var i=new Object;i.id="divDc"+e,i.elements=[],i.elements.push(CreateControlObjects(r)),tstruct.dcs.push(i)}}var l=$("#ckbCompressedMode").prop("checked");tstruct.cpMode=l,SaveJsonToSession(JSON.stringify(tstruct))}}function SaveJsonToSession(e){$("#hdnDesign").val(e),SetSingleColumn(),0==checker&&$("#hdnLayout").val("onecolumn"),$("#btnSave").click()}function CreateControlObjects(e){var r,i=[];r=e.childElementCount!=undefined?e:e[0];for(var l=0;l<r.childElementCount;l++){var a=$(r).children().eq(l);if("none"!=a.css("display")){var d=new Object;if(d.index=l,d.id=a.attr("id"),d.classes=a.attr("class"),"undefined"!=typeof d.classes&&0==d.classes.indexOf("griddivColumn wrapperForGridData")&&(d.gridStretch=$("#ckbGridStretch"+d.classes.substr(32)).prop("checked"),a.find(".hiddenTableColumn").removeClass("hiddenTableColumn")),"containerDc"==d.id||d.classes!==undefined){if("row"==d.classes||"rowdesign"==d.classes||"containerDc"==d.id)d.elements=[],d.elements.push(CreateControlObjects(a));else if(-1!=d.classes.indexOf("griddivColumn")){d.elements=[];var s=[];$("#"+d.id)!=undefined&&(s=$("#"+d.id+" th"));for(var t=0,n=0;n<s.length;n++)if(s[n]!=undefined&&""!=s[n].id&&"none"!=$("#"+s[n].id).css("display")){var c=new Object;c.id=s[n].id,c.width=$("#"+s[n].id).css("width"),$("#"+s[n].id).find("button.eyeBtn i").length>0?$("#"+s[n].id).find("button.eyeBtn i").hasClass("icon-basic-eye")?c.visibility="table-cell":(c.visibility="none",t+=parseInt(c.width,10)):c.visibility="table-cell",d.elements.push(c)}if($("#"+d.id).children("table").attr("id")!=undefined){if(void 0!==$("#"+d.id).children("table").css("width")){var o=parseInt($("#"+d.id).children("table").css("width"),10);$("#"+d.id).children("table").css("width",o-t+"px");var h=parseInt($("#"+d.id).children("table").css("min-width"),10);$("#"+d.id).children("table").css("min-width",h-t+"px")}d.tableid=$("#"+d.id).children("table").attr("id"),d.tablecss=$("#"+d.id).children("table").attr("style"),d.tbodyHeight=$("#"+d.id).children("table").find("tbody").css("min-height")}}else if("grid-icons"==d.classes&&(d.elements=[],a.find(".editWrapTr").length>0)){var g=a.find(".editWrapTr").parent().attr("id");d.gridWrapperId=g;var A=$("#"+g+" .editWrapTr .gridElement.form-group");for(n=0;n<A.length;n++)if(A[n]!=undefined&&""!=A[n].id&&"hidden"!=$("#"+A[n].id).find("input:not(.grdAttach),select,checkbox,span.fa-paperclip").attr("type")){var y=new Object,f=A[n].id,u=$("#"+f).data("isvisible");u=u===undefined?"true":u.toString(),y.id=f,y.classes=$("#"+f).attr("class"),y.isVisible=u,d.elements.push(y)}}a.hasClass("clear")||a[0].lastChild.rows==undefined?$(a[0]).children(".divImgBorder").children(".axpImg").length>0&&(d.height=$(a[0]).children(".divImgBorder").children(".axpImg").css("height")):d.rows=a[0].lastChild.rows,"clear"!=d.classes&&"grdButtons"!=d.classes&&"divGridContent"!=d.classes&&i.push(d)}}}return i}function IncreaseHeight(){if(!$("#A3").hasClass("disableToolIcon")){if(clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(clickedArray.length>0){for(var e=0;e<clickedArray.length;e++)if("textarea"==clickedArray[e].lastChild.localName){var r=parseInt(clickedArray[e].lastChild.rows);clickedArray[e].lastChild.rows=r+1}else if($(clickedArray[e]).find(".axpImg")){var i=parseInt($(clickedArray[e]).find(".axpImg").css("height").replace("px",""));$(clickedArray[e]).find(".axpImg").css("height",i+adjustWidth)}designChanged=!0,$("#A5").removeClass("disableToolIcon")}else if(tableArray.length>0){for(e=0;e<tableArray.length;e++)$("#"+tableArray[e]+" tbody")!=undefined&&$("#"+tableArray[e]+" tbody").css("min-height",parseInt($("#"+tableArray[e]+" tbody").css("height"))+adjustWidth);designChanged=!0,$("#A5").removeClass("disableToolIcon")}else showAlertDialog("warning",2050,"client")}}function DecreaseHeight(){if(!$("#A4").hasClass("disableToolIcon")){if(clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(clickedArray.length>0){for(var e=0;e<clickedArray.length;e++)if("textarea"==clickedArray[e].lastChild.localName){var r=parseInt(clickedArray[e].lastChild.rows);1!=r&&(clickedArray[e].lastChild.rows=r-1)}else if($(clickedArray[e]).find(".axpImg")){var i=parseInt($(clickedArray[e]).find(".axpImg").css("height").replace("px",""));$(clickedArray[e]).find(".axpImg").css("height",i-adjustWidth)}designChanged=!0,$("#A5").removeClass("disableToolIcon")}else if(tableArray.length>0){for(e=0;e<tableArray.length;e++)$("#"+tableArray[e]+" tbody")!=undefined&&$("#"+tableArray[e]+" tbody").css("min-height",parseInt($("#"+tableArray[e]+" tbody").css("height"))-adjustWidth);designChanged=!0,$("#A5").removeClass("disableToolIcon")}else showAlertDialog("warning",2050,"client")}}function IncreaseWidth(){if(!$("#increaseWidth").hasClass("disableToolIcon")){if(clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(clickedArray.length>0){for(var e=0;e<clickedArray.length;e++){var r=$(clickedArray[e]).attr("class").split(/\s+/);$.each(r,function(r,i){if(i.indexOf("col-lg-")>-1){var l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l<12?$(clickedArray[e]).addClass("col-lg-"+(l+1)):$(clickedArray[e]).addClass("col-lg-12")}else if(i.indexOf("col-sm-")>-1){l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l<12?$(clickedArray[e]).addClass("col-sm-"+(l+1)):$(clickedArray[e]).addClass("col-sm-12")}else if(i.indexOf("col-md-")>-1){l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l<12?$(clickedArray[e]).addClass("col-md-"+(l+1)):$(clickedArray[e]).addClass("col-md-12")}else if(i.indexOf("col-xs-")>-1){l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l<12?$(clickedArray[e]).addClass("col-xs-"+(l+1)):$(clickedArray[e]).addClass("col-xs-12")}})}designChanged=!0,$("#A5").removeClass("disableToolIcon")}else if(gridArray.length>0){for(e=0;e<gridArray.length;e++){var i=$(gridArray[e]),l=$("#"+gridArray[e].id).closest("table").attr("id");if(0==l.indexOf("gridHd")){var a=l.substring(6);1==$("#ckbGridStretch"+a).prop("checked")&&($("#ckbGridStretch"+a).prop("checked",!1),toggleGridStretch(a))}if(i!=undefined&&l!=undefined){var d=l.substring(6),s=$(gridArray[e]).css("width").replace("px","");if(griddcid!=undefined){var t=parseInt($("#"+l).css("width").replace("px",""))+adjustWidth;$("#"+l).attr("style","width:"+t+"px"),$(gridArray[e]).css({width:parseInt(s)+adjustWidth,"min-width":parseInt(s)+adjustWidth});var n=$("#"+gridArray[e].id.replace("th-","")+"001F"+griddcid).closest("td");$("#contentScroll"+d)!=undefined&&(t<$("#wBdr").width()?$("#contentScroll"+d).css({width:t,"min-width":t}):$("#contentScroll"+d).css({width:parseInt($("#wBdr").width())-40,"min-width":parseInt($("#wBdr").width())-40})),n.css("width",parseInt(s)+adjustWidth),AssignGrdFreezeHdrScript(d)}}}designChanged=!0,$("#A5").removeClass("disableToolIcon")}else showAlertDialog("warning",2050,"client")}}function DecreaseWidth(){if(!$("#A2").hasClass("disableToolIcon")){if(clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(clickedArray.length>0){designChanged=!0,$("#A5").removeClass("disableToolIcon");for(var e=0;e<clickedArray.length;e++){var r=$(clickedArray[e]).attr("class").split(/\s+/);$.each(r,function(r,i){if(i.indexOf("col-lg-")>-1){var l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l>1?$(clickedArray[e]).addClass("col-lg-"+(l-1)):$(clickedArray[e]).addClass("col-lg-1")}else if(i.indexOf("col-sm-")>-1){l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l>1?$(clickedArray[e]).addClass("col-sm-"+(l-1)):$(clickedArray[e]).addClass("col-sm-1")}else if(i.indexOf("col-md-")>-1){l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l>1?$(clickedArray[e]).addClass("col-md-"+(l-1)):$(clickedArray[e]).addClass("col-md-1")}else if(i.indexOf("col-xs-")>-1){l=parseInt(i.substring(i.lastIndexOf("-")+1));$(clickedArray[e]).removeClass(i),l>1?$(clickedArray[e]).addClass("col-md-"+(l-1)):$(clickedArray[e]).addClass("col-md-1")}})}}else if(gridArray.length>0){designChanged=!0,$("#A5").removeClass("disableToolIcon");for(e=0;e<gridArray.length;e++){var i=$(gridArray[e]),l=$("#"+gridArray[e].id).closest("table").attr("id");if(0==l.indexOf("gridHd")){var a=l.substring(6);1==$("#ckbGridStretch"+a).prop("checked")&&($("#ckbGridStretch"+a).prop("checked",!1),toggleGridStretch(a))}if(i!=undefined&&l!=undefined){var d=l.substring(6),s=$(gridArray[e]).css("width").replace("px","");if(parseInt(s,10)<=minWidthForGridHeaders)return!1;if(griddcid!=undefined){var t=parseInt($("#"+l).css("width").replace("px",""))-adjustWidth;$("#"+l).attr("style","width:"+t+"px"),$(gridArray[e]).css({width:parseInt(s)-adjustWidth,"min-width":parseInt(s)-adjustWidth});var n=$("#"+gridArray[e].id.replace("th-","")+"001F"+griddcid).closest("td");$("#contentScroll"+d)!=undefined&&(t<$("#wBdr").width()?$("#contentScroll"+d).css({width:t,"min-width":t}):$("#contentScroll"+d).css({width:parseInt($("#wBdr").width())-40,"min-width":parseInt($("#wBdr").width())-40})),n.css("width",parseInt(s)-adjustWidth),AssignGrdFreezeHdrScript(d)}}}}else showAlertDialog("warning",2050,"client")}}function resetButtonClicked(){$("#btnSave").click()}function SortBasedOnParent(e){for(var r=[],i=0;i<e.length;i++){var l=new Object;l.id=e[i].id,l.parentid=e[i].parentNode.id,r.push(l)}var a=r.slice(0);a.sort(function(e,r){var i=e.parentid.toLowerCase(),l=r.parentid.toLowerCase();return i<l?-1:i>l?1:0}),e=[],ParentIds=[];for(i=0;i<a.length;i++)e.push(a[i].id),ParentIds.push(parseInt(a[i].parentid.split("_")[1]));CheckConsecutive(ParentIds)||(isNotsequence=!0);var d="#randomID_"+parseInt(a[0].parentid.split("_")[1]-1);return""!=d&&d!=undefined&&($(d).removeClass("rowdesign"),$(d).addClass("row")),e}function CheckConsecutive(e){for(var r=0;r<e.length-1;r++){if(e[r]+1!=e[r+1])return!1}return!0}function OnGridElementSelect(e,r){clickedArray.length>0&&ClearSelected();var i=e,l=e.id;if(e.id!=undefined){griddcid=$("#"+l).closest("table").attr("id").substring(6),""==dcid&&"containerDc"==e.parentElement.className&&(dcid=e.parentElement.parentNode.id),dcNo=dcid.replace("divDc","");for(var a=0;a<gridArray.length;a++)if(gridArray[a].id==i.id){gridArray[a].style.border="none",$(gridArray[a]).css("border-right","1px solid white"),gridArray.splice(a,1),r.stopPropagation();break}}if(r.ctrlKey)i.style.border="1px red solid",gridArray.push(i);else{for(a=0;a<gridArray.length;a++)gridArray[a].style.border="none",$(gridArray[a]).css("border-right","1px solid white");i.style.border="1px red solid",(gridArray=[]).push(i)}r.stopPropagation()}function OnTableSelect(e,r){$(e).css("border","2px solid red");var i=$(e).parent().attr("id");tableArray.push(i)}function ChangeDir(e){$j("#form1").attr("dir",e)}function toggleCompressedMode(e){if(designChanged=!0,$("#A5").removeClass("disableToolIcon"),1==$("#ckbCompressedMode").prop("checked"))$("#ckbCompressedMode").prop("checked",!1),$("link[href='../Css/customCompressedTstruct.css']").length>0&&$('link[rel=stylesheet][href~="../'+proj+'/customCompressedTstruct.css"]').remove(),$("link[href='../Css/compressedTstruct.min.css?v=40']").length>0&&$('link[rel=stylesheet][href~="../Css/compressedTstruct.min.css?v=40"]').remove();else{$("#ckbCompressedMode").prop("checked",!0);var r=!1;if("undefined"!=typeof localStorage){var i=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),l=localStorage["customCompressedTstructExist-"+i];if(l&&"false"!=l){var a=localStorage["projInfo-"+i]||"";$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href","../".concat(a,"/customCompressedTstruct.css?v=").concat(l))),r=!0}}r||1==$("link[href='../Css/compressedTstruct.min.css?v=40']").length||$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href","../Css/compressedTstruct.min.css?v=40"))}SetGridElementsHeight()}function enableToolIcons(){if($(".toolbardiv").addClass("disableToolIcon"),1==designChanged&&$("#A5").removeClass("disableToolIcon"),clickedArray.length>0&&gridArray.length>0||gridArray.length>0&&tableArray.length>0||tableArray.length>0&&clickedArray.length>0)return showAlertDialog("warning",2046,"client"),void ClearSelected();if(clickedArray.length>0){var e=!0,r=!0;for(j=0;j<clickedArray.length;j++)0==$(clickedArray[j]).find("textarea,.axpImg").length&&(e=!1);if(gridArray.length>0&&(e=!1),r=clickedArray.length>0&&1==e&&tableArray.length>0,clickedArray.length>0&&gridArray.length>0?e&&r?$("#A3,#A4").removeClass("disableToolIcon"):$("#A3,#A4").addClass("disableToolIcon"):e&&$("#A3,#A4").removeClass("disableToolIcon"),1==clickedArray.length){var i=$(clickedArray[0]);i.hasClass("gridElement")&&(i.data("isVisible")===undefined||"true"==$(clickedArray[0]).data("isVisible")?($("#showTheField").addClass("disableToolIcon"),$("#hideTheField").removeClass("disableToolIcon")):($("#showTheField").removeClass("disableToolIcon"),$("#hideTheField").addClass("disableToolIcon"))),$("#btnAlignOne,#increaseWidth,#A2").removeClass("disableToolIcon")}else{var l=!0;for(c=0;c<clickedArray.length;c++)!$(clickedArray[c]).hasClass("gridElement")&&(l=!1);if(l){var a="",d="";for(c=0;c<clickedArray.length;c++){var s=$(clickedArray[c]).data("isVisible");if(s===undefined&&(s="true"),0==c)a="true"==s?"true":"false";else{if(""!==d&&0==d)continue;d=a==s}}d&&("true"==a?($("#hideTheField").removeClass("disableToolIcon"),$("#showTheField").addClass("disableToolIcon")):($("#hideTheField").addClass("disableToolIcon"),$("#showTheField").removeClass("disableToolIcon"))),checkGridAlignment(),isGridElementsAlligned&&clickedArray.length<=3?$("#btnAlignMerge,#increaseWidth,#A2").removeClass("disableToolIcon"):$("#increaseWidth,#A2").removeClass("disableToolIcon")}else{for(var t=clickedArray,n=[],c=0;c<t.length;c++){var o=new Object;o.id=t[c].id,o.parentid=t[c].parentNode.id,n.push(o)}var h=n.slice(0);h.sort(function(e,r){var i=e.parentid.toLowerCase(),l=r.parentid.toLowerCase();return i<l?-1:i>l?1:0}),t=[],ParentIds=[];for(c=0;c<h.length;c++)t.push(h[c].id),ParentIds.push(parseInt(h[c].parentid.split("_")[1]));CheckConsecutive(ParentIds)||(isNotsequence=!0),isNotsequence?$("#increaseWidth,#A2").removeClass("disableToolIcon"):clickedArray.length<=3?$("#btnAlignMerge,#increaseWidth,#A2").removeClass("disableToolIcon"):$("#increaseWidth,#A2").removeClass("disableToolIcon"),isNotsequence=!1}}}else gridArray.length>0?$("#increaseWidth,#A2").removeClass("disableToolIcon"):tableArray.length>0&&$("#A3,#A4").removeClass("disableToolIcon")}function CancelButtonClicked(){"True"==isTstPop?window.location.href=document.referrer:BackForwardButtonClicked("back")}function DesignSaveSuccess(){""!=$("#hdnLayout").val()?window.location.href="tstruct.aspx?transid="+transid+"&layout="+$("#hdnLayout").val():window.location.href="tstruct.aspx?transid="+transid}function toggleEyeClass(e,r){r.preventDefault(),r.stopPropagation(),designChanged=!0,$("#A5").removeClass("disableToolIcon"),$(e).find("i").hasClass("icon-basic-eye")?$(e).find("i").removeClass("icon-basic-eye").attr("title","Show column").addClass("icon-basic-eye-closed"):$(e).find("i").removeClass("icon-basic-eye-closed").attr("title","Hide column").addClass("icon-basic-eye")}!function(e){"use strict";e(document).on("show.bs.tab",'.nav-tabs-responsive [data-toggle="tab"]',function(r){var i=e(r.target),l=(i.attr("id"),i.closest(".nav-tabs-responsive")),a=i.closest("li"),d=(a.attr("id"),a.next());"notVisible"===d.attr("class")&&(d=d.next());var s=a.prev();"notVisible"===s.attr("class")&&(s=s.prev());l.find(">li").removeClass("next prev"),s.addClass("prev"),d.addClass("next")})}(jQuery);