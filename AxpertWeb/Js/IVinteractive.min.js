/*www.agilecloud.biz/minZIP?v=3.3*/function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var maxNoOfPills=5,ivirMainObj={},ivirTable="#GridView1",initialChkup={},ivirVisibleColumns=[],tmpGroupObj={},fixedColumnsObj="",allGrandTotal=[],groupingCol="",pillDependentCols={},numericColumns=[],anchorRegexPatter=/<a [^>]/,custBtnIVIR="",dateOptions=["Custom","Today","Yesterday","Tomorrow","This week","Last week","Next week","This month","Last month","Next month","This quarter","Last quarter","Next quarter","This year","Last year","Next year"],dateOptionsCaption=callParentNew("lcm")[445],errorMessages={emptyField:eval(callParent("lcm[13]")),invalidName:eval(callParent("lcm[14]")),integerChk:eval(callParent("lcm[15]")),emptySelect:eval(callParent("lcm[16]")),chartSelection:eval(callParent("lcm[17]")),columnSelection:eval(callParent("lcm[18]")),downloadSelection:eval(callParent("lcm[19]")),maxPills:eval(callParent("lcm[20]")),duplicateFld:eval(callParent("lcm[21]")),dependentColumns:eval(callParent("lcm[22]")),noChartWhileGrpng:"When grouping is enabled chart cannot be viewed."},advFiltersObjectToApply={},regexes={validName:"^[a-zA-Z0-9][a-zA-Z0-9 ,.'_-]{0,}$"},isSpecialRow=!1,colTypes={c:"string",n:"num-fmt",d:"date"},colAlign={Left:"dt-left",Right:"dt-right",Center:"dt-center"};$("body").attr("dir")&&"rtl"==$("body").attr("dir")&&(colAlign={Right:"dt-left",Left:"dt-right",Center:"dt-center"});var btnFilterApplyVal=callParentNew("lcm")[399],btnFilterApplyEditVal=callParentNew("lcm")[442];function generateAdvFilterDates(e){var t={from:"",to:""};switch(e){case"customOption":break;case"todayOption":var i=new Date;t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"yesterdayOption":(i=new Date).setDate(i.getDate()-1),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"tomorrowOption":(i=new Date).setDate(i.getDate()+1),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"this_weekOption":i=getFirstDayOfWeek(new Date);t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setDate(i.getDate()+6),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"last_weekOption":(i=getFirstDayOfWeek(new Date)).setDate(i.getDate()-7),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setDate(i.getDate()+6),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"next_weekOption":(i=getFirstDayOfWeek(new Date)).setDate(i.getDate()+7),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setDate(i.getDate()+6),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"this_monthOption":(i=getFirstDayOfWeek(new Date)).setDate(1),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setMonth(i.getMonth()+1),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"last_monthOption":(i=getFirstDayOfWeek(new Date)).setDate(1),i.setMonth(i.getMonth()-1),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setMonth(i.getMonth()+1),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"next_monthOption":(i=getFirstDayOfWeek(new Date)).setDate(1),i.setMonth(i.getMonth()+1),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setMonth(i.getMonth()+1),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"this_quarterOption":i=new Date;var a=Math.floor((i.getMonth()+3)/3);i.setDate(1),i.setMonth(3*a-3),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setMonth(i.getMonth()+3),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"last_quarterOption":i=new Date;0==(a=Math.floor((i.getMonth()+3)/3)-1)&&(a=4,i.setFullYear(i.getFullYear()-1)),i.setDate(1),i.setMonth(3*a-3),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setMonth(i.getMonth()+3),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"next_quarterOption":i=new Date;5==(a=Math.floor((i.getMonth()+3)/3)+1)&&(a=1,i.setFullYear(i.getFullYear()+1)),i.setDate(1),i.setMonth(3*a-3),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setMonth(i.getMonth()+3),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"this_yearOption":(i=new Date).setDate(1),i.setMonth(0),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setFullYear(i.getFullYear()+1),i.setMonth(0),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"last_yearOption":(i=new Date).setFullYear(i.getFullYear()-1),i.setDate(1),i.setMonth(0),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setFullYear(i.getFullYear()+1),i.setMonth(0),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i);break;case"next_yearOption":(i=new Date).setFullYear(i.getFullYear()+1),i.setDate(1),i.setMonth(0),t.from=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i),i.setFullYear(i.getFullYear()+1),i.setMonth(0),i.setDate(0),t.to=$.datepicker.formatDate(dtFormat.replace("yyyy","yy"),i)}return t}function generateUniqueColumnVals(e,t){var i=[];try{ivirDataTableApi.cells(ivirDataTableApi.rows(":not(.specialRow)").nodes(),t,{search:"applied"}).data().unique().sort().each(function(t,a){if("n"==e)t=(t="object"==_typeof(t)?t.display:t).replace(/,/g,""),i.push(t);else if("d"==e){getAjaxIviewData&&(t=getDateBasedOnCulture(t));var r=getDateStamp(t);i.push(r)}})}catch(a){}return i}function getDateStamp(e){try{var t=dtFormat.substring(0,dtFormat.length-2).split(/-|\//),i=e.split(/-|\//);if(t[0].toLowerCase().startsWith("d")){var a=[i[1],i[0],i[2]];i[0]=a[0],i[1]=a[1],i[2]=a[2]}return parseInt(new Date(i).getTime(),10)||e}catch(r){}}function enableDisableDateField(e,t){e.datepicker(t).css({height:"enable"==t?"":"30px",opacity:"enable"==t?"1":"0.5"})}function getFirstDayOfWeek(e){var t=(e=new Date(e)).getDay(),i=e.getDate()-t+(0==t?-6:1);return new Date(e.setDate(i))}function isNumberBetweenScope(e,t,i){return isNaN(e)&&isNaN(t)||isNaN(e)&&i<=t||e<=i&&isNaN(t)||e<=i&&i<=t}function generateFilterPill(filterJSON,advFilterNameValue,indexOfArray,isPillAlreadyChecked){var indexOfFilterArray,limitExceeded=!1,isFirstTime=!1,name=advFilterNameValue;if(indexOfArray===undefined){if(jQuery.isEmptyObject(ivirMainObj)){var filterArr=ivirMainObj.filter=[];isFirstTime=!0,indexOfFilterArray=0}else if(ivirMainObj.filter===undefined){var filterArr=ivirMainObj.filter=[];indexOfFilterArray=0}else{var filterArr=ivirMainObj.filter;isFirstTime=!1,filterArr.length>=maxNoOfPills&&(limitExceeded=!0),indexOfFilterArray=filterArr.length}var filterObj=new Object}else{var filterObj=ivirMainObj.filter[indexOfArray];indexOfFilterArray=indexOfArray}if(limitExceeded){var cutMsg=eval(callParent("lcm[23]"));showAlertDialog("warning",cutMsg)}else filterObj.n=name,filterObj.data=JSON.parse(filterJSON),indexOfArray===undefined?(filterArr.push(filterObj),isFirstTime||0==$("#ivirFilteredAccordion").length?0==$("#ivirFilteredAccordion").length?createPills("all","first"):($("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"),createPills("all","last")):$("#ivirFilteredAccordion").length>0&&($("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"),upateThePills("filter",indexOfFilterArray,name))):($("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"),$("#filterpillCB"+indexOfArray).prop("checked",!0).attr("checked","checked"),$("#filterpillCB"+indexOfArray).parent().next().find(".ivirCndtnName").attr("title","Edit "+name).text(name));try{advFiltersObjectToApply=ivirMainObj.filter[indexOfFilterArray].data}catch(e){}return setSmartViewHeight(),!0}function fireTheCustomAction(e){$("#"+e).click(),__doPostBack(e,"")}function ivirShowChart(e,t,i){"chart"!==e&&($(".chartCndtnWrapper").hide(),$("#ivir"+e).show()),$("#ivirChartsRow span.customError").remove(),$(".ivirChartButton").removeClass("active"),$(i).addClass("active"),$("#ivir"+e+" .form-control").first().focus()}function ivirCreateChart(indexOfArray,isPillChecked,applyThePill,isFromLoad){var checkingArray=[],chartArray=[],columnIndex=$("#ivirChartCol").find("option:selected").data("index"),columnValue=$("#ivirChartCol").find("option:selected").val(),headerName=$(ivirDataTableApi.column(columnIndex).header()).text().trim(),valueIndex=$("#ivirChartVal").find("option:selected").data("index"),valueVal=$("#ivirChartVal").find("option:selected").val(),chartName=$("#ivirChartName").val(),typeOfChart=$("#ivirChartsRow .ivirChartButton.active").data("type"),isFirstTime=!0,limitExceeded=!1,isCBchecked;if(applyThePill===undefined)var name=chartName,colIndex=getPropertyAccess(columnValue),colValue=getPropertyAccess(valueVal),chartType=typeOfChart;else var ivirMainChartObj=ivirMainObj.chart[indexOfArray],name=ivirMainChartObj.n,colIndex=ivirMainChartObj.cl,colValue=ivirMainChartObj.v,chartType=ivirMainChartObj.t;if(isFromLoad){var chartObj=ivirMainObj.chart[indexOfArray];chartName=chartObj.n,columnIndex=chartObj.cl,valueIndex=chartObj.v,chartType=chartObj.t}else{if(""==name)return ivirCustomErrMsg($("#ivirChartName"),errorMessages.emptyField),!1;if(!testRegex("validName",name))return ivirCustomErrMsg($("#ivirChartName"),errorMessages.invalidName),!1;if(colIndex==undefined||""===colIndex)return ivirCustomErrMsg($("#ivirChartCol"),errorMessages.emptySelect),!1;if(colValue==undefined||""===colValue)return ivirCustomErrMsg($("#ivirChartVal"),errorMessages.emptySelect),!1;if(!chartType)return ivirCustomErrMsg($("#ivirChartsRow"),errorMessages.emptySelect),!1}if(isCBchecked=0!=$('input[name="chkItem"]:checked').length,indexOfArray===undefined||isPillChecked){var isDataExists=!1;ivirDataTableApi.rows().every(function(e,t,i){var a=ivirDataTableApi.rows(e).data()[0],r=this.node(),l=$(r).find("td");if(!isCBchecked||l.eq(0).find("input[name=chkItem]").is(":checked")){var o="",n="";o=isNaN(parseInt(colIndex))?a[colIndex]:a[Object.keys(a)[colIndex]],n=isNaN(parseInt(colValue))?a[colValue]:a[Object.keys(a)[colValue]],anchorRegexPatter.test(o)&&(o=$(o).text()),anchorRegexPatter.test(n)&&(n=parseInt($(n).text()));var s=$.inArray(o,checkingArray);if(-1==s){checkingArray.push(o);var c={};c.name=o,0!==(n=parseInt(n))&&n&&""!==n&&(isDataExists=!0),"pie"==chartType||"donut"==chartType?c.y=n:"bar"!=chartType&&"column"!=chartType||(c.data=[n]),chartArray.push(c)}else{var d=chartArray[s];if("pie"==chartType||"donut"==chartType){var p=d.y;p=parseInt(p),n=parseInt(n),d.y=p+n}else if("column"==chartType||"bar"==chartType){p=d.data[0];d.data=[parseInt(p)+parseInt(n)]}}}})}if(indexOfArray===undefined){if(ivirMainObj.chart===undefined){var chartArr=ivirMainObj.chart=[];indexOfChartArry=0}else{var chartArr=ivirMainObj.chart;isFirstTime=!1,chartArr.length>=maxNoOfPills&&(limitExceeded=!0),indexOfChartArry=chartArr.length}var chartObj=new Object}else{var chartObj=ivirMainObj.chart[indexOfArray];indexOfChartArry=indexOfArray}if(indexOfArray===undefined||isPillChecked)if("pie"==chartType)pieChart(isDataExists,JSON.stringify(chartArray),name,indexOfChartArry,valueIndex);else if("donut"==chartType)pieChart(isDataExists,JSON.stringify(chartArray),name,indexOfChartArry,valueIndex,!0);else if("bar"==chartType||"column"==chartType){var dataTosend='["'+headerName+'"]~'+JSON.stringify(chartArray);columnChart(isDataExists,dataTosend,name,indexOfChartArry,chartType,valueIndex)}if(limitExceeded){var cutMsg=eval(callParent("lcm[23]"));showAlertDialog("warning",cutMsg)}else chartObj.n=name,chartObj.t=chartType,chartObj.cl=colIndex,chartObj.v=colValue,indexOfArray===undefined?(chartArr.push(chartObj),$("#ivirChartPills").hasClass("pillsAdded")?upateTheChartPills(indexOfChartArry,name):createChartPills()):(isPillChecked&&($(".ivirChartCheckBox").prop("checked",!1).removeAttr("checked"),$("#chartpillCB"+indexOfArray).prop("checked",!0).attr("checked","checked")),$("#ivirchart"+indexOfArray+"CndtnPill .ivirCndtnName").attr("title","Edit "+name).text(name));return setSmartViewHeight(),!0}$j(document).ready(function(e){e.fn.dataTableExt.ofnSearch["alt-status"]=function(e){console.log(e)},e.fn.dataTable.ext.errMode="none",e("#tasks").html(callParentNew("lcm")[407]+" <span class='caret'></span>").prop({title:callParentNew("lcm")[407]}),e(".print").prop({title:callParentNew("lcm")[408]}).text(callParentNew("lcm")[408]),e("#ivInSearchInput").attr({placeholder:callParentNew("lcm")[415]}),e(document).on("change","#IvirActions",function(t){e("#ivirCButtonsWrapper").is(":visible")&&!e("#ivirCButtonsWrapper button.active").hasClass("grdView")&&toggleGridView("grid");var i="",a=e(this).val();if(a&&""!=a)if("SHcolumns"==a){i='<div class="checkbox">',i+="<label>",i+='<input type="checkbox" id="showAllColumns" /><span>  '+callParentNew("lcm")[446]+" </span></label>",i+='<div id="ivirshowHideColumnWrapper" class="columList">';var r=0;""!=fixedColumnsObj&&(r=fixedColumnsObj.s.iLeftColumns);var l=(g=ivirDataTableApi.columns())[0].length,o=[],n=[];if(""!=groupingCol)!0,o=checkForPillDependentFlds("group",e("[id^='grouppillCB']:checked").data("index"),!0);var s=e("[id^='chartpillCB']:checked").data("index");s>=0&&(n=checkForPillDependentFlds("chart",s,!0));for(var c=o.concat(n),d=0;d<l;d++)if(!(getAjaxIviewData&&"true"==ivHeadRows[ivirDataTableApi.context[0].aoColumns[d].mData]["@hide"]||!getAjaxIviewData&&"true"==HideColumn[FieldName.indexOf(ivirDataTableApi.context[0].aoColumns[d].mData)])){var p=e(ivirDataTableApi.columns(d).header()).text().trim();i+='<div class="checkbox ivirLabelWrapper">';var h="";(d<r||-1!==e.inArray(d,c))&&(h="disabled"),!0===ivirDataTableApi.column(d).visible()?i+='<input class="customCheckBox '+h+'" '+h+' checked type="checkbox" data-index='+d+' value="'+p+'">':i+='<input class="customCheckBox '+h+'" '+h+' type="checkbox" data-index='+d+' value="'+p+'">',i+='<label class="ivirSortLabel">'+p+"</label>",i+="</div>"}i+="</div>",ivirActionDialog(callParentNew("lcm")[401],"column",i,"ivirshowHideColumns")}else if("sort"==a){i+='<div id="ivirSortColumnWrapper" class="columList">';var u=ivirDataTableApi.order(),v=[];for(d=0;d<u.length;d++)v.push(u[d][0]),v.push(u[d][1]);for(var m=0;m<v.length;m+=2){p=e(ivirDataTableApi.columns(v[m]).header()).text().trim();groupingCol!=v[m]&&(i+='<div class="checkbox ivirLabelWrapper">',i+='<input tabindex="-1" class="customCheckBox" type="checkbox" checked data-index='+v[m]+">",i+='<label class="ivirSortLabel">'+p+"</label>",i+='<span class="ascDscWrapper">',"asc"==v[m+1]?(i+='<button tabindex="-1" class="noBg" type="button"><i data-order="asc" class="glyphicon icon-basic-server-download glyphicon-sort-by-attributes active"></i></button>',i+='<button tabindex="-1" class="noBg" type="button"><i data-order="desc" class="glyphicon icon-basic-server-upload glyphicon-sort-by-attributes-alt"></i></button>'):(i+='<button tabindex="-1" class="noBg" type="button"><i data-order="asc" class="glyphicon icon-basic-server-download glyphicon-sort-by-attributes "></i></button>',i+='<button tabindex="-1" class="noBg" type="button"><i data-order="desc" class="glyphicon icon-basic-server-upload glyphicon-sort-by-attributes-alt active"></i></button>'),i+="</span>",i+="</div>")}for(var g=ivirDataTableApi.columns(),f=0;f<g[0].length;f++){if("true"!=isChkBox||0!=f)if(!0===ivirDataTableApi.column(f).visible()&&-1===jQuery.inArray(f,v))i+='<div class="checkbox ivirLabelWrapper">',i+='<input tabindex="-1" class="customCheckBox" type="checkbox" data-index='+f+">",i+='<label class="ivirSortLabel">'+(p=e(ivirDataTableApi.columns(f).header()).text().trim())+"</label>",i+='<span class="ascDscWrapper">',i+='<button tabindex="-1" class="noBg" type="button"><i data-order="asc" class="glyphicon icon-basic-server-download glyphicon-sort-by-attributes"></i></button>',i+='<button tabindex="-1" class="noBg" type="button"><i data-order="desc" class="glyphicon icon-basic-server-upload glyphicon-sort-by-attributes-alt"></i></button>',i+="</span>",i+="</div>"}i+="</div>",i+='<button type="button" title="'+callParentNew("lcm")[447]+'" class="noBg arrowUpDown" onclick="ivirMoveUpDown(\'up\',\'ivirSortColumnWrapper\')" id="listUp"><i class="icon-arrows-up"></i></button>',i+='<button type="button" title="'+callParentNew("lcm")[448]+'" class="noBg arrowUpDown" onclick="ivirMoveUpDown(\'down\',\'ivirSortColumnWrapper\')" id="listDown"><i class="icon-arrows-down"></i></button>',i+='<button id="clearSorting" title="'+callParentNew("lcm")[318]+'" class="noBg clear"><i class="icon-arrows-clockwise" style="top: -6px;position: relative;left: 2px;"></button>',ivirActionDialog(callParentNew("lcm")[403],"sort",i,"ivirSortColumns")}else"rowGrouping"==a?checkForPillsLength("group")||ivirActionDialog(callParentNew("lcm")[412],"group",getGroupHtml(),"ivirRowGrouping"):"highlighting"==a?checkForPillsLength("highlight")||ivirActionDialog(callParentNew("lcm")[396],"highlight",getHighlightHtml(),"ivirHighlightRow"):"download"==a?(i+="<div>",i+='<div style="margin-top: 10px;">',i+='<div id="main">',i+='<div class="row" id="ivirDownloadWrapper">',i+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button" title="CSV" class="noBg CSV active"><span style="font-size:30px" class="ivirDownload fa fa-file-excel-o CSV"></button></span><label style="display:block">CSV</label></div>',i+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button" title="Excel" class="noBg EXCEL"><span style="font-size:30px"  class="ivirDownload  fa fa-file-excel-o EXCEL"></button><label style="display:block">Excel</label></span></div>',i+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button"title="PDF" class="noBg PDF"><span style="font-size:30px" class="ivirDownload fa fa-file-pdf-o PDF"></button></span><label style="display:block">PDF</PDF></div>',i+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button" title="Print" class="noBg PRINT"><span style="font-size:30px" class="ivirDownload fa fa-print PRINT"></button></span><label style="display:block">Print</label></div>',i+="</div> ",i+="</div>",i+="</div>",i+="</div>",ivirActionDialog(callParentNew("lcm")[411],"download",i,"DownloadFile")):"chart"==a?checkForPillsLength("chart")||ivirActionDialog(callParentNew("lcm")[410],"chart",getChartHtml(),"ivirCreateChart"):"save"==a?saveInSessionBeforeSave():"moreFilters"==a?ivirMoreFilters():"clearFilters"==a&&(advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"},ivirDataTableApi.draw(),e("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"))}),e(document).on("keydown","#ivirCndtnToggleBtn",function(e){32!=e.keyCode&&13!=e.keyCode||toggleIvirPills()}),e(document).on("change","#IvirCustomActions",function(t){var i=e(this).val();""!=i&&(i.startsWith("custBtn")&&fireTheCustomAction(i.split(",")[0].substr(7)))}),e.fn.dataTable.ext.search.push(function(t,i,a,r,l){var o=!1,n=[];e.isEmptyObject(advFiltersObjectToApply)||advFiltersObjectToApply.somedummyfilterjsobjectkey?(o=!1,advFiltersObjectToApply.somedummyfilterjsobjectkey||(n=e("#divModalAdvancedFilters table tbody tr"))):(o=!0,n=e(Object.keys(advFiltersObjectToApply)));var s=[];return e(n).each(function(t){var i="";if(o){i=n[t];var a=ivirColumnTypeObj[i]}else a=e(this).data("coltype");switch(a){case"c":if(o)var l=advFiltersObjectToApply[i],c=getPropertyAccess(i);else l=e(this).find(".moreFiltersInput.characterFilter:nth(0)").val(),c=getPropertyAccess(e(this).find(".moreFiltersInput.characterFilter").data("field"));var d="object"==_typeof(r[c])?r[c].display:r[c],p=d=e(e.parseHTML(d)).text().trim();""!=l&&s.push(l.split(/\♣\|♣/g).filter(function(e,t){return p.indexOf(e)>-1}).length>0);break;case"n":var h=0,u=0;if(o){c=getPropertyAccess(i);if(""!=advFiltersObjectToApply[i].min.toString()||""!=advFiltersObjectToApply[i].max.toString()){var v=[];try{v=generateUniqueColumnVals(a,c+":name"),""==advFiltersObjectToApply[i].min.toString()&&(advFiltersObjectToApply[i].min=Math.min.apply(Math,_toConsumableArray(v))||h),""==advFiltersObjectToApply[i].max.toString()&&(advFiltersObjectToApply[i].max=Math.max.apply(Math,_toConsumableArray(v))||u)}catch(g){}try{h=parseFloat(advFiltersObjectToApply[i].min.toString().replace(/,/g,""))||h}catch(g){}try{u=parseFloat(advFiltersObjectToApply[i].max.toString().replace(/,/g,""))||u}catch(g){}}}else{c=getPropertyAccess(e(this).find(".moreFiltersInput.numericFilter:nth(0)").data("field"));if(""!=e(this).find(".moreFiltersInput.numericFilter:nth(0)").val()||""!=e(this).find(".moreFiltersInput.numericFilter:nth(1)").val()){v=[];try{v=generateUniqueColumnVals(a,c+":name"),""==e(this).find(".moreFiltersInput.numericFilter:nth(0)").val()&&e(this).find(".moreFiltersInput.numericFilter:nth(0)").val(Math.min.apply(Math,_toConsumableArray(v))||h),""==e(this).find(".moreFiltersInput.numericFilter:nth(1)").val()&&e(this).find(".moreFiltersInput.numericFilter:nth(1)").val(Math.max.apply(Math,_toConsumableArray(v))||u)}catch(g){}h=parseFloat(e(this).find(".moreFiltersInput.numericFilter:nth(0)").val().toString().replace(/,/g,""))||h,u=parseFloat(e(this).find(".moreFiltersInput.numericFilter:nth(1)").val().toString().replace(/,/g,""))||u}}d="object"==_typeof(r[c])?r[c].display:r[c];d=checkFroNegativeValue(e(e.parseHTML(d)).text().trim()),p=isInValidNumber(p=parseFloat(d.toString().replace(/,/g,"")))?-1:p,(0!=h||0!=u)&&s.push(isNumberBetweenScope(h,u,p));break;case"d":h=0,u=0;if(o){c=getPropertyAccess(i);if("undefined"==typeof advFiltersObjectToApply[i].min||""==advFiltersObjectToApply[i].min.toString()&&""==advFiltersObjectToApply[i].max.toString()){var m=generateAdvFilterDates(advFiltersObjectToApply[i]);h=getDateStamp(m.from),u=getDateStamp(m.to)}else{v=[];try{v=generateUniqueColumnVals(a,c+":name"),""==advFiltersObjectToApply[i].min.toString()&&(advFiltersObjectToApply[i].min=new Date(Math.min.apply(Math,_toConsumableArray(v))||h)),""==advFiltersObjectToApply[i].max.toString()&&(advFiltersObjectToApply[i].max=new Date(Math.max.apply(Math,_toConsumableArray(v))||u))}catch(g){}try{if(advFiltersObjectToApply[i].min)h=getDateStamp(advFiltersObjectToApply[i].min)||h;else;}catch(g){}try{if(advFiltersObjectToApply[i].max)u=getDateStamp(advFiltersObjectToApply[i].max)||u;else;}catch(g){}}}else{c=getPropertyAccess(e(this).find("input.moreFiltersInput.dateFilter:nth(0)").data("field"));if(""!=e(this).find("input.moreFiltersInput.dateFilter:nth(0)").val()||""!=e(this).find("input.moreFiltersInput.dateFilter:nth(1)").val()){v=[];try{v=generateUniqueColumnVals(a,c+":name"),""==e(this).find("input.moreFiltersInput.dateFilter:nth(0)").val()&&e(this).find("input.moreFiltersInput.dateFilter:nth(0)").datepicker("setDate",new Date(Math.min.apply(Math,_toConsumableArray(v))||h)),""==e(this).find("input.moreFiltersInput.dateFilter:nth(1)").val()&&e(this).find("input.moreFiltersInput.dateFilter:nth(1)").datepicker("setDate",new Date(Math.max.apply(Math,_toConsumableArray(v))||u))}catch(g){}try{h=parseInt(e(this).find("input.moreFiltersInput.dateFilter:nth(0)").datepicker("getDate").getTime(),10)||h}catch(g){}try{u=parseInt(e(this).find("input.moreFiltersInput.dateFilter:nth(1)").datepicker("getDate").getTime(),10)||u}catch(g){}}}p=-1;try{d="object"==_typeof(r[c])?r[c].display:r[c];d=e(e.parseHTML(d)).text().trim(),getAjaxIviewData&&(d=getDateBasedOnCulture(d)),p=getDateStamp(d)}catch(g){}(0!=h||0!=u)&&s.push(isNumberBetweenScope(h,u,p))}}),!(s.length>0)||s.indexOf(!0)>-1}),e.fn.dataTable.Api.register("order.neutral()",function(){return this.iterator("table",function(e){e.aaSorting.length=0,e.aiDisplay.sort(function(e,t){return e-t}),e.aiDisplayMaster.sort(function(e,t){return e-t})})}),e(document).on("dblclick","th.sorting, th.sorting_asc, th.sorting_desc, th.dt-right, th.dt-left",function(){ivirDataTableApi.order.neutral().draw()}),e(document).on("click","#btnFilter",function(){e('[data-dropdown-value="moreFilters"]').attr("data-filter-type","search"),advFiltersObjectToApply={},ivirDataTableApi.draw()}),e(document).on("click","#btnFilterApply",function(){var t=e("#advSearchName").val();if(-1!=e("#divModalAdvancedFilters .body-cont").parent().find(".body-cont").data("pillindex")||!checkForPillsLength("filter"))if(t){var i=getFiltersPillIndex();if(!ivirDuplicateCheck("filter",i!=undefined,i))return!1;var a=JSON.stringify(generateSearchString("JSON"));"{}"!=a?(generateFilterPill(a,t,i),ivirDataTableApi.draw(),e('[data-dropdown-value="moreFilters"]').attr("data-filter-type","filter")):showAlertDialog("info","Filter fields cannot be empty.")}else showAlertDialog("warning","Enter your filter name.")}),e(document).on("change","select.dateFilter",function(){var t=e(this).parent().nextAll(),i=e(t[0]).find("input.moreFiltersInput"),a=e(t[1]).find("input.moreFiltersInput"),r=generateAdvFilterDates(e(this).val());i.val(r.from),a.val(r.to),enableDisableDateField(t.find("input.moreFiltersInput"),"customOption"==e(this).val()?"enable":"disable")})});var nxtScrollSize=100,defaultRecsPerPage=100,checkNextDBRowsExist=!0,dtPageNo=1,dtTotalRecords=0,dtDbTotalRecords=0,autoAppendRecords=!1,pageScrollToEnd=!1,scrollTopPosition=0;function createIvirDataTable(e,t,i,a){console.log(new Date+": datatable creation started");var r=$(".iviewTableWrapper")[0].offsetHeight+"px",l={},o="",n="";if("clear"!=e&&"groupApply"!=e&&"group"!=e||(o=$("#pillsWrapper").html()),n=$("#accordion").detach(),l.scrollY=r,l.scrollX=!0,l.dom="<'#ivirCustomContainer.container-fluid'<'row'<'#pillsWrapper.col-md-6 col-sm-6'><'col-md-6 col-sm-6 pull-right'l>>><'#ivirMainDataTableWrapper't>",l.scrollCollapse=!0,l.colReorder=!1,l.language={search:"_INPUT_",searchPlaceholder:"Search...",lengthMenu:"Show _MENU_ rows",paginate:{next:'<i class="glyphicon glyphicon-arrow-left icon-arrows-right"></i>',previous:'<i class="glyphicon glyphicon-arrow-left icon-arrows-left"></i>'}},l.lengthMenu=[10,25,50,75,100,250,500],l.lengthChange=!1,l.buttons=[{extend:"copyHtml5",text:"Copy",title:IVIRCaption,exportOptions:{columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),r=!0;return("true"==isChkBox&&0==e||!a)&&(r=!1),r},rows:""}},{extend:"csvHtml5",text:"CSV",title:IVIRCaption,exportOptions:{columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),r=!0;return("true"==isChkBox&&0==e||!a)&&(r=!1),r},rows:""}},{extend:"excelHtml5",text:"Excel",title:IVIRCaption,exportOptions:{columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),r=!0;return("true"==isChkBox&&0==e||!a)&&(r=!1),r},rows:""}},{extend:"pdfHtml5",text:"PDF",title:IVIRCaption,exportOptions:{columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),r=!0;return("true"==isChkBox&&0==e||!a)&&(r=!1),r},rows:""}},{extend:"print",text:"Print",title:"",message:"<center>"+printTitle+"</center> <br> <center>"+IVIRCaption+"</center> <br>",exportOptions:{columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),r=!0;return("true"==isChkBox&&0==e||!a)&&(r=!1),r},rows:""}}],l.select={style:"multi"},l.paging=!0,l.pageLength=pageLength=-1,l.aaSorting=[],l.orderClasses=!1,l.initComplete=function(e,t){$(".animationLoading").hide(),getAjaxIviewData&&dtDbTotalRecords>nxtScrollSize&&ivDatas.length!=undefined&&setTimeout(function(){var e=nxtScrollSize;defaultRecsPerPage=iviewDataWSRows;var t=0;dtDbTotalRecords>iviewDataWSRows?(nxtScrollSize=t=defaultRecsPerPage,autoAppendRecords=!0):t=(nxtScrollSize+=defaultRecsPerPage)>dtDbTotalRecords?dtDbTotalRecords:nxtScrollSize,e<t&&ivirDataTableApi.rows.add(ivDatas.slice(e,t)).draw(!1),console.log(new Date+": load time")},0),console.log(new Date+": end time"),autoSplitChecker()},getAjaxIviewData){var s='<a href="javascript:void(0)" onclick="getIviewRecordCount();" id="getIviewRecordCountVal" title="" class="icon-arrows-question fa"></a>';l.preDrawCallback=function(e){scrollTopPosition=$(".dataTables_scrollBody").scrollTop()},l.drawCallback=function(){if(0==dtDbTotalRecords)$("#rowsTxtCount").hide();else{var e=dtDbTotalRecords;if(dtDbTotalRecords>iviewDataWSRows&&dtDbTotalRecords>nxtScrollSize)e=s=dtDbTotalRecords,autoAppendRecords?setTimeout(function(){g()},0):console.log(new Date+": append completed");else if(checkNextDBRowsExist){if(iviewDataWSRows<=nxtScrollSize){0==$("#requestNextRecords").length&&$("#rowsTxtCount").append("<span title='Request next page records' id='requestNextRecords' onclick='requestNextRecords()'><i class='fa fa-chevron-circle-right'></i></span>"),$(".dataTables_scrollBody").hasScrollBar()?$("#requestNextRecords").hide():$("#requestNextRecords").show(),checkNextDBRowsExist||(s=dtDbTotalRecords)}}else s=dtDbTotalRecords;$("#lblCurPage").html("Rows: 1-"+e+" of "+(""==totRowCount?s:"")),hideDataTableLoading()}setSmartViewHeight()}}"true"==isChkBox?l.columnDefs=[{targets:0,orderable:!1}]:l.columnDefs=[],e==undefined&&(getAllNumericColumns(),l.columnDefs.push({className:"dt-right",targets:numericColumns})),getAjaxIviewData&&(l.columnDefs.push({targets:"_all",createdCell:function(e,t,i,a,r){isSpecialRow=!1;var l=FieldName[r],o=getPropertyAccess(l);""!=(t=processCellData({td:e,cellData:t,rowData:i,row:a,col:r,colID:l,rowDataAccess:o}))?0==r?$(e).html(genarateCellCheckbox({col:r,row:a,rowData:i})):(isSpecialRow||$(e).html(generateCellHyperlink({cellData:t,rowData:i,row:a,col:r,colID:l,rowDataAccess:o})),applyConditionalFormatting({td:e,rowData:i,colID:l}),cellHeaderConf.root_class_index&&$(e).html(generateExpColTree({td:e,cellData:t,rowData:i,row:a,col:r,colID:l,rowDataAccess:o}))):$(e).html(""),iviewWrap?$(e).css({"word-break":"break-all"}):$(e).css({"white-space":"nowrap"})}}),l.createdRow=function(e,t,i){!t[getPropertyAccess("axrowtype")]||"stot"!=t[getPropertyAccess("axrowtype")]&&"subhead"!=t[getPropertyAccess("axrowtype")]&&"gtot"!=t[getPropertyAccess("axrowtype")]||$(e).addClass("specialRow"),cellHeaderConf.root_class_index&&$(e).addClass(t[getPropertyAccess(cellHeaderConf.root_class_index)].toString()||"")},tableWidth=0,l.columns=FieldName.map(function(e,t){var i=ivHeadRows[e]["@width"]||minCellWidth;return"false"==(ivHeadRows[e]["@hide"].toString()||"true")&&(tableWidth+=parseInt(i,10)),{data:getPropertyAccess(e),name:getPropertyAccess(e),width:"".concat(i,"px"),className:colAlign[ivHeadRows[e]["@align"]||("rowno"==e?"Center":"Left")]}}),$(ivirTable).css({width:"".concat(tableWidth,"px")}),l.data=ivDatas.length!=undefined?ivDatas.slice(0,nxtScrollSize):ivDatas,l.deferRender=!0);var c=tableWidth||$("table#GridView1")[0].offsetWidth,d=$(window).width();if(("Iview"==document.title&&"true"==axpResp||c<=d)&&$(".gridData").css({width:"100%","min-width":"100%"}),$(".gridData").css("margin-left","0px"),a&&0!=a.length&&(l.footerCallback=function(e,t,i,r,l){for(var o=this.api(),n=function(e){return"string"==typeof e?1*e.replace(/[\$,]/g,""):"number"==typeof e?e:0},s=0;s<a.length;s++)if("-1"!=a[s]){var c=a[s];total=o.column(c).data().reduce(function(e,t){return""!=t.trim()&&"&nbsp;"!=t.trim()||(t=0),anchorRegexPatter.test(t)&&(t=$(t).text()),t=checkFroNegativeValue(t),n(e)+n(t)},0),pageTotal=o.column(c,{page:"current"}).data().reduce(function(e,t){return""!=t.trim()&&"&nbsp;"!=t.trim()||(t=0),anchorRegexPatter.test(t)&&(t=$(t).text()),t=checkFroNegativeValue(t),n(e)+n(t)},0),$(o.column(c).footer()).html("<br />"+(checkNextDBRowsExist?"Running":"Grand")+"  Total : "+commaSeparateNumber(total.toFixed(2)))}},ivirDataTableApi.fixedColumns().relayout()),ivirVisibleColumns.length>0){if("group"==e||"groupApply"==e){v="groupApply"!=e?t:ivirMainObj.group[t].cl;var p=ivirVisibleColumns.indexOf(v);ivirVisibleColumns.splice(p,1);var h=$("[id^='grouppillCB']:checked");if(h.length){var u=h.data("index");u=ivirMainObj.group[u].cl,-1===$.inArray(u,ivirVisibleColumns)&&ivirVisibleColumns.push(u)}}"true"==isChkBox&&ivirVisibleColumns.push(0),l.columnDefs.push({targets:ivirVisibleColumns,visible:!0}),l.columnDefs.push({targets:"_all",visible:!1})}if(e==undefined||"clear"==e)"clear"==e&&(groupingCol="",$(".rightClickMenu li.freeze").removeClass("hide"),ivirDatatable.fnDestroy(),$(ivirTable+" tfoot td").html("")),l.columnDefs.push({targets:hiddenColumnIndex,visible:!1}),$.fn.dataTable.moment("DD/MM/YYYY"),$.fn.dataTable.ext.errMode="none",ivirDataTableApi=$(ivirTable).DataTable(l),"clear"==e&&""!=o&&$("#pillsWrapper").html(o);else if("group"==e||"groupApply"==e){var v="";"groupApply"!=e?v=t:(v=ivirMainObj.group[t].cl,i=ivirMainObj.group[t].t),groupingCol=v,$(".rightClickMenu li.freeze").addClass("hide");var m=ivirDataTableApi.columns()[0].length;l.columnDefs.push({targets:v,visible:!1}),l.order=[[v,"asc"]],l.drawCallback=function(e){var t=this.api(),a=t.rows({page:"current"}).nodes(),r=null,l=e.aaSorting,o=[],n="",s=0;t.column(v,{page:"current"}).data().each(function(e,c){var d=e;if(anchorRegexPatter.test(e)&&(e=$(e).text()),r!==e){var p="";if(p+='<tr class="group">',i==undefined||0==i.length)p+='<td colspan="'+m+'">'+d+"</td>";else{p+='<td class="groupName">'+d+"</td>";for(var h=0;h<m;h++)if(h!=v){var u=$.inArray(h,i);if(-1!=u)if(l[l.length-1][0]==v){var g="0.00",f=i[u-1];"min"!==f&&"max"!==f||(g=""),p+='<td class="groupTotal" id="groupTotal'+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+h+'">'+g+"</td>"}else p+='<td class="groupTotal" id="groupTotal'+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+h+'"></td>';else 0!==h&&(p+="<td></td>")}}p+="</tr>",$(a).eq(c).before(p),r=e}if(l[l.length-1][0]==v&&i){var b=function(){for(var e=1;e<=i.length;e+=2){var t=i[e-1],a=i[e],r=$("#groupTotal"+n.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+a).text();"0.00"!==r&&""!==r||(r="0"),"avg"===t?(r/=s+1,$("#groupTotal"+n.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+a).text(r)):$("#groupTotal"+n.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+a).text(commaSeparateNumber(r))}};val=t.row(t.row($(a).eq(c)).index()).data(),""==n?n=e:n!==e?(b(),s=0,n=e):s++;var C=i[0],w=i[1],y=getPropertyAccess(i[2]);val=t.row(t.row($(a).eq(c)).index()).data();var x;x=y,val[x]="object"==_typeof(val[x])?val[x].display:val[x];var T=val[x].replace(/,/g,"");if(anchorRegexPatter.test(T)&&(T=$(T).text()),""!==(T=checkFroNegativeValue(T)))if(T=T||0,T=parseFloat(T),"sum"==C||"avg"==C)0!=o.length&&-1!=$.inArray(w,o)||o.push(w),$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text(parseFloat($("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text())+T);else if("count"==C){var D=parseInt($("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text())+1;$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text(D)}else if("max"==C){""===(k=$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text())&&(k=T-1),T>(k=parseInt(k))&&$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text(T)}else if("min"==C){var k;""===(k=$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text())&&(k=T+1),T<(k=parseInt(k))&&$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+w).text(T)}(ivirDataTableApi.page.info().length-1==c||ivirDataTableApi.rows().count()-1==c&&0!==s)&&b()}})},ivirDatatable.fnDestroy(),$(ivirTable+" tfoot td").html(""),ivirDataTableApi=$(ivirTable).DataTable(l),""!=o&&$("#pillsWrapper").html(o),$(ivirTable+" tbody").off("click.grpClick"),$(ivirTable+" tbody").on("click.grpClick","tr.group",function(){var e=ivirDataTableApi.order()[0];e[0]===v&&"asc"===e[1]?ivirDataTableApi.order([v,"desc"]).draw():ivirDataTableApi.order([v,"asc"]).draw()})}function g(){showDataTableLoading();var e=nxtScrollSize;nxtScrollSize+=defaultRecsPerPage;var t=0;autoAppendRecords?(t=dtDbTotalRecords,autoAppendRecords=!1):(t=nxtScrollSize>dtDbTotalRecords?dtDbTotalRecords:nxtScrollSize,checkNextDBRowsExist=!0),ivirDataTableApi.rows.add(ivDatas.slice(e,t)).draw(!1)}ivirDatatable=$(ivirTable).dataTable(),getAjaxIviewData&&$(".dataTables_scrollBody").on("scroll",function(e){var t=$(e.currentTarget),i=$(this).hasScrollBar()?t[0].scrollHeight-t.scrollTop()<=t.outerHeight():t[0].scrollHeight-t.scrollTop()<t.outerHeight();!pageScrollToEnd&&i&&(checkNextDBRowsExist&&nxtScrollSize<dtDbTotalRecords?g():checkNextDBRowsExist&&(showDataTableLoading(),setTimeout(function(){getNextDtRecords(dtPageNo+1)},0)))}),setSmartViewHeight(),""!==fixedColumnsObj&&"group"!=e&&"groupApply"!=e&&(fixedColumnsObj=new $.fn.dataTable.FixedColumns(ivirDataTableApi,{iLeftColumns:fixedColumnsObj.s.iLeftColumns}));var f="";f+='<div class="dropDownButton js-dropdown ivirActionDrpDwn">',f+='<input type="hidden" name="IvirActions" id="IvirActions" class="js-dropdown__input" value="">',f+='<button type="button" title="'+callParentNew("lcm")[406]+'" id="ivirActionButton" class="c-button c-button--dropdown js-dropdown__current">'+callParentNew("lcm")[406]+"</button>",f+='<ul class="dropDownButton__list" style="display: block; visibility: hidden;">',f+='<li class="dropDownButton__item subHeader" data-dropdown-value="save">'+callParentNew("lcm")[406]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="save"><i class="fa fa-floppy-o customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[400]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="SHcolumns"><i class="fa fa-columns customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[401]+"</li>";var b="";"group"!=e&&"groupApply"!=e||(b="subHeader"),f+='<li id="chartActionLi" class="dropDownButton__item '+b+'" data-dropdown-value="chart"><i class="fa fa-pie-chart customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[402]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="moreFilters"><i class="fa fa-search customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[399]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="clearFilters"><i class="fa fa-eraser customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[443]+"</li>",f+='<li class="dropDownButton__item subHeader" data-dropdown-value="data">'+callParentNew("lcm")[405]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="sort"><i class="fa fa-sort-amount-asc customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[403]+"</li>",f+='<li class="dropDownButton__item subHeader" data-dropdown-value="save" id="Format_header">'+callParentNew("lcm")[423]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="rowGrouping"><i class="icon-software-layers2 customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[404]+"</li>",f+='<li class="dropDownButton__item" data-dropdown-value="highlighting"><i class="icon-software-paintbrush customIcon" aria-hidden="true"></i>'+callParentNew("lcm")[396]+"</li>",f+="</ul>",f+="</div>",$("#filterWrapper").html(f),applyAdvFilter();var C="";ivirMainObj.chart==undefined?C+='<div style="display:none;" id="ivirCButtonsWrapper">':C+='<div id="ivirCButtonsWrapper">',"group"==e||"groupApply"==e?(C+='<button disabled title="Grid View" type="button" class="disabled grdView task-button shadow animate blue"><span class="disabled ivirCButton icon-software-layout-8boxes"></span></button>',C+='<button data-count="0" onclick="toggleGridView(\'showChartErrMsg\',this)" title="Chart View." type="button" class="disabled chrtView task-button shadow animate blue"><span class="disabled ivirCButton icon-ecommerce-graph1"></span></button>'):(C+='<button title="Grid View" type="button" onclick="toggleGridView(\'grid\')" class="grdView task-button shadow animate blue"><span class="ivirCButton icon-software-layout-8boxes"></span></button>',C+='<button title="Chart View" type="button" onclick="toggleGridView(\'chart\');" class="chrtView task-button shadow animate blue"><span class="ivirCButton icon-ecommerce-graph1"></span></button>'),C+="</div>",$("#ivirCustomActionButtons").html(C),$("#iconsUl #myFiltersLi").hasClass("hidden")||(n&&(n.find(".panel-collapse.collapse").removeClass("in"),n.insertAfter($("#ivirCustomContainer .row:first"))),$("#filterColumnSelect").addClass("filterExixts"));var w=ivirDataTableApi.columns();selectHtml="",selectHtml+='<div class="dropDownButton js-dropdown">',selectHtml+='<input type="hidden" name="searchSelectColumn" id="searchSelectColumn" class="js-dropdown__input">',selectHtml+='<button type="button" title="Search All" id="searchSelectColumnButton" class="c-button c-button--dropdown js-dropdown__current">All</button>',selectHtml+='<ul class="dropDownButton__list">',selectHtml+='<li class="dropDownButton__item" data-dropdown-value="all">All</li><li class="dropDownButton__item" data-dropdown-value="filter">Custom Filter</li>';for(var y=0;y<w[0].length;y++)if("true"!=isChkBox||0!=y){var x=$(ivirDataTableApi.columns(y).header()).text().trim();selectHtml+='<li class="dropDownButton__item"  data-index='+y+' data-dropdown-value="'+x+'">'+x+"</li>"}selectHtml+="</ul>",selectHtml+="</div>";var T="",D="";if(0!==custBtnIVIR.length){T+='<select name="IvirCustomActions" class="form-control cup" id="IvirCustomActions">',T+='<option value="">Options</option>';var k={};for(y=0;y<custBtnIVIR.length;y++){var A=custBtnIVIR[y].split("$"),S=A[2];S||(S="customActions"),k[S]===undefined?k[S]=[A[0]+"$"+A[1]]:k[S].push(A[0]+"$"+A[1])}for(var O in k)if(0===O.toLowerCase().indexOf("axp_btn_")){var F=k[O],P=F.length;if(1===P){var j=F[0].split("$");D+="<button onclick=\"fireTheCustomAction('".concat(j[0],'\')" class="btn cutomActionBtns btn-primary dib dropdown-toggle" type="button" data-toggle="dropdown">').concat(j[1],"</button>")}else{D+='<div class="dropdown dib">',D+='<button class="btn btn-primary cutomActionBtns dropdown-toggle" type="button" data-toggle="dropdown">'.concat(O.substr(8),' <span class="caret"></span></button>'),D+='<ul class="dropdown-menu">';for(var M=0;M<P;M++){var I=F[M].split("$");D+="<li><a onclick=\"fireTheCustomAction('".concat(I[0],'\')" href="javascript:void(0)">').concat(I[1],"</a></li>")}D+="</ul>",D+="</div>"}}else for(T+="customActions"==O?'<optgroup label="Options">':'<optgroup label="'+O+'">',M=0;M<k[O].length;M++){var N=k[O][M].split("$");T+='<option value="custBtn'+N[0]+'">'+N[1]+"</option>"}T+="</optgroup>",T+="</select>"}$("#filterColumnSelect").html(selectHtml),$("#customActionBtn").html(T+D),$("div.dataTables_filter input").addClass("ivirSearchFld form-control"),createMainEventsOnGrid(),setSmartViewHeight()}function autoSplitChecker(){var e="";if(getAjaxIviewData){if(ivConfigurations)try{e=ivConfigurations.filter(function(e,t){return e.PROPS&&"autosplit"==e.PROPS.toLowerCase()})[0].PROPSVAL}catch(t){}}else e=$("#hdnAutoSplit").val();e!=undefined&&"true"==e.toLowerCase()&&callParentNew("assocateIframe(".concat(!0,")"),"function")}function getPropertyAccess(e){return isPerf?"@"+e.toUpperCase():e}function genarateCellCheckbox(e){e.col,e.row;var t=e.rowData[getPropertyAccess("rowno")];return'<center><input name="chkItem" style="width:10px; height:12px;" type="checkbox" onclick="javascript:ChkHdrCheckbox();" value="'.concat(t,'"></center>')}function htmlEncode(e){return $("<div/>").text(e).html()}function htmlDecode(e){return $("<div/>").html(e).text()}function generateExpColTree(e){var t=e.td,i=(e.cellData,e.rowData),a=(e.row,e.col,e.colID,e.rowDataAccess),r=$(t).html();if(cellHeaderConf.root_atype_index&&cellHeaderConf.root_account_index&&getPropertyAccess(cellHeaderConf.root_account_index)==a&&"group"==i[getPropertyAccess(cellHeaderConf.root_atype_index)].toString().toLowerCase()){var l=i[a].match(/^([\s]+)/g);l=null!=l?l[0].replace(/ /g,"&nbsp;"):"",r="".concat(l,"<span class='icon-arrows-plus' style='font-size: 12px;'>").concat(r,"</span>")}return r}function processCellData(e){var t=e.td,i=e.cellData,a=e.rowData,r=e.row,l=e.col;e.colID,e.rowDataAccess;if((i=void 0!==i&&null!=i?i.toString():"").indexOf("~")>-1&&(i=i.replace(/~/g,"<br />")),"&nbsp;"!=i&&0!=l){var o=i;-1!=o.indexOf("&nbsp;")&&(o=o.replace(/&nbsp;/g," "))}else 0==l&&(i=(r+1).toString(),a[getPropertyAccess("rowno")]=i);switch(ColumnType[l]){case"c":i=i.trim();break;case"n":""!=i&&"&nbsp;"!=i&&!i.toString().startsWith("(")&&isInValidNumber(i)&&(i="0");break;case"d":if(""!=i&&"&nbsp;"!=i)if(isPerf&&i.indexOf("T")>-1&&i.indexOf("-")>-1){var n=(i=i.split("T")[0]).split("-");i=n[2]+"/"+n[1]+"/"+n[0]}else i=getDateBasedOnCulture(i);else i=""}if(a[getPropertyAccess("axrowtype")]&&("stot"==a[getPropertyAccess("axrowtype")]||"subhead"==a[getPropertyAccess("axrowtype")]||"gtot"==a[getPropertyAccess("axrowtype")])){switch(isSpecialRow=!0,SetAxFontCondition($(t),"fontstyle=b"),a[getPropertyAccess("axrowtype")]){case"stot":$(t).addClass("fontBlue");break;case"subhead":$(t).addClass("fontBlack");break;case"gtot":$(t).addClass("fontGreen")}"true"==isChkBox&&0==l&&(i=""),bulkDownloadEnabled&&cellHeaderConf.FilesIndexes[l]&&""!=i&&"&nbsp;"!=i&&(i='<a class="downloadLink'+r+'" href="javascript:SetFileToDownload(\''+proj+"','"+a[getPropertyAccess(FieldName[HeaderText.indexOf.transid])]+"','"+a[getPropertyAccess(FieldName[HeaderText.indexOf.axp_gridattach])]+"','"+i+'\');"> <img src="../AxpImages/Downloads-icon.png" alt="Download"/></a>')}return i}function tryParseInt(e,t){return null!==(e=e.toString().replace(/,/g,""))&&e.length>0&&!isNaN(e)&&(t=parseInt(e)),t}function isInValidNumber(e){var t;return!(t=tryParseInt(e,""))&&0!==t}function getDateBasedOnCulture(e){var t;""!=e&&(e=e.split(" ")[0],"en-us"==dtCulture?(t=e.split("/")).length>2&&(e=isPerf&&4==t[0].length?t[2]+"/"+t[0]+"/"+t[1]:t[1]+"/"+t[0]+"/"+t[2]):(t=e.split("-")).length>2&&isPerf&&4==t[0].length&&(e=t[2]+"/"+t[1]+"/"+t[0]));return e}function generateCellHyperlink(e){var t,i=e.cellData,a=e.rowData,r=e.row,l=e.col,o=e.colID,n=(e.rowDataAccess,i);if(n&&"false"==HideColumn[l]){var s="",c="",d="",p="",h="&torecid=false",u="";if(ivConfigurations)try{u=ivConfigurations.filter(function(e,t){return e.HLINK&&e.HLINK==o&&"navigation"==e.PROPS.toLowerCase()})[0].PROPSVAL}catch(y){}ivHeadRows[o]["@map"]&&ivHeadRows[o]["@map"].split(",").forEach(function(e,t){if(e.indexOf("=:")>-1){var i=e.split("=:");c=i[0].indexOf(".")>-1?i[0].split(".")[1]:i[0],d=i[1];var r=a[getPropertyAccess(d)];if(""!=(p=r||getParamsValueArray()[d]||"")&&(p=ReverseCheckSpecialChars(p),p=CheckUrlSpecialChars(p)),r&&ivHeadRows[d]["@type"]&&"d"==ivHeadRows[d]["@type"]&&""!=p){if((p=p.split(" ")[0]).split("-").length>2)var l=p.split("-");var o=Date.parse(l);!isNaN(o)&&o>0&&(p=l[0]+"/"+l[1]+"/"+l[2])}}s+="&"+c+"="+p}),s=(s=(s=s.split("#").map(function(e,t){return e.endsWith("&")&&t!=s.split("#").length-1?e+"#":t!=s.split("#").length-1?e+"%23":e}).join("")).replace(/\+/g,"%2b")).replace(/%3C/g,"l%3tC;"),0==(i=i.replace(/&nbsp;/g," ")).indexOf("<")&&i.indexOf(">")==i.length-1||i.indexOf("<")>-1&&(i.indexOf("</")>-1||i.indexOf("/>")>-1)||(i=CheckSpecialChars(i));var v="",m="false",g="false";if(axp_refresh&&"true"==axp_refresh?v="&axp_refresh="+Convert.ToString(iviewObj.Axp_refresh):ivHeadRows[o]["@refresh"]&&(m=ivHeadRows[o]["@refresh"].toLowerCase()),t=ivHeadRows[o]["@hlaction"]){if("0"!=n.toString()){try{ivActions&&ivActions[t]&&(g=ivActions[t].r1.param1.visible.toLowerCase())}catch(y){}n="<a href=\"javascript:callHLaction('"+ivHeadRows[o]["@hlaction"]+"',"+parseInt(a[getPropertyAccess("rowno")],10)+",'"+iName+"','"+u+"');setRefreshParent('"+g+"');\" class=l3>"+i+"</a>"}}else if((t=ivHeadRows[o]["@hlink"])&&"Grand Total"!=n&&("stot"!=a[getPropertyAccess("axrowtype")]||"subhead"!=a[getPropertyAccess("axrowtype")])){var f="";f="subhead"==a[getPropertyAccess("axrowtype")]?" class=ivHeaderLink":" class=l2";var b=!!ivHeadRows[o]["@pop"]&&"true"==ivHeadRows[o]["@pop"].toLowerCase(),C="&hltype="+ivHeadRows[o]["@hltype"],w=t.substr(0,1);if(t=t.substr(1),":"==w){try{t=a[getPropertyAccess(t)]}catch(y){}w="",t&&(w=t.substr(0,1),t=t.substr(1))}if("0"!=n.toString())switch(w){case"t":n=b?"<a href='javascript:void(0)' onclick='javascript:SetColumnName(\""+d+'","'+parseInt(r,10)+'","'+!0+'");setRefreshParent("'+m+'");LoadPopPage("ivtstload.aspx?tstname='+t+s+C+h+v+'","","","'+u+'");\' data-url="ivtstload.aspx?tstname='+t+s+C+h+v+'" class="handCur l2"  >'+i+"</a>":"<a href='javascript:void(0)' onclick='javascript:SetColumnName(\""+d+'","'+parseInt(r,10)+'","'+!0+'");LoadTstFrmIview("./ivtstload.aspx?tstname='+t+'","'+s+C+h+'","'+t+'","'+u+'");\' data-url="ivtstload.aspx?tstname='+t+s+C+h+'" '+f+" >"+i+"</a>";break;case"i":if(b)n="<a href='javascript:void(0)' onclick='javascript:LoadPopPage(\"ivtoivload.aspx?ivname="+t+s+C+'","","","'+u+'");\' data-url="ivtoivload.aspx?ivname='+t+s+C+'" class="handCur l2"  >'+i+"</a>";else n="<a href='javascript:void(0)' onclick=\"javascript:OpenIviewFromIv('"+("ivtoivload.aspx?ivname="+t)+"','"+(s=s.replace(/%26/g,"--.--"))+C+"','"+t+"','"+u+"');\""+f+">"+i+"</a>"}}}return n}function applyConditionalFormatting(e){var t=e.td,i=e.rowData,a=e.colID;i[getPropertyAccess("axp__font")]&&i[getPropertyAccess("axp__font")].split("~").forEach(function(e,i){if(e.startsWith(a+",")){var r=e.split(",").reduce(function(e,t,i){switch(i){case 1:e+="fontname=".concat(t,",");break;case 2:e+="fontsize=".concat(t,",fontstyle=");break;case 3:e+="t"==t?"b":"";break;case 4:e+="t"==t?"i":"";break;case 5:e+="t"==t?"u":"";break;case 6:e+="t"==t?"s":"";break;case 7:e+=",fontcolor=".concat(t)}return e},""),l=$(t);l.children().length&&SetAxFontCondition(l.children(),r),SetAxFontCondition(l,r)}})}function getParamsValueArray(){var e=$("#hdnparamValues").val(),t=[];return"string"==typeof e&&e.replace(/¿/g,"♣").split("♣").forEach(function(e,i){if(e){var a=e.split("~");t[CheckSpecialCharsInStr(a[0])]=CheckSpecialCharsInStr(a[1].toString()).replace(/&amp;grave;/g,"~")}}),t}function setSmartViewHeight(){var e=0;try{$(".dataTables_scrollFoot").length&&(e=$(".dataTables_scrollFoot")[0].offsetHeight)}catch(l){}var t=0;try{$("#requestNextRecords").length&&(t=$("#requestNextRecords")[0].offsetHeight)}catch(l){}var i=0;try{$("#ivirCustomContainer").length&&(i=$("#ivirCustomContainer")[0].offsetHeight)}catch(l){}var a=0;try{$(".ivcaptions").length&&(a=$(".ivcaptions").outerHeight(!0))}catch(l){}var r=Math.round($(window).height()-($("#breadcrumb-panel").outerHeight(!0)+$("#ivContainer").outerHeight(!0)+$(".dataTables_scrollHead").outerHeight(!0)+e+t+i+a+14));$(".dataTables_scrollBody").height()>r?$(".dataTables_scrollBody").css({"max-height":r}):$(".dataTables_scrollBody").css({height:r})}function applyAdvFilter(e){$("#advFilterWrapper").append("")}function ivirMoreFilters(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;$("#divModalAdvancedFilters span.customError").remove();var t=ivirDataTableApi.columns(),i=t[0].length,a="",r=$("#divModalAdvancedFilters .body-cont").parent();1==r.length?(r.find(".body-cont").attr("data-pillindex",e).data("pillindex",e),a=r.detach(),initAdvFilters=!1):(initAdvFilters=!0,i>0?(a+='<div class="bodyAndFooter-cont" style="height:100%;">'+'<input type="text" id="advSearchName" class="form-control fldNme" value="" placeholder="'.concat(callParentNew("lcm")[417],'" style="height: 35px !important;border-radius:5px;" />')+'<div class="body-cont" style="height: calc(100% - 70px);overflow: auto;margin-top:5px;" data-pillindex="'.concat(e,'">')+'<table class="gridDataFilter stripe row-border" style="min-width: initial;margin-top:12px"><tbody>',t.every(function(e){if(-1==hiddenColumnIndex.indexOf(e)){var t=$(this.header()).text().trim(),i=$(this.header()).attr("id").replace("GridView1_ctl01_","");if(""!=i&&"rowno"!=i){var r=ivirColumnTypeObj[i];a+='<tr data-coltype="'.concat(r,'" data-field="').concat(i,'" data-index="').concat(e,'"><td>').concat(t,"</td><td>").concat(getInnerAdvFilter(i,r,e),"</td></tr>")}}}),a+='</tbody></table></div><div class="footer-cont" style="height: 32px;position: absolute;bottom: 0px;right: 0px;margin: 10px;margin-bottom: 15px;padding-top: 5px;width: calc(100% - 20px);border-top: 1px solid black;"><div class="" style="">'+'<button id="resetMoreFilters" class="coldbtn btn handCursor allow-enter-key lastFocusable" onclick="resetMoreFilters();" title="'.concat(callParentNew("lcm")[444],'">').concat(callParentNew("lcm")[444],"</button>")+'</div><div class="pull-right" style="" id="filterBtn">'+'<input type="button" name="btnFilterApply" value="'.concat(btnFilterApplyVal,'" onclick="" id="btnFilterApply" title="').concat(btnFilterApplyVal,'" class="normalbtn btn handCursor allow-enter-key" style="margin-right: 5px;" />')+'<input type="button" name="btnFilter" value="'.concat(btnFilterApplyEditVal,'" onclick="" id="btnFilter" title="').concat(btnFilterApplyEditVal,'" class="hotbtn btn handCursor allow-enter-key" />')+"</div></div></div>"):a+="No Columns to filter."),displayBootstrapModalDialog("Advanced Filters","lg","330px",!1,a,"",initMoreFiltersAddOns)}function getInnerAdvFilter(e,t,i){var a="";switch(t){case"c":a+='<div class="col-md-12 col-sm-12"><input id="'.concat(e.replace(/ /g,"_").toLowerCase(),'Filter" class="moreFiltersInput characterFilter form-control" type="text" data-field="').concat(e,'" data-index="').concat(i,'" /></div>');break;case"n":a+='<div class="col-md-6 col-sm-12"><input id="'.concat(e.replace(/ /g,"_").toLowerCase(),'Filter1" class="moreFiltersInput numericFilter form-control" type="number" placeholder="').concat(callParentNew("lcm")[427],'" data-field="').concat(e,'" data-index="').concat(i,'" /></div><div class="col-md-6 col-sm-12"><input id="').concat(e.replace(/ /g,"_").toLowerCase(),'Filter2" class="moreFiltersInput numericFilter form-control" type="number" placeholder="').concat(callParentNew("lcm")[428],'" data-field="').concat(e,'" data-index="').concat(i,'" /></div>');break;case"d":a+='<div class="col-md-4 col-sm-12"><select id="'.concat(e.replace(/ /g,"_").toLowerCase(),'Options" class="moreFiltersInput dateFilter form-control" type="text" data-field="').concat(e,'" data-index="').concat(i,'" >').concat(dateOptions.map(function(e,t){return'<option value="'.concat(e.replace(/ /g,"_").toLowerCase(),'Option">').concat(dateOptionsCaption[t],"</option>")}).join(""),'</select></div><div class="col-md-4 col-sm-12"><input id="').concat(e.replace(/ /g,"_").toLowerCase(),'Filter1" class="moreFiltersInput dateFilter date form-control" type="text" placeholder="').concat(callParentNew("lcm")[427],'" data-field="').concat(e,'" data-index="').concat(i,'" style="display: inline-block; width: calc(100% - 25px);" /></div><div class="col-md-4 col-sm-12"><input id="').concat(e.replace(/ /g,"_").toLowerCase(),'Filter2" class="moreFiltersInput dateFilter date form-control" type="text" placeholder="').concat(callParentNew("lcm")[427],'" data-field="').concat(e,'" data-index="').concat(i,'" style="display: inline-block; width: calc(100% - 25px);" /></div>');break;case"t":a+="Time"}return a}function initMoreFiltersAddOns(){var filterType=$('[data-dropdown-value="moreFilters"]').attr("data-filter-type");"filter"==filterType&&resetMoreFilters();var modalHeader=eval(callParent("divModalHeader","id")+".getElementById('divModalHeader')");modalHeader.innerText=callParentNew("lcm")[409],initAdvFilters&&($(".moreFiltersInput.characterFilter").each(function(){var e=_toConsumableArray(new Set(ivirDataTableApi.cells(ivirDataTableApi.rows(":not(.specialRow)").nodes(),parseInt($(this).data("index"),10)).data().toArray().map(function(e){return $($.parseHTML(e)).text()})));e.indexOf("")>-1&&e.splice(e.indexOf(""),1),$(this).tokenfield({autocomplete:{source:e,delay:100},showAutocompleteOnFocus:!0,delimiter:"♣|♣",beautify:!1,createTokensOnBlur:!0}),$(".tokenfield").on("tokenfield:createtoken",function(e){$(this).find("input.moreFiltersInput").tokenfield("getTokens").filter(function(t){return t.value==e.attrs.value}).length>0&&e.preventDefault()}),$(".body-cont").off("scroll.closeAutoComp").on("scroll.closeAutoComp",function(){$(".body-cont .ui-autocomplete-input").autocomplete("close")})}),AddDatePicker("divModalAdvancedFilters"));var moreFilters=$("#divModalAdvancedFilters .body-cont").parent(),pillindex=moreFilters.find(".body-cont").data("pillindex");-1!=pillindex?(pushSearchStringtoFilters(ivirMainObj.filter[pillindex].data,"JSON"),$("#advSearchName").val(ivirMainObj.filter[pillindex].n),$("#btnFilterApply").val(btnFilterApplyEditVal),$("#btnFilter").hide()):($("#btnFilterApply").val(btnFilterApplyVal),$("#btnFilter").show()),ivirbindEvents("filter")}function pushSearchStringtoInput(){var e=$("#ivInSearchInput");e.val(generateSearchString()),e.trigger("keyup")}function generateSearchString(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"string",t="",i={};return $("tr[data-coltype]").each(function(){switch($(this).data("coltype")){case"c":var e=$(this).find(".moreFiltersInput.characterFilter:nth(0)");""!=e.val()&&(t+="".concat(e.data("field"),":=>").concat(e.val(),":::"),i["".concat(e.data("field"))]=e.val());break;case"n":var a=0,r=0,l=$(this).find(".moreFiltersInput.numericFilter:nth(0)"),o=$(this).find(".moreFiltersInput.numericFilter:nth(1)");if(""!=l.val()||""!=o.val()){var n=[];try{var s=getPropertyAccess(l.data("field"));n=generateUniqueColumnVals($(this).data("coltype"),s+":name"),""==l.val()&&l.val(Math.min.apply(Math,_toConsumableArray(n))||a),""==o.val()&&o.val(Math.max.apply(Math,_toConsumableArray(n))||r)}catch(d){}}a=parseFloat(l.val())||a,r=parseFloat(o.val())||r,0==a&&0==r||(t+="".concat(l.data("field"),":=><=").concat(a,"=><=").concat(r,"=>:::"),i["".concat(l.data("field"))]={},i["".concat(l.data("field"))].min=a,i["".concat(l.data("field"))].max=r);break;case"d":a="",r="",l=$(this).find("input.moreFiltersInput.dateFilter:nth(0)"),o=$(this).find("input.moreFiltersInput.dateFilter:nth(1)");if(""!=l.val()||""!=o.val()){n=[];try{s=getPropertyAccess(l.data("field"));n=generateUniqueColumnVals($(this).data("coltype"),s+":name"),""==l.val()&&l.datepicker("setDate",new Date(Math.min.apply(Math,_toConsumableArray(n))||a)),""==o.val()&&o.datepicker("setDate",new Date(Math.max.apply(Math,_toConsumableArray(n))||r))}catch(d){}}a=l.val()||a,r=o.val()||r;var c=$(this).find("select.moreFiltersInput.dateFilter");"customOption"!=c.val()?(t+="".concat(l.data("field"),":=>").concat(c.val(),":::"),i["".concat(l.data("field"))]=c.val()):""==a&&""==r||(t+="".concat(l.data("field"),":=><=").concat(a,"=><=").concat(r,"=>:::"),i["".concat(l.data("field"))]={},i["".concat(l.data("field"))].min=a,i["".concat(l.data("field"))].max=r)}}),t=t.endsWith(":::")?t.substr(0,t.length-3):t,"string"==e?t:"JSON"==e?i:""}function pushSearchStringtoFilters(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string",i=$("#ivInSearchInput"),a="string"==t?i.val().split(":::").sort():Object.keys(e);$(a).each(function(i,a){if("string"==t)var r=(a=a.trim()).split(":=>"),l=r[0],o=r[1];else o="string"==typeof e[l=a]?e[l].trim():e[l];$("tr[data-field]").filterByData("field",l).each(function(e,t){if($(t).data("field")==l)switch($(t).data("coltype")){case"c":$(t).find(".moreFiltersInput.characterFilter:nth(0)").tokenfield("setTokens",o.split("♣|♣"));break;case"n":var i=$(this).find("input.moreFiltersInput.numericFilter:nth(0)"),a=$(this).find("input.moreFiltersInput.numericFilter:nth(1)");if("object"==_typeof(o))i.val(o.min),a.val(o.max);else{var r=o.substr(2,o.length-4).split("=><=");i.val(r[0]),a.val(r[1])}break;case"d":i=$(this).find("input.moreFiltersInput.dateFilter:nth(0)"),a=$(this).find("input.moreFiltersInput.dateFilter:nth(1)");var n=$(this).find("select.moreFiltersInput.dateFilter");if("object"==_typeof(o))i.val(o.min),a.val(o.max),n.val("customOption");else if(o.indexOf("=><=")>-1){r=o.substr(2,o.length-4).split("=><=");i.val(r[0]),a.val(r[1]),n.val("customOption")}else n.val(o);n.trigger("change")}})})}function resetMoreFilters(){$("input.moreFiltersInput, #advSearchName").val(""),$("input.moreFiltersInput.characterFilter").each(function(){$(this).tokenfield("setTokens",[])}),$("select.moreFiltersInput option:first-child").prop("selected",!0),$("select.moreFiltersInput").trigger("change"),$("#btnFilterApply").val(btnFilterApplyVal),$("#btnFilter").show()}function checkFroNegativeValue(e){return e&&"("===(e=e.trim()).substr(0,1)&&")"===e.substr(-1,1)&&(e=e.substring(1,e.length-1),e=-parseInt(e)),e}function createMainEventsOnGrid(){$(".dataTables_scrollHead thead th").off("contextmenu"),$(".dataTables_scrollHead thead th").on("contextmenu",function(e){if(3==e.which){e.preventDefault();var t=$(e.target).find(".rightClickMenuIcn");createRightClick(e,ivirDataTableApi.column(t.parents("th")).index())}}),$(".dataTables_scrollHead thead th .rightClickMenuIcn").off("click"),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").off("click"),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);createRightClick(e,ivirDataTableApi.fixedColumns().cellIndex(t.parents("th")).column)}),$(".dataTables_scrollHead thead th .rightClickMenuIcn").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);createRightClick(e,ivirDataTableApi.column(t.parents("th")).index())}),$(".dataTables_scrollHead thead th .rightClickMenuIcn").off("keydown"),$(".dataTables_scrollHead thead th .rightClickMenuIcn").on("keydown",function(e){if(32==(e.keyCode||e.which)){e.preventDefault();var t=$(this),i=(e=t.offset(),{});i.pageX=e.left,i.pageY=e.top,createRightClick(i,ivirDataTableApi.column(t.parents("th")).index())}}),$(ivirTable).on("draw.dt",function(){$("#divModalAdvancedFilters").is(":visible")&&$("#btnModalClose").click()})}function getAllNumericColumns(){$(ivirTable+" thead tr:last th").each(function(e,t){headerCaption=$(this).text().trim(),headerName=$(this).attr("id").replace("GridView1_ctl01_",""),"n"==ivirColumnTypeObj[headerName]&&numericColumns.push(e)})}function freezeColumn(e){if(e+=1,fixedColumnsObj&&e==fixedColumnsObj.s.iLeftColumns)return fixedColumnsObj="",allGrandTotal&&allGrandTotal.length>0?createIvirDataTable("clear","","",allGrandTotal):createIvirDataTable("clear"),!1;$(".rightClickMenu li.freeze i").not("#rightClickMenu"+(e-1)+" li i").removeClass("icon icon-arrows-check"),""!=fixedColumnsObj?(fixedColumnsObj.s.iLeftColumns=e,fixedColumnsObj.fnRedrawLayout()):fixedColumnsObj=new $.fn.dataTable.FixedColumns(ivirDataTableApi,{iLeftColumns:e}),$(".DTFC_LeftBodyWrapper .ivirCustomHighlight,.DTFC_LeftBodyWrapper .ivirCustomHighlightCell").removeClass("ivirCustomHighlight").css({"background-color":"",color:""}),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").off("click"),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);createRightClick(e,ivirDataTableApi.fixedColumns().cellIndex(t.parents("th")).column)}),$(".DTFC_LeftHeadWrapper thead th").off("contextmenu"),$(".DTFC_LeftHeadWrapper thead th").on("contextmenu",function(e){3==e.which&&(e.preventDefault(),$(e.target).find(".rightClickMenuIcn").click())})}function colAscDsc(e,t){ivirDatatable.fnSort([t,e]),"asc"==e?$("#rightClickMenu"+t+" li.desc i").removeClass("icon-arrows-check"):$("#rightClickMenu"+t+" li.asc i").removeClass("icon-arrows-check")}function toggleGrandTotal(e){if($("#rightClickMenu"+e+" li.columnGrndTotal i").hasClass("icon-arrows-check")){var t=allGrandTotal.indexOf(e);allGrandTotal.splice(t,1)}else-1===$.inArray(e,allGrandTotal)&&allGrandTotal.push(e);""===groupingCol?createIvirDataTable("clear","","",allGrandTotal):createIvirDataTable("groupApply",$("[id^='grouppillCB']:checked").data("index"),"",allGrandTotal)}function createRightClick(e,t){var i=$("#rightClickMenu"+t);if(0==i.length){var a='<div class="menu rightClickMenu" id="rightClickMenu'+t+'">';a+="<ul>",t!=ivirDataTableApi.columns()[0].length-1&&(a+='<li class="freeze" onclick="freezeColumn('+t+')">Freeze Column<i class="fa  ckbox" aria-hidden="true"></i></li>'),a+='<li class="asc" onclick="colAscDsc(\'asc\','+t+')">Ascending<i class="fa  ckbox" aria-hidden="true"></i> </li>',a+='<li class="desc" onclick="colAscDsc(\'desc\','+t+')">Descending<i class="fa ckbox" aria-hidden="true"></i></li>';$(ivirDataTableApi.columns(t).header()).text().trim();var r=$(ivirDataTableApi.columns(t).header()).attr("id").replace("GridView1_ctl01_","");if("n"==ivirColumnTypeObj[r])0!=$.grep(ivDatas,function(e){return"gtot"==e.axrowtype||"stot"==e.axrowtype}).length||(a+='<li class="columnGrndTotal" onclick="toggleGrandTotal('+t+')">'+(checkNextDBRowsExist?"Running":"Grand")+' Total<i class="fa  ckbox" aria-hidden="true"></i></li>');a+="</ul>",a+="</div>",$("body").append(a),i=$("#rightClickMenu"+t)}if(i.is(":visible")&&i.data("index")==t)i.hide();else{""!=groupingCol&&i.find("li.freeze").addClass("hide");var l=getTheOrderOfCol(t);"empty"!=l&&(i.find("li.asc i,li.desc i").removeClass("icon-arrows-check"),"asc"==l?i.find("li.asc i").addClass("icon-arrows-check"):i.find("li.desc i").addClass("icon-arrows-check")),-1!==$.inArray(t,allGrandTotal)?i.find("li.columnGrndTotal i").addClass("icon-arrows-check"):i.find("li.columnGrndTotal i").removeClass("icon-arrows-check"),$(".rightClickMenu").hide(),i.data("index",t);var o=e.pageX,n=e.pageY;i.css({top:n,left:o});var s=i.width(),c=i.height(),d=$(window).width(),p=$(window).height(),h=$(window).scrollTop();o+s>d&&i.css({left:o-s}),n+c>p+h&&i.css({top:n-c}),i.show(),$(document).unbind("keydown.upDownEvents"),highlightAndBindUpDown(i,t,".rightClickMenu ul li")}}function highlightAndBindUpDown(e,t,i){var a=e.find("ul li").not(".subHeader"),r=a;if(r.siblings().removeClass("highlightOption"),".js-dropdown ul li"===i){var l=!0,o=e.find(".js-dropdown__input").val().toLowerCase();r.each(function(e,t){var i=$(t).data("dropdown-value");if(i=i.toLowerCase(),o===i)return $(this).addClass("highlightOption"),r=$(this),l=!1,!1}),l&&(r.first().addClass("highlightOption"),r=r.first()),a.off("mouseover.drpListHover"),a.on("mouseover.drpListHover",function(){$(".highlightOption").removeClass("highlightOption"),r=$(this),$(this).addClass("highlightOption")})}else r.first().addClass("highlightOption"),r=r.first();$(document).unbind("keydown.upDownEvents"),$(document).bind("keydown.upDownEvents",i,function(e){switch(e.which){case 38:r.is(":first-child")||1===r.index()&&1===r.prev(".subHeader").length||(e.preventDefault(),r.hasClass("highlightOption")&&(r.removeClass("highlightOption"),(r=r.prevAll().not(".subHeader").first()).addClass("highlightOption")));break;case 13:case 32:if(r.hasClass("highlightOption"))if(r.hasClass("desc"))colAscDsc("desc",t);else if(r.hasClass("asc"))colAscDsc("asc",t);else if(r.hasClass("freeze"))freezeColumn(t);else if(r.hasClass("columnGrndTotal"))toggleGrandTotal(t);else if(r.hasClass("dropDownButton__item")){var i=r,a=i.parents(".js-dropdown");a.find(".js-dropdown__input").data("index",i.data("index")).val(i.data("dropdown-value")).change(),a.hasClass("ivirActionDrpDwn")?a.find(".js-dropdown__current").text("Options"):a.find(".js-dropdown__current").attr("title","Search "+i.text()).text(i.text()),a.removeClass("is-open"),$(document).unbind("keydown.upDownEvents"),e.preventDefault(),e.stopPropagation()}break;case 40:r.is(":last-child")||(e.preventDefault(),r.hasClass("highlightOption")&&(r.removeClass("highlightOption"),(r=r.nextAll().not(".subHeader").first()).addClass("highlightOption")));break;case 9:r.parents(".js-dropdown").hasClass("is-open")&&(r.parents(".js-dropdown").removeClass("is-open"),$(document).unbind("keydown.upDownEvents"));break;default:return}})}function getTheOrderOfCol(e){var t=ivirDataTableApi.order(),i=t.length,a="empty";if(i>0)for(var r=0;r<i;r++){var l=t[r];if(l[0]==e)return a=l[1]}return a}function ivirInitailCheck(){ivirDataTableApi.row(0).every(function(e,t,i){for(var a=this.data(),r=0;r<a.length;r++){/<a[^>]*>([\s\S]*?)/g.test("object"==_typeof(a[r])?a[r].display:a[r])&&(initialChkup.isAnchor=r)}})}function highlightBindEvents(){$(document).on("focusout","#ivirbgColorValue",function(){var e=$(this).val(),t=tinycolor(e);t.isValid()&&$("#ivirbgColor").spectrum("set",t)}),$(document).on("focusout","#ivirtxtColorValue",function(){var e=$(this).val(),t=tinycolor(e);t.isValid()&&$("#ivirtxtColor").spectrum("set",t)})}function highlightUnBindEvents(){$(document).off("focusout","#ivirbgColorValue"),$(document).off("focusout","#ivirtxtColorValue")}function ivirActionDialog(titleName,task,htmlToShow,okFunction,showValuesOnOpen,isEditPill){var glType=eval(callParent("gllangType")),isRTL=!1;isRTL="ar"==glType,$.confirm({title:titleName,rtl:isRTL,content:htmlToShow,draggable:!0,type:"blue",typeAnimated:!0,backgroundDismiss:"false",escapeKey:"buttonB",columnClass:"col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1",buttons:{buttonA:{text:eval(callParent("lcm[281]")),btnClass:"btn okBtn hotbtntiny",action:function(){if("group"==task||"chart"==task||"highlight"==task){var e=showValuesOnOpen==undefined?undefined:showValuesOnOpen[1];if(!ivirDuplicateCheck(task,isEditPill,e))return!1}if("highlight"==task&&!validateFields(task))return!1;if(showValuesOnOpen){var t=showValuesOnOpen[0],i=showValuesOnOpen[1];if("highlight"==t||"group"==t||"chart"==t){var a=$("input#"+t+"pillCB"+i).is(":checked");if(!window[okFunction](i,a))return!1}}else if("group"==task||"chart"==task||"column"==task||"download"==task){if(!window[okFunction]())return!1}else window[okFunction]();setSmartViewHeight()}},buttonB:{text:eval(callParent("lcm[192]")),btnClass:"btn coldbtntiny "}},onContentReady:function(){if(disableBackDrop("bind"),isEditPill||checkForPillsLength(task),highlightTheFirstFld(),ivirbindEvents(task),"column"==task?$(".ivirLabelWrapper input:checkbox:not(:checked)").length>0?$("#showAllColumns").prop("checked",!1):$("#showAllColumns").prop("checked",!0):"sort"==task?$("#ivirSortColumnWrapper .ivirLabelWrapper:first").addClass("labelSelected"):"highlight"==task?($(document).find("#ivirtxtColor").spectrum({color:"#000000",clickoutFiresChange:!1,beforeShow:function(e){$("#ivirbgColor").spectrum("set",$("#ivirbgColorValue").val())},change:function(e){$("#ivirtxtColorValue").val(e.toHexString())}}),$(document).find("#ivirbgColor").spectrum({color:"#000000",clickoutFiresChange:!1,beforeShow:function(e){$("#ivirtxtColor").spectrum("set",$("#ivirtxtColorValue").val())},change:function(e){$("#ivirbgColorValue").val(e.toHexString())}}),highlightBindEvents()):"chart"==task&&$("#ivirChartName").focus(),showValuesOnOpen){var e=ivirMainObj[showValuesOnOpen[0]][showValuesOnOpen[1]];if("highlight"==showValuesOnOpen[0]){var t=e.n,i=e.t,a=e.bc,r=e.tc,l=e.cl,o=e.cn,n=e.v;$("#ivirHltName").val(t),$("#ivirHighlightType").val(i),$("#ivirbgColorValue").val(a),$("#ivirtxtColorValue").val(r),$("#ivirHighlightCol option[data-index="+l+"]").prop("selected",!0).change(),$("#ivirHighlightCndtn").val(o),$("#ivirHltValue").val(n),$(document).find("#ivirtxtColor").spectrum({color:r,clickoutFiresChange:!1,change:function(e){$("#ivirtxtColorValue").val(e.toHexString())}}),$(document).find("#ivirbgColor").spectrum({color:a,clickoutFiresChange:!1,change:function(e){$("#ivirbgColorValue").val(e.toHexString())}})}else if("group"==showValuesOnOpen[0]){t=e.n,l=e.cl;var s=e.t,c=e.g,d=1;if($("#grpName").val(t),$("#grpColName option[data-index="+l+"]").prop("selected",!0).change(),s)for(var p=1;p<s.length;p+=2){var h=s[p],u=s[p-1];1!==p&&$("#ivirTotalCndtn"+(d-1)+" .ivirTotalCndtnBtn").click(),$("#ivirTotalCndtn"+d+" .totalAggrFunction option[value='"+u+"']").prop("selected",!0).change(),$("#ivirTotalCndtn"+d+" .totalSource option[data-index='"+h+"']").prop("selected",!0).change(),"-1"!=c[d-1]&&$("#ivirTotalCndtn"+d+" .grndTtlCB input").prop("checked",!0),d++}}else if("chart"==showValuesOnOpen[0]){t=e.n,l=e.cl,n=e.v;var v=e.t;$("#ivirChartName").val(t),$("#ivirChartCol option[data-index="+l+"]").prop("selected",!0).change(),$("#ivirChartVal option[data-index="+n+"]").prop("selected",!0).change(),$("#ivirChartsRow .ivirChartButton").removeClass("active"),$("#ivirChartsRow").find("[data-type='"+v+"']").addClass("active")}}},onClose:function(){$("#IvirActions").val(""),ivirRemovebindEvents(task),highlightUnBindEvents(),"group"==task?tmpGroupObj={}:"column"==task&&(pillDependentCols={})}})}function highlightTheFirstFld(){for(var e=$(".jconfirm-box-container").find(":focusable"),t=0;t<e.length;t++)if("DIV"!=e[t].nodeName&&"-1"!=e[t].tabIndex)return e[t].focus(),!1}function checkForPillsLength(e){if("group"==e||"highlight"==e||"chart"==e||"filter"==e){var t=ivirMainObj[e];if(t&&t.length>=maxNoOfPills){var i=errorMessages.maxPills.replace(/_type_/g,e);return showAlertDialog("warning",i),$("#IvirActions").val(""),!0}}}function ivirbindEvents(e){var t=e.toLowerCase();jQuery(document).bind("keyup.cnfrmPopupKU",function(e){}),jQuery(document).bind("keydown.cnfrmPopupKD",function(e){var t='button[tabindex!="-1"],a[tabindex!="-1"],input[tabindex!="-1"],select[tabindex!="-1"],textarea[tabindex!="-1"]';e.shiftKey||9!=e.keyCode?e.shiftKey&&9==e.keyCode?$(document.activeElement)[0]==$(".jconfirm-box").find(t).first()[0]&&(e.preventDefault(),$(".jconfirm-box").find(t).last().focus()):27==e.keyCode&&(e.preventDefault(),$(".jconfirm-box .jconfirm-buttons .coldbtntiny").click()):$(document.activeElement)[0]==$(".jconfirm-buttons button:last")[0]&&(e.preventDefault(),$(".jconfirm-box").find(t).first().focus())}),$(".jconfirm-buttons button").each(function(){var e=$(this).text();$(this).prop("title",e.charAt(0).toUpperCase()+e.slice(1))}),$("#ivirHighlightWrapper .colorPicker").on("blur.accessColor",function(){$(this).val($($(this).next()).spectrum("get").toHexString())}),$(".dialogInptFld").on("keydown.dlgKD",function(){var e=$(this);e.next().hasClass("customError")&&e.next("span.customError").remove()}),$(".dialogSlctFld").on("change.dlgKD",function(){var e=$(this);e.next().hasClass("customError")&&e.next("span.customError").remove()}),$("[data-toggle=popover]").popover({trigger:"manual"}),$("[data-toggle=popover]").on("mouseenter",function(e){$(this).popover("show")}),$("[data-toggle=popover]").on("mouseleave",function(e){$("[data-toggle=popover]").popover("destroy")}),"column"==t?($(document).on("change","#showAllColumns",function(e){$(this).is(":checked")?$("#ivirshowHideColumnWrapper div.checkbox input:not('.disabled')").prop("checked",!0):($("#ivirshowHideColumnWrapper .customCheckBox:not('.disabled')").prop("checked",!1),0===$("#ivirshowHideColumnWrapper .customCheckBox:checked").length&&$("#ivirshowHideColumnWrapper .customCheckBox:not('.disabled'):first").prop("checked",!0))}),$(document).on("change","#ivirshowHideColumnWrapper .customCheckBox",function(e){$(this).is(":checked")?$(".ivirLabelWrapper input:checkbox:not(:checked)").length>0?$("#showAllColumns").prop("checked",!1):$("#showAllColumns").prop("checked",!0):$("#showAllColumns").prop("checked",!1)})):"sort"==t?($(document).on("click","#ivirSortColumnWrapper .ascDscWrapper button",function(e){var t=$(this),i=$($(this).parent());i.find("button i").removeClass("active"),t.find("i").addClass("active"),i.parent().find('input[type="checkbox"]').prop("checked",!0)}),$(document).on("click","#clearSorting",function(e){$("#ivirSortColumnWrapper .labelSelected").removeClass("labelSelected"),$("#ivirSortColumnWrapper input[type='checkbox']").prop("checked",!1),$("#ivirSortColumnWrapper .ascDscWrapper button i").removeClass("active")}),$(document).on("click",".ivirSortLabel",function(e){var t=$(this).parent(".ivirLabelWrapper");$("#ivirSortColumnWrapper .labelSelected").removeClass("labelSelected"),t.hasClass("labelSelected")?t.removeClass("labelSelected"):t.addClass("labelSelected")}),$(document).on("change",'#ivirSortColumnWrapper input[type="checkbox"]',function(e){$(this).is(":checked")?$(this).parent().find("span.ascDscWrapper").find("button i:first").addClass("active"):$(this).parent().find("span.ascDscWrapper").find("button i").removeClass("active")}),assignKeyDownDrag("ivirSortColumnWrapper")):"highlight"==t?$(document).on("change","#ivirHighlightCol",function(e){var t=$(this).data("lastColType"),i=$(this).find("option:selected").data("type");if("d"==i?$("#ivirHltValue").attr("type","date"):$("#ivirHltValue").attr("type","text"),$(this).data("lastColType",i),t==undefined||t!=i){var a="";"c"==i?(a+="<option value='equalto'>&#61;</option>",a+="<option value='notequalto'>&#33;&#61;</option>",a+="<option value='contains'>contains</option>",a+="<option value='notcontains'>not contains</option>",a+="<option value='regex'>regex</option>"):"n"!=i&&"d"!=i||(a+="<option value='equalto'>&#61;</option>",a+="<option value='notequalto'>&#33;&#61;</option>",a+="<option value='lessthan'>&lt;</option>",a+="<option value='lessthanequalto'>&lt;&#61;</option>",a+="<option value='greaterthan'>&gt;</option>",a+="<option value='greaterthanequalto'>&gt;&#61;</option>"),$("#ivirHighlightCndtn").html(a)}}):"group"==t&&$(document).on("change","#grpColName",function(e){var t=$(this);tmpGroupObj={},htmlToShow='<div id="ivirTotalCndtn1" class="ivirTotalCndtn row">',htmlToShow+='<div class="col-md-4">',htmlToShow+='<div class="form-group">',htmlToShow+='<label for="totalAggrFunction">Function</label>',htmlToShow+='<select class="form-control totalAggrFunction">',htmlToShow+='<option  value="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+='<option value="sum">Sum</option>',htmlToShow+='<option value="count">Count</option>',htmlToShow+='<option value="max">Max</option>',htmlToShow+='<option value="min">Min</option>',htmlToShow+='<option value="avg">Average</option>',htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<div class="col-md-4">',htmlToShow+='<div class="form-group">',htmlToShow+='<label for="totalSource">Source</label> ',htmlToShow+=' <a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="top" data-content="Please select the column, which will be used by the function for computation."></a>',htmlToShow+='<select class="form-control totalSource" id="">',htmlToShow+='<option value="" >'+callParentNew("lcm")[441]+"</option>",htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<div class="col-md-4 firstRow grpaddDltBtnWrapper">',htmlToShow+='<p class="labelP">Grand Total:</p>',htmlToShow+='<div class="checkbox grndTotalWrapper">',htmlToShow+='<label class="grndTtlCB"><input disabled type="checkbox" value=""></label>',htmlToShow+="</div>",htmlToShow+='<button type="button" title="Add" onclick="ivirAddTotalCndtn(2);" class="noBg ivirTotalCndtnBtn"><span class="icon-arrows-circle-plus ivirTotalCndtnIcon" ></span></button>',htmlToShow+="</div>",htmlToShow+="</div>",$("#ivirTotalCndtnWrapper").data("cndtns",[1]).attr("data-cndtns","[1]").html(htmlToShow),$("#ivirTotalCndtn1 [data-toggle=popover]").popover({trigger:"manual"}),$("#ivirTotalCndtn1 [data-toggle=popover]").on("mouseenter",function(e){$(this).popover("show")}),$("#ivirTotalCndtn1 [data-toggle=popover]").on("mouseleave",function(e){$("#ivirTotalCndtn1 [data-toggle=popover]").popover("destroy")}),""===t.val()?$("#ivirTotalCndtnWrapper").hide():($("#ivirTotalCndtnWrapper").show(),tmpGroupObj.groupIndex=$(this).find("option:selected").data("index"))})}function ivirRemovebindEvents(e){jQuery(document).unbind("keydown.cnfrmPopupKD"),jQuery(document).unbind("keyup.cnfrmPopupKU"),$(".dialogInptFld").off("keydown.dlgKD"),$(".dialogInptFld").off("change.dlgKD");var t=e.toLowerCase();"column"==t?$(document).off("change","#showAllColumns"):"sort"==t?($(document).off("click","#ivirSortColumnWrapper .ascDscWrapper button"),$(document).off("click","#clearSorting"),$(document).off("click",".ivirSortLabel"),$(document).off("change",'#ivirSortColumnWrapper input[type="checkbox"]'),$(document).off("keydown.upAndDown")):"highlight"==t?($("#ivirHighlightWrapper .colorPicker").off("blur.accessColor"),$(document).off("change","#ivirHighlightCol")):"group"==t&&$(document).off("change","#grpColName")}function assignKeyDownDrag(e){$(document).on("keydown.upAndDown",function(e){var t=$("#ivirSortColumnWrapper .ivirLabelWrapper.labelSelected");38==e.keyCode?0!=t.index()&&(t.prev().addClass("labelSelected"),t.removeClass("labelSelected")):40==e.keyCode?t.index()!=t.parent().find(".ivirLabelWrapper").last().index()&&(t.next().addClass("labelSelected"),t.removeClass("labelSelected")):32==e.keyCode&&(e.preventDefault(),$("#ivirSortColumnWrapper .ivirLabelWrapper.labelSelected .ascDscWrapper button i:not('.active')").first().click())})}function ivirMoveUpDown(e,t){var i=$("#"+t).find("div.labelSelected");"up"==e?0!=i.index()&&i.insertBefore(i.prev()):"down"==e&&i.index()!=i.parent().find(".ivirLabelWrapper").last().index()&&i.insertAfter(i.next())}function ivirshowHideColumns(){var e=[0],t="";if(0==$("#ivirshowHideColumnWrapper div.checkbox input:checked").length)return showAlertDialog("warning",errorMessages.columnSelection),!1;ivirVisibleColumns=[],$(ivirTable).css("width","auto"),$("#ivirshowHideColumnWrapper div.checkbox").each(function(t,i){var a=$(this).find("input");e.push(a.data("index")),a.is(":checked")?(ivirVisibleColumns.push(a.data("index")),ivirDataTableApi.column(a.data("index")).visible(!0)):ivirDataTableApi.column(a.data("index")).visible(!1)}),$(ivirTable).outerWidth()<$(window).width()&&($(ivirTable).css("width","100%"),ivirDatatable.fnAdjustColumnSizing());var i=ivirDataTableApi.columns();t+='<li class="dropDownButton__item" data-dropdown-value="all">All</li><li class="dropDownButton__item" data-dropdown-value="filter">Custom Filter</li>';for(var a=0;a<i[0].length;a++)if(-1!==$.inArray(a,ivirVisibleColumns)&&("true"!=isChkBox||0!=a)){var r=$(ivirDataTableApi.columns(a).header()).text().trim();t+='<li class="dropDownButton__item"  data-index='+a+' data-dropdown-value="'+r+'">'+r+"</li>"}if($("#filterColumnSelect ul.dropDownButton__list").html(t),-1===$.inArray($("#searchSelectColumn").data("index"),ivirVisibleColumns)&&$("#filterColumnSelect ul.dropDownButton__list li:first").click(),$(ivirTable+" tbody tr").css("height","22px"),ivirDataTableApi.fixedColumns().relayout(),createMainEventsOnGrid(),!jQuery.isEmptyObject(pillDependentCols)){var l=pillDependentCols.data,o=pillDependentCols.type,n=pillDependentCols.index,s=l.length;for(a=0;a<s;a++)if(-1===$.inArray(l[a],ivirVisibleColumns))return showAlertDialog("warning",errorMessages.dependentColumns),!1;$("#"+o+"pillCB"+n).prop("checked",!0).attr("checked","checked"),"group"==o?applyThePill("group",n):"chart"==o&&ivirCreateChart(n,!0,!0),pillDependentCols={}}return""!=fixedColumnsObj&&$(".DTFC_LeftBodyWrapper .ivirCustomHighlight,.DTFC_LeftBodyWrapper .ivirCustomHighlightCell").removeClass("ivirCustomHighlight").css({"background-color":"",color:""}),!0}function ivirSortColumns(){var e=[];$("#ivirSortColumnWrapper .checkbox input[type='checkbox']").each(function(t,i){if($(this).is(":checked")){t=$(this).data("index");var a=$(this).parent().find("button i.active").data("order"),r=[];r.push(t),r.push(a),e.push(r)}}),""!=groupingCol&&e.push([parseInt(groupingCol),"asc"]),ivirDatatable.fnSort(e)}function ivirRowGrouping(indexOfArray,isPillAlreadyChecked){var grpName=$("#grpName"),grpColName=$("#grpColName"),indexOfGrpArray,limitExceeded=!1,isFirstTime=!1;if(""==grpName.val())return ivirCustomErrMsg(grpName,errorMessages.emptyField),!1;if(!testRegex("validName",grpName.val()))return ivirCustomErrMsg(grpName,errorMessages.invalidName),!1;if(""==grpColName.val())return ivirCustomErrMsg(grpColName,errorMessages.emptySelect),!1;var colIndex=parseInt(grpColName.find("option:selected").data("index"),10);if(""!=$("#ivirTotalCndtn1 .totalAggrFunction").val()){var isLastSelectEmpty=!1;if($("#ivirTotalCndtnWrapper select:enabled").each(function(e,t){if(""==$(this).val())return ivirCustomErrMsg($(this),errorMessages.emptyField),isLastSelectEmpty=!0,!1}),isLastSelectEmpty)return!1;if(""==$("#ivirTotalCndtn1 .totalAggrFunction").val())return ivirCustomErrMsg($("#ivirTotalCndtn1 .totalAggrFunction"),errorMessages.emptyField),!1;if($("#ivirTotalCndtn1 .totalAggrFunction").next("span.customError").remove(),""==$("#ivirTotalCndtn1 .totalSource").val())return ivirCustomErrMsg($("#ivirTotalCndtn1 .totalSource"),errorMessages.emptyField),!1;$("#ivirTotalCndtn1 .totalSource").next("span.customError").remove();for(var addedRowsArray=$("#ivirTotalCndtnWrapper").data("cndtns"),groupTotalArray=[],grandTotal=[],i=0;i<addedRowsArray.length;i++){var presentCndtn=addedRowsArray[i];groupTotalArray.push($("#ivirTotalCndtn"+presentCndtn+" .totalAggrFunction").val()),groupTotalArray.push($("#ivirTotalCndtn"+presentCndtn+" .totalSource option:selected").data("index")),groupTotalArray.push($("#ivirTotalCndtn"+presentCndtn+" .totalSource option:selected").val());var indexOfCol=$("#ivirTotalCndtn"+presentCndtn+" .grndTtlCB input").data("index");if($("#ivirTotalCndtn"+presentCndtn+" .grndTtlCB input").is(":checked"))-1===$.inArray(indexOfCol,allGrandTotal)&&allGrandTotal.push(indexOfCol),grandTotal.push(indexOfCol);else{var idx=allGrandTotal.indexOf(indexOfCol);-1!=idx&&allGrandTotal.splice(idx,1),grandTotal.push(-1)}}}(indexOfArray===undefined||isPillAlreadyChecked)&&createIvirDataTable("group",colIndex,groupTotalArray,allGrandTotal);var name=grpName.val(),columnIndex=colIndex,grpTotal=groupTotalArray,grndTotal=grandTotal;if(indexOfArray===undefined){if(jQuery.isEmptyObject(ivirMainObj)){var grpArr=ivirMainObj.group=[];isFirstTime=!0,indexOfGrpArray=0}else if(ivirMainObj.group===undefined){var grpArr=ivirMainObj.group=[];indexOfGrpArray=0}else{var grpArr=ivirMainObj.group;isFirstTime=!1,grpArr.length>=maxNoOfPills&&(limitExceeded=!0),indexOfGrpArray=grpArr.length}var grpObj=new Object}else{var grpObj=ivirMainObj.group[indexOfArray];indexOfGrpArray=indexOfArray}if(limitExceeded){var cutMsg=eval(callParent("lcm[23]"));showAlertDialog("warning",cutMsg)}else grpObj.n=name,grpObj.cl=columnIndex,grpObj.t=grpTotal,grpObj.g=grndTotal,indexOfArray===undefined?(grpArr.push(grpObj),isFirstTime||0==$("#ivirFilteredAccordion").length?0==$("#ivirFilteredAccordion").length?createPills("all","first"):($("[id^='grouppillCB']").prop("checked",!1).removeAttr("checked"),createPills("all","last")):$("#ivirFilteredAccordion").length>0&&($("[id^='grouppillCB']").prop("checked",!1).removeAttr("checked"),upateThePills("group",indexOfGrpArray,name))):(isPillAlreadyChecked&&($("[id^='grouppillCB']").prop("checked",!1).removeAttr("checked"),$("#grouppillCB"+indexOfArray).prop("checked",!0).attr("checked","checked")),$("#grouppillCB"+indexOfArray).parent().next().find(".ivirCndtnName").attr("title","Edit "+name).text(name));return setSmartViewHeight(),!0}function getChartHtml(e){e=e||!1,htmlToShow="",htmlToShow+='<div id="ivirChatWrapper">',htmlToShow+='<div id="ivirChartsRow" class="row">',htmlToShow+='<div class="col-md-3 text-center"><button data-type="pie" title="'+callParentNew("lcm")[419]+'" onclick="ivirShowChart(\'graph \',\'pie\',this)" type="button" class="ivirChartButton noBg active"><span  class="ivirGraphIcon icon-ecommerce-graph1"></button></span><label style="display:block">'+callParentNew("lcm")[419]+"</label></div>",htmlToShow+='<div class="col-md-3 text-center"><button data-type="column" title="'+callParentNew("lcm")[420]+'" onclick="ivirShowChart(\'graph \',\'column\',this)" type="button" class="ivirChartButton noBg"><span class="ivirGraphIcon icon-ecommerce-graph2"></button></span><label style="display:block">'+callParentNew("lcm")[420]+"</label></div>",htmlToShow+='<div class="col-md-3 text-center"><button data-type="donut" title="'+callParentNew("lcm")[421]+'" onclick="ivirShowChart(\'graph \',\'donut\',this)" type="button" class="ivirChartButton noBg"><span class="ivirGraphIcon icon-music-record"></button></span><label style="display:block">'+callParentNew("lcm")[421]+"</label></div>",htmlToShow+='<div class="col-md-3 text-center"><button data-type="bar" title="'+callParentNew("lcm")[422]+'" onclick="ivirShowChart(\'graph \',\'bar\',this)" type="button" class="ivirChartButton noBg"><span class="ivirGraphIcon icon-software-horizontal-align-left"></button></span><label style="display:block">'+callParentNew("lcm")[422]+"</label></div>",htmlToShow+="</div>",htmlToShow+="<hr>",htmlToShow+='<div id="ivirchartsCndtn" class="row">',htmlToShow+=' <div id="ivirgraph" class="chartCndtnWrapper">',htmlToShow+='<div class="col-md-12">',htmlToShow+='<div class="form-group">',htmlToShow+='<label for="ivirChartName">'+callParentNew("lcm")[413]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" data-placement="right" title="" data-content="'+callParentNew("lcm")[431]+'"></a>',htmlToShow+='<input required type="text" maxlength="20" class="form-control dialogInptFld fldNme" id="ivirChartName">',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='     <div class="col-md-6">',htmlToShow+='      <div class="form-group">',htmlToShow+='       <label for="ivirChartCol">'+callParentNew("lcm")[420]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="right" data-content="'+callParentNew("lcm")[432]+'"></a>';var t,i,a=getAllColumns("",e);return t=a[0],i=a[1],htmlToShow+='  <select class="form-control dialogSlctFld" id="ivirChartCol">',htmlToShow+='<option value="" data-index="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+=i,htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<div class="col-md-6">',htmlToShow+='<div class="form-group">',htmlToShow+='   <label for="ivirChartVal">'+callParentNew("lcm")[414]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" data-placement="top" title="" data-content="'+callParentNew("lcm")[433]+'"></a>',htmlToShow+='  <select class="form-control dialogSlctFld" id="ivirChartVal">',htmlToShow+='<option value="" data-index="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+=t,htmlToShow+="   </select>",htmlToShow+="</div>",htmlToShow+=" </div>",htmlToShow+="</div>",htmlToShow+=" </div>",htmlToShow+=" </div>",htmlToShow}function getGroupHtml(e){e=e||!1;var t="";return t=' <div class="form-group" style="margin-top: 15px;">',t+='<label for="grpName">'+callParentNew("lcm")[413]+"</label>",t+='<span class="red">*</span>',t+=' <a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="right" data-content="'+callParentNew("lcm")[430]+'"></a>',t+='<input required type="text" class="form-control fldNme dialogInptFld" maxlength="20" id="grpName">',t+="</div>",t+='<div class="form-group">',t+='<label for="grpColName">'+callParentNew("lcm")[420]+"</label>",t+='<span class="red">*</span>',t+='<a href="javascript:void(0)"  class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="right" data-content="'+callParentNew("lcm")[429]+'" ></a>',t+='<select class="form-control dialogSlctFld" id="grpColName">',t+='<option value="">'+callParentNew("lcm")[441]+"</option>",t+=getAllColumns("",e,"group")[2],t+=" </select>",t+="</div>",t+='<div id="ivirTotalCndtnWrapper" data-cndtns="[1]" style="display:none;">',t+='<div id="ivirTotalCndtn1" class="ivirTotalCndtn row">',t+='<div class="col-md-4">',t+='<div class="form-group">',t+='<label for="grpColName">Function</label>',t+='<span class="red">*</span>',t+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" data-placement="right" title="" data-content="'+callParentNew("lcm")[431]+'"></a>',t+='<select class="form-control totalAggrFunction">',t+='<option value="">'+callParentNew("lcm")[441]+"</option>",t+='<option value="sum">Sum</option>',t+='<option value="count">Count</option>',t+='<option value="max">Max</option>',t+='<option value="min">Min</option>',t+='<option value="avg">Average</option>',t+="</select>",t+="</div>",t+="</div>",t+='<div class="col-md-4">',t+='<div class="form-group">',t+='<label for="grpColName">Source:</label>',t+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" data-placement="right" title="" data-content="Please enter name for the Chart Type. Example: Sales Distribution."></a>',t+='<select class="form-control totalSource">',t+='<option value="">'+callParentNew("lcm")[441]+"</option>",t+="</select>",t+="</div>",t+="</div>",t+='<div class="col-md-4 firstRow grpaddDltBtnWrapper">',t+='<label for="">Grand Total</label>',t+=' <span class="toggleBtnSpn">',t+='<input class="tgl tgl-ios" id="cb2" type="checkbox"/>',t+='<label class="tgl-btn" for="cb2"></label>',t+="</span>",t+='<button title="Add" type="button" onclick="ivirAddTotalCndtn(2);" class="noBg ivirTotalCndtnBtn"><span class="icon-arrows-circle-plus ivirTotalCndtnIcon"></span></button>',t+="</div>",t+="</div>",t+="</div>"}function ivirAddTotalCndtn(e){e=parseInt(e,10);var t=!1,i=$("#ivirTotalCndtnWrapper").data("cndtns"),a=i[i.length-1];if(""==$("#ivirTotalCndtn"+a+" .totalAggrFunction").val())return ivirCustomErrMsg($("#ivirTotalCndtn"+a+" .totalAggrFunction"),errorMessages.emptyField),!1;if($("#ivirTotalCndtn"+a+" .totalAggrFunction").next("span.customError").remove(),""==$("#ivirTotalCndtn"+a+" .totalSource").val())return ivirCustomErrMsg($("#ivirTotalCndtn"+a+" .totalSource"),errorMessages.emptyField),!1;$("#ivirTotalCndtn"+a+" .totalSource").next("span.customError").remove(),i.push(e);var r=tmpGroupObj.indexeSelected;r?-1==$.inArray($("#ivirTotalCndtn"+a+" .totalSource option:selected").data("index"),r)&&r.push($("#ivirTotalCndtn"+a+" .totalSource option:selected").data("index")):tmpGroupObj.indexeSelected=[$("#ivirTotalCndtn"+a+" .totalSource option:selected").data("index")],$(".totalAggrFunction").each(function(e,i){"count"==$(this).val()&&(t=!0)});var l='<div id="ivirTotalCndtn'+e+'" class="ivirTotalCndtn row">'+$("#ivirTotalCndtn1").html()+"</div>",o='<button type="button" title="Delete" onclick="ivirDeleteTotalCndtn('+e+')" class="noBg"><span style="margin-left: 5px;" class="ivirDeleteCndtnIcon icon-arrows-circle-minus"></span></button>';$("#ivirTotalCndtnWrapper").append(l),$("#ivirTotalCndtn"+e+" .ivirTotalCndtnBtn").show().attr("onclick","ivirAddTotalCndtn("+(e+1)+")"),$("#ivirTotalCndtn"+e+" .grpaddDltBtnWrapper").append(o),$("#ivirTotalCndtn"+e+' label:not(".grndTtlCB"),#ivirTotalCndtn'+e+" p.labelP,#ivirTotalCndtn"+e+" a.icon-arrows-question").hide(),$("#ivirTotalCndtn"+e+" .grndTtlCB input").prop("disabled",!0),$("#ivirTotalCndtn"+e+" select").prop("disabled",!1),$("#ivirTotalCndtn"+e+" .totalSource").html("<option value=''>"+callParentNew("lcm")[441]+"</option>"),$("#ivirTotalCndtnWrapper").data("cndtns",i).attr("data-cndtns","["+i+"]"),$("#ivirTotalCndtn"+a+" .ivirTotalCndtnBtn").hide(),$("#ivirTotalCndtn"+a+" select").prop("disabled",!0),t&&$("#ivirTotalCndtn"+e+' .totalAggrFunction option[value="count"]').remove()}function ivirDeleteTotalCndtn(e){var t=$("#ivirTotalCndtn"+e+" .totalAggrFunction").val(),i=$("#ivirTotalCndtn"+e+" .totalSource option:selected").data("index"),a=tmpGroupObj.indexeSelected,r=a.indexOf(i);r>=0&&a.splice(r,1),"count"==t&&$(".totalAggrFunction").append('<option value="count">Count</option>');var l=$("#ivirTotalCndtnWrapper").data("cndtns"),o=l.indexOf(e);l.splice(o,1),$("#ivirTotalCndtn"+e+" .totalAggrFunction").is(":disabled")||$("#ivirTotalCndtn"+l[l.length-1]+" .ivirTotalCndtnBtn").show(),$("#ivirTotalCndtn"+e).remove(),1==l.length&&($("#ivirTotalCndtn1 .ivirTotalCndtnBtn").show(),$("#ivirTotalCndtn1 select").prop("disabled",!1));var n=l[l.length-1];if(n>e){var s=$("#ivirTotalCndtn"+n+" .totalAggrFunction"),c=(s.val(),$("#ivirTotalCndtn"+n+" .totalSource")),d=c.val();s.change(),c[0].value=d}$("#ivirTotalCndtnWrapper").data("cndtns",l).attr("data-cndtns","["+l+"]")}function ivirCustomErrMsg(e,t){var i=e.parent().find("label").text();-1!=t.indexOf("_name_")?t=t.replace("_name_",i):t.indexOf(!0)&&(t="Highlight"==i?t.replace("_option_","option"):t.replace("_option_",i.toLowerCase())),$("span.customError").remove(),$('<span class="customError text-danger">'+t+"</span>").insertAfter(e)}function getHighlightHtml(e,t,i){i=i||!1;htmlToShow='<div id="ivirHighlightWrapper">',htmlToShow+='<div class="row">',htmlToShow+='<div class="form-group col-md-6">',htmlToShow+='<label for="ivirHltName">'+callParentNew("lcm")[413]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="right" data-content="'+callParentNew("lcm")[435]+'"></a>',htmlToShow+='<input required type="text" maxlength="20" value="" class="form-control fldNme dialogInptFld" id="ivirHltName">',htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-6">',htmlToShow+='<label for="ivirHighlightType">'+callParentNew("lcm")[396]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="right" data-content="'+callParentNew("lcm")[434]+'"></a>',htmlToShow+='<select class="form-control dialogSlctFld" id="ivirHighlightType">',htmlToShow+='<option value="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+='<option value="row">Row</option>',htmlToShow+='<option value="column">Column</option>',htmlToShow+='<option value="cell">Cell</option>',htmlToShow+=" </select>",htmlToShow+=" </div>",htmlToShow+=" </div>",htmlToShow+='<div class="row">',htmlToShow+='<div class="form-group col-md-6">',htmlToShow+='<label for="ivirbgColor">'+callParentNew("lcm")[425]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)"  class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="top" data-content="'+callParentNew("lcm")[436]+'" ></a>',htmlToShow+='<div class="input-group" style="width:100%;">',htmlToShow+='<input required value="#000000" class="col-md-8 col-sm-8 col-xs-8 form-control colorPicker" id="ivirbgColorValue">',htmlToShow+='<input required type="text" class="col-md-3 col-sm-3 col-xs-3 hide" id="ivirbgColor"></span>',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-6">',htmlToShow+='<label for="ivirtxtColor">'+callParentNew("lcm")[426]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)"  class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="top" data-content="'+callParentNew("lcm")[437]+'"></a>',htmlToShow+='<div class="input-group" style="width:100%;">',htmlToShow+='<input required value="#000000" class="col-md-8 col-sm-8 col-xs-8 form-control colorPicker" id="ivirtxtColorValue">',htmlToShow+='<input required type="text" class="col-md-3 col-sm-3 col-xs-3 hide" id="ivirtxtColor"></span>',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<legend align="">'+callParentNew("lcm")[424]+"</legend>",htmlToShow+='<div class="form-group col-md-4">',htmlToShow+='<label for="ivirHighlightCol">'+callParentNew("lcm")[420]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="top" data-content="'+callParentNew("lcm")[438]+'"></a>',htmlToShow+=' <select class="form-control dialogSlctFld" id="ivirHighlightCol">',htmlToShow+='  <option value="">'+callParentNew("lcm")[441]+"</option>";var a=getAllColumns("",i);return htmlToShow+=a[2],htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-4">',htmlToShow+='<label for="ivirHighlightCndtn">'+callParentNew("lcm")[424]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="top" data-content="'+callParentNew("lcm")[439]+'"></a>',htmlToShow+='<select class="form-control dialogSlctFld" id="ivirHighlightCndtn">',htmlToShow+='<option value="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-4">',htmlToShow+='<label for="ivirHltValue">'+callParentNew("lcm")[414]+"</label>",htmlToShow+='<span class="red">*</span>',htmlToShow+='<a href="javascript:void(0)" class="icon-arrows-question" tabindex="-1" data-toggle="popover" title="" data-placement="top" data-content="'+callParentNew("lcm")[440]+'"></a>',htmlToShow+='<input required type="" maxlength="255" class="form-control dialogInptFld" id="ivirHltValue">',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow}function getAllColumns(e,t,i){for(var a=ivirDataTableApi.columns(),r="",l="",o="",n=0;n<a[0].length;n++)if("true"!=isChkBox||0!=n){var s=$(ivirDataTableApi.columns(a[0][n]).header()).text().trim(),c=ivirDataTableApi.context[0].aoColumns[n].mData,d=ivirColumnTypeObj[c];(t&&-1===$.inArray(n,e)||!t&&-1===$.inArray(n,e)&&(0===ivirVisibleColumns.length||"group"===i&&groupingCol===n||-1!==$.inArray(n,ivirVisibleColumns)))&&(o+=" <option data-index="+n+' value="'+c+'" data-type="'+d+'">'+s+"</option>","n"==d?r+=" <option data-index="+n+' value="'+c+'" data-type="'+d+'">'+s+"</option>":l+=" <option data-index="+n+' value="'+c+'" data-type="'+d+'">'+s+"</option>")}return[r,l,o]}function ivirHighlightRow(indexOfArray,isPillChecked,applyThePill){applyThePill=applyThePill||!1;var rows=[],cells=[],cols=[],totalRows=ivirDataTableApi.rows(),rowsData=totalRows.data();if(!1===applyThePill)var name=$("#ivirHltName").val(),ivirHighlightType=$("#ivirHighlightType").val(),ivirbgColor=$("#ivirbgColorValue").val(),ivirtxtColor=$("#ivirtxtColorValue").val(),colIndex=$("#ivirHighlightCol").find("option:selected").data("index"),colvalue=getPropertyAccess($("#ivirHighlightCol").find("option:selected").val()),ivirHighlightCndtn=$("#ivirHighlightCndtn").val(),ivirHltValue=$("#ivirHltValue").val(),colType=$("#ivirHighlightCol").find("option:selected").data("type");else var ivirMainHltObj=ivirMainObj.highlight[indexOfArray],name=ivirMainHltObj.n,ivirHighlightType=ivirMainHltObj.t,ivirbgColor=ivirMainHltObj.bc,ivirtxtColor=ivirMainHltObj.tc,colIndex=ivirMainHltObj.cl,colvalue=getPropertyAccess(ivirDataTableApi.context[0].aoColumns[colIndex].mData),ivirHighlightCndtn=ivirMainHltObj.cn,ivirHltValue=ivirMainHltObj.v,colType=ivirMainHltObj.colType;var j=colIndex,isFirstTime=!1,limitExceeded=!1,indexOfHighlightArray="";if("regex"==ivirHighlightCndtn){var regexExp=ivirHltValue.replace(/\\/g,"\\");regexExp=new RegExp(regexExp,"i")}if(indexOfArray===undefined){if(jQuery.isEmptyObject(ivirMainObj)){var hilghtArr=ivirMainObj.highlight=[];isFirstTime=!0,indexOfHighlightArray=0}else if(ivirMainObj.highlight===undefined){var hilghtArr=ivirMainObj.highlight=[];indexOfHighlightArray=0}else{var hilghtArr=ivirMainObj.highlight;isFirstTime=!1,hilghtArr.length>=maxNoOfPills&&(limitExceeded=!0),indexOfHighlightArray=hilghtArr.length}var hilghtObj=new Object}else{clearIvirHighlight(indexOfArray);var hilghtObj=ivirMainObj.highlight[indexOfArray];indexOfHighlightArray=indexOfArray}if(limitExceeded){var cutMsg=eval(callParent("lcm[23]"));showAlertDialog("warning",cutMsg)}else hilghtObj.n=name,hilghtObj.t=ivirHighlightType,hilghtObj.bc=ivirbgColor,hilghtObj.tc=ivirtxtColor,hilghtObj.cl=colIndex,hilghtObj.cn=ivirHighlightCndtn,hilghtObj.v=ivirHltValue,hilghtObj.colType=colType,indexOfArray===undefined?(hilghtArr.push(hilghtObj),isFirstTime||0==$("#ivirFilteredAccordion").length?0==$("#ivirFilteredAccordion").length?createPills("all","first"):createPills("all","last"):$("#ivirFilteredAccordion").length>0&&upateThePills("highlight",indexOfHighlightArray,name)):(isPillChecked&&$("#highlightpillCB"+indexOfArray).prop("checked",!0).attr("checked","checked"),$("#highlightpillCB"+indexOfArray).parent().next().find(".ivirCndtnName").attr("title","Edit "+name).text(name));if(indexOfArray===undefined||isPillChecked){for(var pushValues=function(e,t){-1==jQuery.inArray(e,rows)&&rows.push(e),-1==jQuery.inArray(t,cols)&&cols.push(t),cells.push([e,t])},i=0;i<totalRows[0].length;i++){var presentRowData=rowsData[i];if(isNaN(parseInt(colvalue))?graphCol=presentRowData[colvalue]:presentRowData=presentRowData[Object.keys(presentRowData)[colvalue]],presentRowData="object"==_typeof(presentRowData[colvalue])?presentRowData[colvalue].display:presentRowData[colvalue],anchorRegexPatter.test(presentRowData)&&(presentRowData=$(presentRowData).text()),presentRowData=presentRowData.replace(",",""),ivirHltValue=ivirHltValue.replace(",",""),"equalto"==ivirHighlightCndtn)if("d"===colType){var momentObj=moment(ivirHltValue,"YYYY-MM-DD"),momentString=momentObj.format("DD/MM/YYYY");momentString===(_typeof(rowsData[i][colvalue]),rowsData[i][colvalue])&&pushValues(totalRows[0][i],colvalue)}else ivirHltValue.toLowerCase()==presentRowData.toLowerCase()&&pushValues(totalRows[0][i],j);else if("contains"==ivirHighlightCndtn)-1!=presentRowData.toLowerCase().indexOf(ivirHltValue.toLowerCase())&&pushValues(totalRows[0][i],j);else if("notcontains"==ivirHighlightCndtn)-1==presentRowData.toLowerCase().indexOf(ivirHltValue.toLowerCase())&&pushValues(totalRows[0][i],j);else if("notequalto"==ivirHighlightCndtn)if("d"===colType){var momentObj=moment(ivirHltValue,"YYYY-MM-DD"),momentString=momentObj.format("DD/MM/YYYY");momentString!==presentRowData&&pushValues(totalRows[0][i],j)}else ivirHltValue.toLowerCase()!=presentRowData.toLowerCase()&&pushValues(totalRows[0][i],j);else if("lessthan"==ivirHighlightCndtn)if("d"===colType){var momentObj=moment(ivirHltValue,"YYYY-MM-DD"),momentObj1=moment(presentRowData,"DD/MM/YYYY");momentObj1<momentObj&&pushValues(totalRows[0][i],j)}else parseInt(presentRowData,10)<parseInt(ivirHltValue,10)&&pushValues(totalRows[0][i],j);else if("lessthanequalto"==ivirHighlightCndtn)if("d"===colType){var momentObj=moment(ivirHltValue,"YYYY-MM-DD"),momentObj1=moment(presentRowData,"DD/MM/YYYY");momentObj1<=momentObj&&pushValues(totalRows[0][i],j)}else parseInt(presentRowData,10)<=parseInt(ivirHltValue,10)&&pushValues(totalRows[0][i],j);else if("greaterthan"==ivirHighlightCndtn)if("d"===colType){var momentObj=moment(ivirHltValue,"YYYY-MM-DD"),momentObj1=moment(presentRowData,"DD/MM/YYYY");momentObj1>momentObj&&pushValues(totalRows[0][i],j)}else parseInt(presentRowData,10)>parseInt(ivirHltValue,10)&&pushValues(totalRows[0][i],j);else if("greaterthanequalto"==ivirHighlightCndtn)if("d"===colType){var momentObj=moment(ivirHltValue,"YYYY-MM-DD"),momentObj1=moment(presentRowData,"DD/MM/YYYY");momentObj1>=momentObj&&pushValues(totalRows[0][i],j)}else parseInt(presentRowData,10)>=parseInt(ivirHltValue,10)&&pushValues(totalRows[0][i],j);else"regex"==ivirHighlightCndtn&&regexExp.test(presentRowData)&&pushValues(totalRows[0][i],j)}if("row"==ivirHighlightType)for(var k=0;k<rows.length;k++)$(ivirDataTableApi.row(rows[k]).node()).addClass("ivirCustomHighlight highlight"+indexOfHighlightArray).css({"background-color":ivirbgColor,color:ivirtxtColor});else if("column"==ivirHighlightType){var allCols=ivirDataTableApi.column(colIndex).nodes();if(-1!==jQuery.inArray(colIndex,cols)){$(ivirDataTableApi.columns(colIndex).header()).addClass("ivirCustomHighlight highlight"+indexOfHighlightArray);for(var i=0;i<allCols.length;i++)$(allCols[i]).addClass("ivirCustomHighlightCell").css({"background-color":ivirbgColor,color:ivirtxtColor})}}else if("cell"==ivirHighlightType)for(var i=0;i<cells.length;i++)$(ivirDataTableApi.cell(cells[i][0],cells[i][1]).node()).addClass("ivirCustomHighlight highlight"+indexOfHighlightArray).css({"background-color":ivirbgColor,color:ivirtxtColor})}return setSmartViewHeight(),!0}function clearIvirHighlight(e){if("all"==e){if(ivirDataTableApi.columns(".ivirCustomHighlight")[0].length>0){var t=(r=ivirDataTableApi.columns(".ivirCustomHighlight")).nodes();$(r).removeClass("ivirCustomHighlight").css({"background-color":"inherit",color:"inherit"});for(var i=0;i<t.length;i++)$(t[i]).removeClass("ivirCustomHighlightCell").css({"background-color":"inherit",color:"inherit"})}ivirDataTableApi.cells(".ivirCustomHighlight")[0].length>0&&$(ivirDataTableApi.cells(".ivirCustomHighlight").nodes()).removeClass("ivirCustomHighlight").css({"background-color":"inherit",color:"inherit"}),ivirDataTableApi.rows(".ivirCustomHighlight")[0].length>0&&$(ivirDataTableApi.rows(".ivirCustomHighlight").nodes()).removeClass("ivirCustomHighlight").css({"background-color":"inherit",color:"inherit"})}else if(e!==undefined){var a=ivirMainObj.highlight[e].t;if("cell"==a)ivirDataTableApi.cells(".ivirCustomHighlight.highlight"+e)[0].length>0&&$(ivirDataTableApi.cells(".ivirCustomHighlight.highlight"+e).nodes()).removeClass("ivirCustomHighlight highlight"+e).css({"background-color":"inherit",color:"inherit"});else if("column"==a){if(ivirDataTableApi.columns(".ivirCustomHighlight.highlight"+e)[0].length>0){var r;t=(r=ivirDataTableApi.columns(".ivirCustomHighlight.highlight"+e)).nodes();$(r.header()).removeClass("ivirCustomHighlight highlight"+e);for(i=0;i<t.length;i++)$(t[i]).removeClass("ivirCustomHighlightCell").css({"background-color":"inherit",color:"inherit"})}}else"row"==a&&ivirDataTableApi.rows(".ivirCustomHighlight.highlight"+e)[0].length>0&&$(ivirDataTableApi.rows(".ivirCustomHighlight.highlight"+e).nodes()).removeClass("ivirCustomHighlight highlight"+e).css({"background-color":"inherit",color:"inherit"})}""!=fixedColumnsObj&&$(".DTFC_LeftBodyWrapper .ivirCustomHighlight,.DTFC_LeftBodyWrapper .ivirCustomHighlightCell").removeClass("ivirCustomHighlight").css({"background-color":"",color:""})}function createPills(e,t){if(ivirMainObj.highlight||ivirMainObj.group||ivirMainObj.filter){var i,a,r="",l="";i=["highlight","group","filter"],a={highlight:"icon-software-paintbrush",group:"icon-software-layers2",chart:"icon-software-layers1",filter:"icon-basic-elaboration-todolist-search"};var o="";o+='<div id="ivirFilteredAccordion">',o+='<div id="ivirPillsWrapper">',o+='<span tabindex="0" onclick="toggleIvirPills();" id="ivirCndtnToggleBtn" class="icon-arrows-keyboard-right"></span>',o+='<div id="ivirAllCndtns">';for(var n=0;n<i.length;n++){var s=i[n];ivirMainObj[s]&&(o+='<span id="ivir'+s+'CndtnPill" class="pillMainWrapper">',o+='<span title="'+l+'" class="'+a[s]+' ivirCndtnIcon"></span>',o+='<span class="ivirCndtnName">'+s+' <span class="label ivirCndtnLabel">'+ivirMainObj[s].length+"</span></span>",o+="</span>")}o+="</div>",o+='<div id="ivirAllCndtnPills" style="display: none;">';for(n=0;n<i.length;n++){if(r=ivirMainObj[i[n]])for(var c=0;c<r.length;c++){o+='<div id="ivir'+(l=i[n])+c+'CndtnPill" data-pill-type="'+l+'">',o+='<span class="materialCheckBox">',"first"==t&&0==c?o+='<input id="'+l+"pillCB"+c+'" checked data-index='+c+' data-type="'+l+'" class="filled-in ivirFilterCheckBox" type="checkbox" value="" />':"last"==t&&c==r[c].length-1?o+='<input id="'+l+"pillCB"+c+'" checked data-index='+c+' data-type="'+l+'" class="filled-in ivirFilterCheckBox" type="checkbox" value="" />':o+='<input id="'+l+"pillCB"+c+'" data-index='+c+' data-type="'+l+'" class="filled-in ivirFilterCheckBox" type="checkbox" value="" />',o+='<label for="'+l+"pillCB"+c+'"></label>',o+="</span>",o+='<span class="pillMainWrapper">',o+='<span title="'+l+'" class="'+a[l]+' ivirCndtnIcon"></span>',o+='<a href="javascript:void(0)" title="Edit '+r[c].n+'" onclick="editThePill(\''+l+"',"+c+')" class="ivirCndtnName">'+r[c].n+"</a>",o+='<button title="Remove" type="button" onclick="deleteThePill(\''+l+"',"+c+')" class="noBg deletePillBtn"><span class="icon-arrows-remove pillRemove"></span></button>',o+="</span>",o+="</div>"}}o+="</div></div></div>",$("#pillsWrapper").html(o).show("slow")}}function upateThePills(e,t,i){var a,r="",l=e;if(r+='<div id="ivir'+l+t+'CndtnPill" data-pill-type="'+l+'">',r+='<span class="materialCheckBox">',r+='<input id="'+l+"pillCB"+t+'" checked data-index='+t+' data-type="'+l+'" class="filled-in ivirFilterCheckBox" type="checkbox" value="" />',r+='<label for="'+l+"pillCB"+t+'"></label>',r+="</span>",r+='<span class="pillMainWrapper">',r+='<span title="'+l+'" class="'+(a={highlight:"icon-software-paintbrush",group:"icon-software-layers2",chart:"icon-software-layers1",filter:"icon-basic-elaboration-todolist-search"})[l]+' ivirCndtnIcon"></span>',r+='<a href="javascript:void(0)" title="Edit '+i+'" onclick="editThePill(\''+l+"',"+t+')" class="ivirCndtnName">'+i+"</a>",r+='<button type="button" onclick="deleteThePill(\''+l+"',"+t+')" title="Remove" class="noBg deletePillBtn"><span class="icon-arrows-remove pillRemove"></span></button>',r+="</span>",r+="</div>",$("#ivirAllCndtnPills").append(r),0==$("#ivir"+l+"CndtnPill").length){var o="";o+='<span id="ivir'+l+'CndtnPill" class="pillMainWrapper">',o+='<span title="'+l+'" class="'+a[l]+' ivirCndtnIcon"></span>',o+='<span class="ivirCndtnName">'+l+' <span class="label ivirCndtnLabel">'+ivirMainObj[l].length+"</span></span>",o+="</span>",$("#ivirAllCndtns").append(o)}else $("#ivir"+l+"CndtnPill .ivirCndtnLabel").text(ivirMainObj[e].length)}function createChartPills(){var e,t="",i=ivirMainObj.chart;e={highlight:"icon-software-paintbrush",group:"icon-software-layers2",chart:"icon-software-layers1"};for(var a=0;a<i.length;a++){var r=i[a];t+='<div id="ivirchart'+a+'CndtnPill" class="chartPills">',t+='<span class="materialCheckBox">',t+=0==a?'<input checked id="chartpillCB'+a+'" data-index='+a+' data-type="chart" class="filled-in ivirChartCheckBox" type="checkbox" value="" />':'<input id="chartpillCB'+a+'" data-index='+a+' data-type="chart" class="filled-in ivirChartCheckBox" type="checkbox" value="" />',t+='<label for="chartpillCB'+a+'"></label>',t+="</span>",t+='<span class="pillMainWrapper">',t+='<span title="chart" class="'+e.chart+' ivirCndtnIcon"></span>',t+='<a href="javascript:void(0)" title="Edit '+r.n+"\" onclick=\"editThePill('chart',"+a+')" class="ivirCndtnName">'+r.n+"</a>",t+='<button type="button" onclick="deleteThePill(\'chart\','+a+')" title="Remove" class="noBg deletePillBtn"><span class="icon-arrows-remove pillRemove"></span></button>',t+="</span>",t+="</div>"}$("#ivirChartPills").addClass("pillsAdded").show().html(t)}function upateTheChartPills(e,t){var i="";i+='<div id="ivirchart'+e+'CndtnPill" class="chartPills">',i+='<span class="materialCheckBox">',i+='<input checked id="chartpillCB'+e+'" data-index='+e+' data-type="chart" class="filled-in ivirChartCheckBox" type="checkbox" value="" />',i+='<label for="chartpillCB'+e+'"></label>',i+="</span>",i+='<span class="pillMainWrapper">',i+='<span title="chart" class="'+{highlight:"icon-software-paintbrush",group:"icon-software-layers2",chart:"icon-software-layers1"}.chart+' ivirCndtnIcon"></span>',i+='<a href="javascript:void(0)" title="Edit '+t+"\" onclick=\"editThePill('chart',"+e+')" class="ivirCndtnName">'+t+"</a>",i+='<button type="button" onclick="deleteThePill(\'chart\','+e+')" title="Remove" class="noBg deletePillBtn"><span class="icon-arrows-remove pillRemove"></span></button>',i+="</span>",i+="</div>",$(".ivirChartCheckBox").prop("checked",!1).removeAttr("checked"),$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+e).show(),$("#ivirChartPills").show().append(i)}function toggleIvirPills(){var e=$("#ivirAllCndtns"),t=$("#ivirAllCndtnPills");e.is(":visible")?($("#ivirCndtnToggleBtn").removeClass("icon-arrows-keyboard-right").addClass("icon-arrows-keyboard-down"),e.hide(),t.show()):($("#ivirCndtnToggleBtn").removeClass("icon-arrows-keyboard-down").addClass("icon-arrows-keyboard-right"),t.hide(),e.show()),setSmartViewHeight()}function applyThePill(e,t){if("highlight"==e)ivirHighlightRow(t,!0,!0);else if("group"==e){$("[id^='grouppillCB']").not("#grouppillCB"+t).prop("checked",!1).removeAttr("checked");var i=ivirMainObj[e][t].g;if(i)for(var a=0;a<i.length;a++)-1===$.inArray(i[a],allGrandTotal)&&allGrandTotal.push(i[a]);createIvirDataTable("groupApply",t,"",allGrandTotal)}else"filter"==e&&$("[id^='filterpillCB']").not("#filterpillCB"+t).prop("checked",!1).removeAttr("checked")}function editThePill(e,t){var i=[e,t];if("highlight"==e)ivirActionDialog("Highlight","highlight",getHighlightHtml(e,t,!0),"ivirHighlightRow",i,!0);else if("group"==e)ivirActionDialog("Row Grouping","group",getGroupHtml(!0),"ivirRowGrouping",i,!0);else if("chart"==e){ivirActionDialog("Chart","chart",getChartHtml(!$("#"+e+"pillCB"+t).is(":checked")),"ivirCreateChart",i,!0)}else"filter"==e&&ivirMoreFilters(t)}function deleteThePill(e,t){if("highlight"==e)clearIvirHighlight(t);else if("group"==e){var i=ivirMainObj[e][t].g;if(i)for(var a=0;a<i.length;a++){var r=allGrandTotal.indexOf(i[a]);allGrandTotal.splice(r,1)}ivirVisibleColumns.length>0&&ivirVisibleColumns.push(groupingCol),$("#"+e+"pillCB"+t).is(":checked")&&createIvirDataTable("clear",t,"",allGrandTotal)}else if("chart"==e){var l=!1;$("#chartpillCB"+t).is(":checked")&&(l=!0),$("#ivirChart"+t).remove()}$("#ivir"+e+t+"CndtnPill").remove(),reArrangeIndexes(e,t);var o=ivirMainObj[e];if(o.splice(t,1),"chart"!=e){0==o.length?(delete ivirMainObj[e],$("#ivir"+e+"CndtnPill").remove()):$("#ivir"+e+"CndtnPill .ivirCndtnLabel").text(ivirMainObj[e].length);var n=$("[data-pill-type='filter']");advFiltersObjectToApply=n.length&&n.find(".ivirFilterCheckBox").is(":checked")?ivirMainObj.filter[n.find(".ivirFilterCheckBox:checked").data("index")].data:{somedummyfilterjsobjectkey:"dummy"},ivirDataTableApi.draw(),""==$("#ivirAllCndtns").html()&&$("#pillsWrapper").html("")}else 0==o.length?(toggleGridView("grid"),$("#ivirCButtonsWrapper").hide(),delete ivirMainObj[e]):l&&($("#chartpillCB0").prop("checked",!0).attr("checked","checked"),$("#ivirChart0").show())}function reArrangeIndexes(e,t){var i=ivirMainObj[e];if(t!=i.length-1)for(var a=t,r=t+1;r<i.length;r++){var l=$("#ivir"+e+(a+1)+"CndtnPill"),o=r-1,n=e+"pillCB"+o;l.find("input.ivirFilterCheckBox,input.ivirChartCheckBox").attr("id",n).data("index",o).attr("data-index",o),l.find("input.ivirFilterCheckBox,input.ivirChartCheckBox").next("label").attr("for",n),l.find(".ivirCndtnName").attr("onclick",'editThePill("'+e+'",'+o+")"),l.find(".deletePillBtn").attr("onclick",'deleteThePill("'+e+'",'+o+")"),l.attr("id","ivir"+e+o+"CndtnPill"),a++,"chart"==e?$("#ivirChart"+r).attr("id","ivirChart"+o):"highlight"==e&&$(".ivirCustomHighlight.highlight"+r).removeClass("highlight"+r).addClass("highlight"+o)}}function validateFields(e){var t=!1;return $("#ivirHighlightWrapper .form-control:not('.colorPicker')").each(function(){var e=$(this);if(""==e.val()){if("SELECT"==e[0].nodeName)return ivirCustomErrMsg(e,errorMessages.emptySelect),t=!0,!1;if("INPUT"==e[0].nodeName)return ivirCustomErrMsg(e,errorMessages.emptyField),t=!0,!1}else if(e.hasClass("colorFld")||"INPUT"!=e[0].nodeName){if(e.attr("id")&&"ivirHltValue"==e.attr("id")){if("n"==$("#ivirHighlightCol").find("option:selected").data("type")&&isNaN(e.val()))return ivirCustomErrMsg(e,errorMessages.integerChk),t=!0,!1}}else if(!testRegex("validName",e.val()))return ivirCustomErrMsg(e,errorMessages.invalidName),t=!0,!1}),!t}function DownloadAndSave(e){$("#ivirDownloadWrapper div button .ivirDownload").removeClass("active"),$("#ivirDownloadWrapper div button").removeClass("active"),$("#ivirDownloadWrapper div button .ivirDownload").css("color",""),$("#ivirDownloadWrapper div button").css("color",""),$(e).addClass("active"),$(e).css("color","#3799dc ")}function DownloadFile(e){if($("#ivirDownloadWrapper div button").hasClass("active")){var t=ivirDataTableApi;return $(".CSV").hasClass("active")?t.button("1").trigger():$(".EXCEL").hasClass("active")?t.button("2").trigger():$(".PDF").hasClass("active")?t.button("3").trigger():$(".PRINT").hasClass("active")?t.button("4").trigger():$(".COPY").hasClass("active")&&t.button("0").trigger(),!0}return showAlertDialog("warning",errorMessages.downloadSelection),!1}function ivirChkHdrCheckbox(e){var t=$("#chkall");$(e).prop("checked")?$(e).parents("tr").hasClass("axSelected")||$(e).parents("tr").addClass("axSelected"):$(e).parents("tr").removeClass("axSelected");var i=!0;$("input[name=chkItem]:checkbox").each(function(){var e=$(this).prop("checked");if(e==undefined||0==e)return i=!1,!1}),i?(t.prop("checked",!0),$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=""})):(t.prop("checked",!1),$("input[name=chkItem]:checkbox:checked").length<1?$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=""}):$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=".axSelected"}))}function ivirCheckAll(e){1==$(e).prop("checked")?($("input[name=chkItem]:checkbox").each(function(){$(this).prop("checked",!0),$(this).parents("tr").hasClass("axSelected")||$(this).parents("tr").addClass("axSelected")}),$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=".axSelected"})):($("input[name=chkItem]:checkbox").each(function(){$(this).prop("checked",!1),$(this).parents("tr").removeClass("axSelected")}),$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=""}))}function toggleGridView(e,t){$(".task-button").removeClass("active"),"chart"==e?($("#ivirFilteredAccordion").hide(),$(".chrtView").addClass("active"),$("#ivirCButtonsWrapper").show(),$("#ivirMainChartWrapper").show(),$("#searchSelectColumnButton").prop("disabled",!0),$("#ivirMainDataTableWrapper").hide(),$(ivirTable+"_paginate").hide(),$(ivirTable+"_length").hide()):"grid"==e?($(".grdView").addClass("active"),$("#ivirFilteredAccordion").show(),$("#ivirCButtonsWrapper").show(),$("#ivirMainChartWrapper").hide(),$("#searchSelectColumnButton").prop("disabled",!1),$(ivirTable+"_paginate").show(),$(ivirTable+"_length").show(),$("#ivirMainDataTableWrapper").show(),ivirDataTableApi.columns.adjust().draw()):(e="showChartErrMsg")&&(0==$(t).data("count")?$(t).data("count",1):showAlertDialog("warning",errorMessages.noChartWhileGrpng))}function columnChart(isDataExists,datats,title,index,type,valColIndex){var headerName=$(ivirDataTableApi.columns(valColIndex).header()).text().trim(),heihgtOfChrt=$("#ivirMainChartWrapper").outerHeight()-70,valueSelected=JSON.parse(datats.split("~")[0])[0];toggleGridView("chart");var idOftheDiv="ivirChart"+index;if(index>maxNoOfPills-1&&($(".ivirChartCheckBox").prop("checked",!1).attr("checked","checked"),$(".chartWrapper").hide(),idOftheDiv="ivirChartCommon"),0==$("#"+idOftheDiv).length&&$("#ivirChartWrapper").append('<div class="chartWrapper" id="'+idOftheDiv+'"></div>'),$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+index).show(),isDataExists)$("#ivirChartWrapper #"+idOftheDiv).highcharts({colors:["#f8bd19","#e44a00","#008ee4","#33bdda","#6baa01","#583e78"],credits:{enabled:!1},chart:{type:type,height:heihgtOfChrt,options3d:{enabled:!0,alpha:0,beta:20,depth:50},events:{beforePrint:function(){this.exportSVGElements[0].box.hide(),this.exportSVGElements[1].hide()},afterPrint:function(){this.exportSVGElements[0].box.show(),this.exportSVGElements[1].show()}}},title:{text:title,align:"left"},xAxis:{categories:JSON.parse(JSON.stringify(JSON.parse(datats.split("~")[0])).replace(/_+/g," "))},tooltip:{formatter:function(){return this.series.name+"<br>"+headerName+": <b>"+this.y+"</b>"}},yAxis:{min:0,title:{text:valueSelected}},series:JSON.parse(JSON.stringify(JSON.parse(datats.split("~")[1])))});else{var cutMsg=eval(callParent("lcm[0]"));$("#ivirChartWrapper #"+idOftheDiv).html("<p class='ivirNoDataTag'>"+cutMsg+"</p>")}}function pieChart(isDataExists,datats,title,index,valColIndex,isDonut){var headerName=$(ivirDataTableApi.columns(valColIndex).header()).text().trim(),heihgtOfChrt=$("#ivirMainChartWrapper").outerHeight()-70;toggleGridView("chart");var idOftheDiv="ivirChart"+index;if(index>maxNoOfPills-1&&($(".ivirChartCheckBox").prop("checked",!1).attr("checked","checked"),$(".chartWrapper").hide(),idOftheDiv="ivirChartCommon"),0==$("#"+idOftheDiv).length&&$("#ivirChartWrapper").append('<div class="chartWrapper" id="'+idOftheDiv+'"></div>'),$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+index).show(),isDataExists)sizeOfInner=isDonut?80:0,$("#ivirChartWrapper #"+idOftheDiv).highcharts({colors:["#f8bd19","#e44a00","#008ee4","#33bdda","#6baa01","#583e78"],credits:{enabled:!1},chart:{type:"pie",height:heihgtOfChrt,options3d:{enabled:!0,alpha:25,beta:0},events:{beforePrint:function(){this.exportSVGElements[0].box.hide(),this.exportSVGElements[1].hide()},afterPrint:function(){this.exportSVGElements[0].box.show(),this.exportSVGElements[1].show()}}},title:{text:title,align:"left"},tooltip:{pointFormat:headerName+": <b>{point.y}</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",innerSize:sizeOfInner,depth:35,dataLabels:{enabled:!0,format:"{point.name}"},showInLegend:!0}},series:[{name:title,data:JSON.parse(JSON.stringify(JSON.parse(datats)))}]});else{var cutMsg=eval(callParent("lcm[0]"));$("#ivirChartWrapper #"+idOftheDiv).html("<p class='ivirNoDataTag'>"+cutMsg+"</p>")}}function closeTheDropDowns(){}function commaSeparateNumber(e){for(;/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1,$2");return e}function ivirDuplicateCheck(e,t,i){e=e.toLowerCase();var a=ivirMainObj[e],r="filter"==e?$("#divModalAdvancedFilters .fldNme"):$(".jconfirm-content .fldNme");if(a&&r)for(var l=a.length-1;l>=0;l--)if(""!=r.val().trim()&&a[l].n==r.val().trim()){if(t&&i==l)continue;var o="";return"filter"==e?o=callParentNew("lcm")[231]:"chart"==e?o=callParentNew("lcm")[394]:"group"==e?o=callParentNew("lcm")[395]:"highlight"==e&&(o=callParentNew("lcm")[396]),ivirCustomErrMsg(r,errorMessages.duplicateFld.replace("{0}",o)),!1}return!0}function testRegex(e,t){var i=regexes[e].replace(/\\/g,"\\");return!!(i=new RegExp(i,"i")).test(t)}function saveInSessionBeforeSave(){$("#IvirActions").val("");var e=!1;try{if("undefined"!=typeof Storage){var t=localStorage.ivInteractiveMainJson;if(t){e=!0;var i=JSON.parse(t);i[iName]=ivirMainObj,saveJsonToDB("set",JSON.stringify(i))}else e=!1}else e=!1,console.log("Sorry! No Web Storage support..")}catch(r){e=!1,console.log(r)}if(!e){var a={};a[iName]=ivirMainObj,saveJsonToDB("set",JSON.stringify(a))}}function getSavedConditions(){var e=localStorage.ivInteractiveMainJson;if(e){var t=JSON.parse(e);t[iName]&&jQuery.isEmptyObject(ivirMainObj)&&(ivirMainObj=t[iName]),createIvirDataTable(),createPillsOnLoad()}else saveJsonToDB("get")}function saveJsonToDB(e,t){"set"==e&&""!=t?$.ajax({url:"iview.aspx/SaveJsonInDB",type:"POST",cache:!1,async:!1,data:JSON.stringify({jsonString:t}),dataType:"json",contentType:"application/json",success:function(e){"done"==e.d?(showAlertDialog("success",3030,"client"),localStorage.ivInteractiveMainJson=t):showAlertDialog("warning",3028,"client")},error:function(){showAlertDialog("warning","Error while saving the data.")}}):"get"==e&&$.ajax({url:"iview.aspx/GetJsonFromDB",type:"POST",async:!0,dataType:"json",contentType:"application/json",success:function(e){try{if("success"==e.d.status){var t=localStorage.ivInteractiveMainJson,i=e.d.result;if(i&&""!==i){var a=!1;if(""!==(t=i)){localStorage.ivInteractiveMainJson=t;var r=JSON.parse(i);r[iName]&&(a=!0,jQuery.isEmptyObject(ivirMainObj)&&(ivirMainObj=r[iName]),allGrandTotal.length>0?createIvirDataTable(undefined,"","",allGrandTotal):createIvirDataTable())}}createPillsOnLoad()}else showAlertDialog("warning",3028,"client")}catch(l){console.log("Failed in getting ivirjson",l.message)}!a&&allGrandTotal.length>0?createIvirDataTable(undefined,"","",allGrandTotal):a||createIvirDataTable()},error:function(){createIvirDataTable()}})}function createPillsOnLoad(){if(jQuery.isEmptyObject(ivirMainObj))return!1;createPills("all","first"),$(".ivirFilterCheckBox").prop("checked",!1).removeAttr("checked");var e=ivirMainObj.chart;if(e)for(var t=0;t<e.length;t++)ivirCreateChart(t,!1,!1,!0),createChartPills(),$("#ivirChartPills .ivirChartCheckBox:first").change(),toggleGridView("grid");setSmartViewHeight()}function checkForPillDependentFlds(e,t,i){if(!i&&0===ivirVisibleColumns.length)return!0;var a=ivirMainObj[e][t],r=[];if("group"==e){r.push(a.cl);var l=a.g;if(l)for(var o=0;o<l.length;o++){var n=l[o];-1!=n&&-1===$.inArray(n,r)&&r.push(n)}var s=a.t;if(s)for(var c=1;c<s.length;c+=2){var d=s[c];-1!=d&&-1===$.inArray(d,r)&&r.push(d)}}else"chart"==e&&(r=[a.cl,a.v]);if(i)return r;var p=r.length;for(o=0;o<p;o++)if(-1===$.inArray(r[o],ivirVisibleColumns))return $("#"+e+"pillCB"+t).prop("checked",!1),!1,$("#IvirActions").val("SHcolumns").change(),showAlertDialog("warning",errorMessages.dependentColumns),pillDependentCols.index=t,pillDependentCols.data=r,pillDependentCols.type=e,!1;return!0}function getFiltersPillIndex(){var e=$("#divModalAdvancedFilters .body-cont").parent(),t=-1;if(e.length>0)return-1==(t=e.find(".body-cont").data("pillindex"))?undefined:t}function showDataTableLoading(){ShowDimmer(!0)}function hideDataTableLoading(){ShowDimmer(!1)}$(document).on("change","#searchSelectColumn",function(e){var t=$(this),i=ivirTable+"_filter",a="",r=$(i+" .ivirSearchFld"),l=$(i+" #customSearchInput"),o=t.data("index");if(a=!l.length>0?r.val()||"":l.val()||"",r.val(""),l.val(""),"all"==t.val())$(i+" #customSearchInput").hide(),$(i+" .ivirSearchFld").show(),""!=a&&($(i+" .ivirSearchFld").val(a),ivirDataTableApi.search("").columns().search("").draw(),ivirDataTableApi.search(a).draw());else{if($(i+" .ivirSearchFld").hide(),0==$(i+" #customSearchInput").length){var n='<input type="search" value="'+a+'" class="form-control input-sm firstTime" id="customSearchInput" placeholder="Search..." style="display: inline-block;">';$(i+" label").append(n)}else $(i+" #customSearchInput").val(a).show();""!=a&&(ivirDataTableApi.search("").columns().search("").draw(),ivirDataTableApi.columns(o).search(a).draw())}}),$(document).on("keydown",".ivirSearchFld",function(e){$("#ivirCButtonsWrapper").is(":visible")&&!$("#ivirCButtonsWrapper button.active").hasClass("grdView")&&toggleGridView("grid")}),$(document).on("keyup","#customSearchInput",function(e){var t=this.value,i=$("#searchSelectColumn").data("index");ivirDataTableApi.columns(i).search(t).draw()}),$(document).on("change",".DTFC_LeftWrapper table tr input[name='chkItem']",function(e){var t=$(this),i=t.parents("tr").index();t.is(":checked")?$(".dataTables_scrollBody table tbody tr").eq(i).addClass("axSelected").find("input[name='chkItem']").prop("checked",!0):$(".dataTables_scrollBody table tbody tr").eq(i).removeClass("axSelected").find("input[name='chkItem']").prop("checked",!1)}),$(document).on("click",".rightClickMenu ul li",function(){var e=$(this);e.data("value");e.hasClass("icon-arrows-check")?e.data("isChecked",!0):e.data("isChecked",!1),e.find("i").toggleClass("icon-arrows-check")}),$(document).on("change",".totalAggrFunction",function(e){var t=$(this),i=t.val(),a=t.data("lastSelected");if(a&&"count"==a?($(".totalAggrFunction").append('<option value="count">Count</option>'),t.find('option[value="count"]').last().remove()):t.data("lastSelected",i),t.parents(".ivirTotalCndtn").find(".grndTtlCB input").prop({checked:!1,disabled:!0}),""!=i){"count"==i&&$(".totalAggrFunction").not(this).find('option[value="count"]').remove();var r=[];if("ivirTotalCndtn1"==t.parents(".ivirTotalCndtn ").attr("id"))r=[tmpGroupObj.groupIndex];else{var l=tmpGroupObj.groupIndex,o=tmpGroupObj.indexeSelected;l&&o==undefined?r.push(l):o&&(-1==$.inArray(l,o)&&o.push(l),r=o)}var n=getAllColumns(r);"sum"==i||"max"==i||"min"==i||"avg"==i?t.parents(".ivirTotalCndtn").find(".totalSource").html("<option value=''>"+callParentNew("lcm")[441]+"</option>"+n[0]):t.parents(".ivirTotalCndtn").find(".totalSource").html("<option value=''>"+callParentNew("lcm")[441]+"</option>"+n[0]+n[1])}else t.parents(".ivirTotalCndtn").find(".totalSource").html("<option value=''>"+callParentNew("lcm")[441]+"</option>")}),$(document).on("change",".totalSource",function(e){var t=$(this).parents(".ivirTotalCndtn").find(".grndTtlCB input");if("n"==$(this).find("option:selected").data("type")){var i=$(this).find("option:selected").data("index");t.data("index",i).prop("disabled",!1)}else t.prop("disabled",!0)}),$(document).on("change",".ivirChartCheckBox",function(e){var t=$(this),i=t.data("index"),a=t.attr("id");if(t.is(":checked")){if(!checkForPillDependentFlds("chart",i))return t.prop("checked",!1),t.removeAttr("checked"),!1;$(".ivirChartCheckBox").not("#"+a).prop("checked",!1).removeAttr("checked"),$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+i).show(),ivirCreateChart(i,!0,!0)}else t.prop("checked",!0).attr("checked","checked")}),$(document).on("change",".ivirFilterCheckBox",function(e){var t=$(this),i=t.data("type");if(t.is(":checked")){if("group"==i){if(!checkForPillDependentFlds("group",t.data("index")))return t.prop("checked",!1),t.removeAttr("checked"),!1;$("#chartActionLi").addClass("subHeader")}else"filter"==i&&(advFiltersObjectToApply=ivirMainObj.filter[t.data("index")].data,ivirDataTableApi.draw());t.attr("checked","checked"),applyThePill(i,t.data("index"))}else if(t.removeAttr("checked"),"highlight"==i)clearIvirHighlight(t.data("index"));else if("group"==i){var a=t.data("index"),r=ivirMainObj[i][a].g;if(r)for(var l=0;l<r.length;l++){var o=allGrandTotal.indexOf(r[l]);allGrandTotal.splice(o,1)}ivirVisibleColumns.length>0&&ivirVisibleColumns.push(groupingCol),createIvirDataTable("clear",a,"",allGrandTotal),$("#chartActionLi").removeClass("subHeader")}else"filter"==i&&(advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"},ivirDataTableApi.draw())}),function(e,t,i,a){"use strict";var r=e("html");r.on("click.ui.dropdown",".js-dropdown",function(t){t.preventDefault();var a=e(this);a.hasClass("is-open")?setTimeout(function(){a.find(".dropDownButton__list").hide()},250):a.find(".dropDownButton__list").css({display:"block",visibility:"hidden"}),e(i).unbind("keydown.upDownEvents"),a.hasClass("is-open")||highlightAndBindUpDown(a,"",".js-dropdown ul li"),a.toggleClass("is-open")}),r.on("click.ui.dropdown",".js-dropdown [data-dropdown-value]",function(t){t.preventDefault();var i=e(this);if(i.hasClass("subHeader"))t.stopPropagation();else{var a=i.parents(".js-dropdown");a.find(".js-dropdown__input").data("index",i.data("index")).val(i.data("dropdown-value")).change(),a.hasClass("ivirActionDrpDwn")?a.find(".js-dropdown__current").text(callParentNew("lcm")[406]):a.find(".js-dropdown__current").attr("title","Search "+i.text()).text(i.text())}}),r.on("click.ui.dropdown",function(t){e(t.target).parents().hasClass("js-dropdown")||(e(i).unbind("keydown.upDownEvents"),e(".js-dropdown").removeClass("is-open")),e(t.target).hasClass("rightClickMenuIcn")||e(".rightClickMenu").hide()})}(jQuery,window,document),$(window).resize(function(){$(".dataTables_scrollHead table thead tr th:last-child").visible(!0)?$(".dataTables_scrollHead").off("keydown"):$(".dataTables_scrollHead").on("keydown",function(e){9==(e.keyCode||e.which)&&e.preventDefault()})});