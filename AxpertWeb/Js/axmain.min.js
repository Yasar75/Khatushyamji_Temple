/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var MainNewEdit=!1,isTstructPopup=!1,traceSplitChar="♦",traceSplitStr="♦♦",expImpPopUp,IsFormDirty=!1,leftMenuWrapper="",isLeftMenuExists="",leftMenuvText="",isDashBoardClicked=!1,currentTheme,fw_Menu_Unhover,fw_Menu_HoverDynamic,isPrintPDFClick=!1,isSaveAndPrintClick=!1,isSavePrintValues=[],isSuccessAlertInPopUp=!1,isRefreshParentOnClose=!1,isHomePageLoaded=!1,ivCmdRefresh="",mainSQLhintObj={},AxUserPagesInfo={},IsfieldaddInDesignMode=!1,notifyJsonOldobj="",colorArray=["#999966","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],appLinkHistory=[],appLinkHistoryLabel=[],menuLabel,curPageIndex=0,prevClickFlag=!1,nextClickFlag=!1,histListFlag=!1,isTstructSplited=!1,tstructCustomHTML="",middle1URL="",isMobile=isMobileDevice(),tstAxpFileFlds=!1,browserElapsTime=0,isHybridAddressBarVisible=!0;if("undefined"!=typeof Storage){try{var appSessUrl=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));hybridGUID?localStorage["hybridGUID-"+appSessUrl]=hybridGUID:localStorage["hybridGUID-"+appSessUrl]&&(hybridGUID=localStorage["hybridGUID-"+appSessUrl]),hybridDeviceId?localStorage["hybridDeviceId-"+appSessUrl]=hybridDeviceId:localStorage["hybridDeviceId-"+appSessUrl]&&(hybridDeviceId=localStorage["hybridDeviceId-"+appSessUrl])}catch(ex){}if(hybridGUID)try{var isHttps="https:"==window.location.protocol,fileUrl="".concat(window.location.origin,"/.well-known/assetlinks.json");isHttps&&UrlExists(fileUrl)&&(isHybridAddressBarVisible=!1)}catch(error){}}"undefined"!=typeof axpProjectCaption&&""!=axpProjectCaption&&(axUserOptions.axAppName.appName=axpProjectCaption);var appGlobalVarsObject={},traceWin;function appGlobalObj(){_this_=this,this.lcm=lcm,this._CONSTANTS=new globalConstants,this.splitRatio="1:1:auto",this.methods={toggleCompressModeUI:function(e){_this_._CONSTANTS.compressedMode?(e.addClass("compressedModeUI"),e.find("iframe").length>0&&$(e.find("iframe")).each(function(e,t){_this_.methods.toggleCompressModeUI($(t.contentDocument.body))})):(e.removeClass("compressedModeUI"),e.find("iframe").length>0&&$(e.find("iframe")).each(function(e,t){_this_.methods.toggleCompressModeUI($(t.contentDocument.body))}))}}}function globalConstants(){this.window=window,this.MALICIOUSNPUTDETECTED="Invalid input detected, Please try again.",this.isHybrid=!(!hybridGUID||""==hybridGUID),this.isHybridAddressBarVisible=isHybridAddressBarVisible,this.bundles={reportCss:reportCss,reportJs:reportJs},this.compressedMode=compressedMode,this.colors={get light(){return"#ffffff"},get white(){return this.light},get dark(){return rgbToHex(getCssByAttr("class","text-gray-900","color"))},get black(){return this.dark}}}function getCompressedMode(){var e=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));try{if(null!=window.localStorage.getItem("compressedMode-"+e)&&window.localStorage.getItem("compressedMode-"+e)!=undefined)return JSON.parse(window.localStorage.getItem("compressedMode-"+e));updateCompressedmode(compressedMode)}catch(t){}return compressedMode}function CheckIsUserLogged(){doPageUnload="false",$("body").addClass("resetLoginBdy");var isUserLogged=$.confirm({theme:"modern",closeIcon:!1,title:"Security Alert",escapeKey:"buttonB",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[311]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$(".jconfirm-buttons button").each(function(){$(this).attr("disabled",!0),$(this).addClass("confdisable")}),window.localStorage.removeItem("axpertLocalsession"),$("#btnResubmit").click()}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){window.location.href="./Signin.aspx",disableBackDrop("destroy")}}},close:function(){ShowDimmer(!0)},onOpenBefore:function(){$(".jconfirm-buttons button").each(function(){$(this).addClass("Custom_Case")})}})}function ToggleTrace(e){var t=$("#imgTogTrace"),a=t[0].parentElement.childNodes[1].checked,i=$("#lnkTrace");a?(e="true",t.attr("class","switch slider round"),t.attr("title",lcm[465]),i.prop("disabled",!1)):(t.attr("class","switch slider round"),t.attr("title",lcm[466]),i.prop("disabled",!0),e="false");try{ASB.WebService.UpdateTraceStatus(e,SuccessToggleTrace)}catch(n){}}function ToggleShowLog(e){var t=$("#imgTogTrace");t.parent().find("input").is(":checked")?(e="true",t.attr("title",lcm[465])):(t.attr("title",lcm[466]),e="false");try{ASB.WebService.UpdateTraceStatus(e,SuccessToggleTrace)}catch(a){}}function SuccessToggleTrace(e,t){"done"!=e&&showAlertDialog("error",e)}function ClearCache(){try{ASB.WebService.ClearCache(SuccessCacheCallback)}catch(e){}}function SuccessCacheCallback(e,t){showAlertDialog("success",e)}function signout(e){if("undefined"!=typeof axOktaSessionInit&&"undefined"!=typeof axOktaLogOut)try{axOktaLogOut()}catch(ex){}var t=!1;t="ar"==gllangType;var a=lcm[155],i=$.confirm({theme:"modern",title:a,onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"false",rtl:t,escapeKey:"buttonaB",content:lcm[27],buttons:{buttonA:{text:lcm[164],btnClass:"btn btn-primary",action:function(){i.close(),window.location.href=e}},buttonaB:{text:lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}function HideHelp(){var e=document.getElementById("divHelp");helpOpen&&(helpOpen=!1,e.style.display="none")}function OpenLogFile(){traceWin=displayBootstrapModalDialog("Logged File","","",!0,"../aspx/OpenLogFile.aspx")}function OpenExecutionLogFile(){traceWin=displayBootstrapModalDialog("Execution Logs","md","360px",!0,"../aspx/ExecutionLogs.html")}function ClosePopUps(){null!=traceWin&&traceWin.close(),null!=draftsWin&&0!=draftsWin&&draftsWin.close();for(var e=0;e<childWindowHandler.length;e++)childWindowHandler[e].closed||childWindowHandler[e].close()}appGlobalVarsObject=new appGlobalObj;var SESSTIMEOUT="SESSION_TIMEOUT",SESSMSG="axmain.aspx";function CheckSessionTimeout(e){if(e==SESSTIMEOUT){if(window.opener&&!window.opener.closed)window.close(),window.opener.location.reload();else try{document.location.href=SESSMSG}catch(ex){parent.parent.location.href=SESSMSG}return!0}return"Duplicate_session"==e?(CheckSuccCallBackValidate(),!0):e==appGlobalVarsObject._MALICIOUSNPUTDETECTED&&(showAlertDialog("error",appGlobalVarsObject.lcm[449]),AxWaitCursor(!1),ShowDimmer(!1),!0)}function ChangeDir(e){$("#form1").attr("dir",e)}function ClearSession(e){if(globalChange)if(confirm(lcm[29]))globalChange=!1;else{if(!e)return!1;e.preventDefault()}dataRowIndex=-1,clickedColumn="",isParentIview=!1,tstructPop=!1,listViewPage="0";try{isSessionCleared||(ASB.WebService.ClearNavigationSession(),isSessionCleared=!0)}catch(ex){}}function SetUnload(e){doPageUnload=e}function BeforeWindowClose(){if("false"!=doPageUnload)try{sessionStorage.removeItem("homeJsonObj"),sessionStorage.clear();var e=parseInt(window.localStorage.getItem("axpertLocalsession"));if(e&&0!=e)window.localStorage.setItem("axpertLocalsession",e-1);else{var t=ExecutionTraceInterval(!0);clearLocalStorage(["projInfo-","versionInfo-","langInfo-","hybridGUID-","hybridDeviceId-","compressedMode-","duplicateUser-","instanceName-"],!0),window.localStorage.removeItem("axpertLocalsession"),t&&ASB.WebService.SignOut()}}catch(ex){}else doPageUnload="true"}function createLocalSession(){if(null==window.localStorage.getItem("axpertLocalsession"))window.localStorage.setItem("axpertLocalsession",0);else{var e=parseInt(window.localStorage.getItem("axpertLocalsession"));window.localStorage.setItem("axpertLocalsession",e+1)}}function HideInfoDiv(){$("#dvMessage").is(":visible")&&$("#dvMessage").hide()}var visibleAppSettings=0,AxHelpIview,ivname;function ExecTraceInterval(){setInterval(ExecutionTraceInterval,3e5)}function AxAfterMainPageLoad(e){e==undefined?($(".content-wrapper, .main-footer").css("margin-left",axMenuReSize),$(".main-sidebar").css("width",axMenuReSize)):($(".content-wrapper, .main-footer").css("margin-left",""),$(".main-sidebar").css("width",""))}function prevbtn_click(e){if(e.hasClass("linkGray"))return!1;updateLinks(e,"prev")}function nextbtn_click(e){if(e.hasClass("linkGray"))return!1;updateLinks(e,"next")}function ShowMore(e){$("#divSelectedGlo").show(),$("#dvGloList").html("");for(var t=e.split(","),a=0;a<t.length;a++)if(" "!=t[a].toString()){t[a];var i="<li> "+t[a]+"</li>";$("#dvGloList").append(i)}}function SetFormDirty(e){IsFormDirty=e,window.globalChange=e,void 0!==$("#middle1")&&$("#middle1").attr("src").indexOf("tstruct.aspx")>-1&&1==tstAxpFileFlds&&(tstAxpFileFlds=!1,ASB.WebService.RemoveUnwantedAxpFiles())}function handleTabIndex(){$("#customizer").hasClass("panel-open")?($("#customizer").attr("tabindex","0"),$("#options li a").each(function(e,t){$(t).attr("tabindex","0")})):($("#customizer").attr("tabindex","-1"),$("#options li a").each(function(e,t){$(t).attr("tabindex","-1")}))}function LoadExportIframe(e){if(window.globalChange){if(!confirm(lcm[31]))return ShowDimmer(!1),void $(".closeSidePanel").click();SetFormDirty(!1)}document.getElementById("middle1").src=e,loadFrame(),$("#inner-page").is(":visible")||$("#inner-page").show()}function LoadIframe(e){var t,a=arguments.length>1&&arguments[1]!==undefined&&arguments[1];(""!=$("#hdKeepMeDefaultUrl").val()&&(e=$("#hdKeepMeDefaultUrl").val(),a=!1,$("#hdKeepMeDefaultUrl").val("")),a)||(e.toLowerCase().indexOf("tstruct.aspx")>-1?(t="Tstruct load on menu click(post back)",GetCurrentTime(t)):e.toLowerCase().indexOf("iview.aspx")>-1?(t="Iview load on menu click(post back)",GetCurrentTime(t)):(t="Page load","loadhomepage"!=e||$.axpertUI&&$.axpertUI.cardsPage&&$.axpertUI.cardsPage.options.setCards||GetCurrentTime(t)));if("loadhomepage"==e){if($.axpertUI&&$.axpertUI.cardsPage&&$.axpertUI.cardsPage.options.setCards)return $.axpertUI.cardsPage.activate(e),resetMainPageUI(),!1;if(!$("#hdHomeUrl").val())return $("#middle1").attr("src",$("#hdHomeUrl").val()),!1;e=$("#hdHomeUrl").val()}else $.axpertUI&&$.axpertUI.cardsPage&&$.axpertUI.cardsPage._showCardsFrame(!1);resetMainPageUI(),splitfull(),isTstructSplited=!1;var i=e.toLowerCase();"true"===appDiableSplit||"pagedesigner.aspx"===i||"responsibilities.aspx"===i||"workflownew.aspx"===i||-1!=i.indexOf("paramststruct.aspx")?hideSplitButtons():unhideSplitButtons();try{AxOnLoadIframe()}catch(ex){}1!==e.indexOf("iviewInteractive")&&(e=e.replace("iviewInteractive","iview"));var n=$("#hamburgerMenuIcon");if(n.hasClass("is-active")&&n.find("button").click(),window.globalChange){if(!confirm(lcm[31]))return;SetFormDirty(!1)}else if($("#middle1")[0].contentWindow.designChanged!=undefined&&1==$("#middle1")[0].contentWindow.designChanged&&!confirm(lcm[31]))return;$("#dvSelectedGlobalVar").show();var o="",s="";try{(s=AxOnLoadMiddleIframe(e))==undefined&&""==s||(s.src="../../aspx/"+e)}catch(ex){}return s!==undefined&&""!==s||(o=document.getElementById("middle1"),GetProcessTime(),-1!=e.indexOf("?")?o.src=e+"&hdnbElapsTime="+browserElapsTime:o.src=e+"?hdnbElapsTime="+browserElapsTime),e.indexOf("ivname")>-1&&loadFrame(),e.indexOf("tstruct.aspx")>-1&&loadFrame(),$("#inner-page").is(":visible")||$("#inner-page").show(),$("#inner-page").is(":visible")||$("#inner-page").show(),checkResolution(),isTstructPopup=!1,!1}function LoadIframeOnline(e){1!==e.indexOf("iviewInteractive")&&(e=e.replace("iviewInteractive","iview"));var t=$("#hamburgerMenuIcon");if(t.hasClass("is-active")&&t.find("button").click(),window.globalChange){if(!confirm(lcm[31]))return;SetFormDirty(!1)}else if($("#axpiframe")[0].contentWindow.designChanged!=undefined&&1==$("#axpiframe")[0].contentWindow.designChanged&&!confirm(lcm[31]))return;$("#dvSelectedGlobalVar").show();var a=document.getElementById("axpiframe");$(".impExpHis").css({right:"29px",top:"68px"}),$("#dvNonCloudMenu").css("display","block"),$("#dvSelectedGlobalVar").css("top","73px"),$("#dvSelectedGlobalVar").addClass("appGlobalParams"),$("#axpiframe").removeClass("middle1_isCloudApp"),$("#axpiframe").addClass("middle1_isNotCloudApp"),$(".leftPartAC").removeClass("middle1_isCloudApp"),$(".leftPartAC").addClass("middle1_isNotCloudApp"),$(".rightPartAC").removeClass("middle1_isCloudApp"),$(".rightPartAC").addClass("middle1_isNotCloudApp"),$(".ACmainwrapper").css("margin-top","0px"),$("#exeiddownload").hide(),$("#li_ConfigApp").hide(),$("li2").hide(),$("#wrapperForMainNewData").css("top","109px"),a.style.display="",a.src=e,e.indexOf("ivname")>-1&&loadFrameOnline(),e.indexOf("tstruct.aspx")>-1&&loadFrameOnline(),$("#inner-page").is(":visible")||$("#inner-page").show(),$("#inner-page").is(":visible")||$("#inner-page").show(),checkResolution(),isTstructPopup=!1}function loadHome(e){var t=window.location.href.split(".aspx#"),a=t[1]?t[1].charAt(0):"";if(e&&t.length>1&&""!=t[1]&&("t"===a||"i"===a||"p"===a||"u"===a))if("u"===a)try{var i=t[1].split("=")[1];if("local"==i){if("undefined"!=typeof Storage){var n=localStorage["PageToLoad_"+mainProject];n.indexOf("♠")>-1?localStorage["PageToLoad_"+mainProject]=n.substring(n.indexOf("♠")+1):localStorage["PageToLoad_"+mainProject]="",(n=n.split("♠")[0])!=undefined&&""!=n&&LoadIframe(n)}}else"sess"==i&&GetNewTabPageSess({key:"PageToLoad",cb:function(e){if(e.d!=undefined){var t=e.d;t!=undefined&&""!=t&&LoadIframe(t)}}})}catch(ex){console.warn("Error in PageToLoad GetNewTabPageSess call : "+ex.message)}else{var o=t[1].substr(1);"t"===a?LoadIframe("tstruct.aspx?transid="+o+"&openerIV=".concat(o,"&isIV=false")):"i"===a?LoadIframe("iview.aspx?ivname="+o):"p"===a&&LoadIframe("page.aspx?axpage_id="+o)}else""==navigatePage?$("#inner-page").hide():-1!=navigatePage.indexOf("ParamsTstruct.aspx")?bootstrapDialogAppParamsShow():($("#inner-page").show(),$(".leftPartAC").css("display","block"),$("#dvSelectedGlobalVar").css("display","inline-block"),$("#rightDiv").addClass("rightPartAC"),splitfull(),hideSplitButtons(),$("#middle1").attr("src",navigatePage),"../Portal/portal.aspx"==navigatePage&&loadFrame())}function ShowCustomHelp(){LoadIframe("iview.aspx?ivname="+AxHelpIview)}function loadFrame(){"undefined"!=typeof $("#middle1")[0].contentWindow.ShowDimmer&&$("#middle1")[0].contentWindow.ShowDimmer(!1)}function loadFrameOnline(){"undefined"!=typeof $("#axpiframe")[0].contentWindow.ShowDimmer&&$("#axpiframe")[0].contentWindow.ShowDimmer(!1),$.LoadingOverlay("show",{fixedBackgroundSize:"135px",zIndex:99999999})}function closeFrame(){$("body").removeClass($.axpertUI.options.loader.parent.substr(1))}function loadConfigPage(e){LoadIframe(e)}$(document).ready(function(e){if(WireElapsTime(serverprocesstime,requestProcess_logtime),"undefined"!=typeof axOktaSessionInit&&"undefined"!=typeof axOktaLogOut)try{axOktaSessionInit()}catch(ex){}try{AxBeforeMainReady()}catch(ex){}try{AxAfterMainPageLoad()}catch(ex){}$(".main-sidebar").on("mouseleave",function(){1==$("body").hasClass("menu-hover")&&($("body").removeClass("menu-hover").addClass("sidebar-collapse"),$(".treeview-menu").hide(),$(".treeview.menu-open").removeClass("menu-open"))}),ShowDimmer(!1),$("#middle1").on("load",function(){$(this).contents().find("html").on("click",function(e){$("#Li1").removeClass("open"),$("#liMulmenu").removeClass("open"),$(".dropdown-toggle").parent().removeClass("open")}),checkSuccessAxpertMsg()}),createLocalSession(),"t"==$("#hdnmessagesIcon").val()?$("#messagesIcon").show():$("#messagesIcon").hide(),$("#messagesIcon").click(function(e){var t="";t="False"==isCloudApp?$(this)[0].offsetTop+80:$(this)[0].offsetTop+22,$("#showMessagesDashBoard").css({top:t,left:$(this)[0].offsetLeft}).toggle()}),$("#closemsgDshBrd").click(function(e){$("#showMessagesDashBoard").hide(),$("#messagesIcon").removeClass("active"),$("#homeIcon").addClass("active")}),$("#messagesIcon").click(function(e){$("#showMessagesDashBoard").is(":visible")||($("#homeIcon").addClass("active"),$("#messagesIcon").removeClass("active"))}),$("body").click(function(e){"glyphicon glyphicon-comment active"!==e.target.className&&$("#showMessagesDashBoard").hide()}),"admin"==uName.toLowerCase()||"true"==uOwner.toLowerCase()?$("#ExportImportCogIcon .adminSettings").show():$("#ExportImportCogIcon .adminSettings").hide(),checkResolution(),0==$(".leftPartAC .dropdown-menu li").length&&($(".closeSidePanel").click(),$("#leftMenuToggleBtn").hide(),$("#leftVerticalText p").text(lcm[32])),"undefined"!=typeof isCloudApp&&"True"==isCloudApp?($(".impExpHis").css({right:"21px",top:"12px"}),$("#dvNonCloudMenu").css("display","none"),$("#dvSelectedGlobalVar").css("top","11px"),$("#middle1").removeClass("middle1_isNotCloudApp"),$("#middle1").addClass("middle1_isCloudApp"),$(".leftPartAC").removeClass("middle1_isNotCloudApp"),$(".leftPartAC").addClass("middle1_isCloudApp"),$(".rightPartAC").removeClass("middle1_isNotCloudApp"),$(".rightPartAC").addClass("middle1_isCloudApp"),$(".ACmainwrapper").css("margin-top","0px"),$("#wrapperForMainNewData").css("top","52px")):($(".impExpHis").css({right:"29px",top:"68px"}),$("#dvNonCloudMenu").css("display","block"),$("#dvSelectedGlobalVar").css("top","73px"),$("#dvSelectedGlobalVar").addClass("appGlobalParams"),$("#middle1").removeClass("middle1_isCloudApp"),$("#middle1").addClass("middle1_isNotCloudApp"),$(".leftPartAC").removeClass("middle1_isCloudApp"),$(".leftPartAC").addClass("middle1_isNotCloudApp"),$(".rightPartAC").removeClass("middle1_isCloudApp"),$(".rightPartAC").addClass("middle1_isNotCloudApp"),$(".ACmainwrapper").css("margin-top","0px"),$("#exeiddownload").hide(),$("#li_ConfigApp").hide(),$("li2").hide(),$("#wrapperForMainNewData").css("top","109px")),$(".hidden767px .dropdown-menu .dropdown-submenu").first().find("a:first").remove(),""!=$("#draftsMessage").val()&&$("#draftmessagedv").css("display","block"),$(".tooltip").fadeOut(1e4),"ARABIC"==gllangauge?($(".news_title").css("float","right"),$(".insructions_title").css("float","right"),$(".morquee").css("float","right").css("width:80%"),$(".news_title").prepend('<div class="trr"></div>'),$(".insructions_title").prepend('<div class="tlr"></div>')):($(".news_title").prepend('<div class="tr"></div>'),$(".insructions_title").prepend('<div class="tl"></div>'),"admin"==uName.toLowerCase()&&($("#li_ConfigApp").css("display","block"),$("li2").show())),$(".mainParentElements").click(function(e){e.preventDefault(),$(this).children(".child").toggle(500),$(".mainParent").css("border-bottom","1px solid grey"),$(this).find(".ar").toggleClass("arrowDown"),$(this).find(".ar").toggleClass("arrow")}),$("#leftVerticalText p").click(function(){$("#leftMenuToggleBtn").is(":visible")&&$("#leftMenuToggleBtn").click()}),checkSuccessAxpertMsg(),(t=!!document.documentMode)&&$(window).on("beforeunload",function(){window.location.replace("#"),"function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.slice(0,-1))});var t=!!document.documentMode;$("#homeBuilderBtn").keydown(function(e){t&&13==e.keyCode&&LoadIframe("HomeBuilder.aspx")}),$("#homeIcon").keydown(function(e){t&&e.keyCode}),$("#themeIcon").keydown(function(e){t&&13==e.keyCode&&($("#customizer").toggleClass("panel-open"),handleTabIndex(),$("#customizer").hasClass("panel-open")&&$("#customizer").focus())}),""!=$("#draftsMessage").val()&&$("#draftmessagedv").css("display","block"),$(".tooltip").fadeOut(1e4),"ARABIC"==gllangauge?($(".news_title").css("float","right"),$(".insructions_title").css("float","right"),$(".morquee").css("float","right").css("width:80%"),$(".news_title").prepend('<div class="trr"></div>'),$(".insructions_title").prepend('<div class="tlr"></div>')):($(".news_title").prepend('<div class="tr"></div>'),$(".insructions_title").prepend('<div class="tl"></div>'),"admin"==uName.toLowerCase()&&$("#li_ConfigApp").css("display","block")),$("#appSettingsDropDown li").each(function(){"none"!=$(this).css("display")&&visibleAppSettings++}),visibleAppSettings>0?$("#ExportImportCogIcon").show():$("#ExportImportCogIcon").hide(),$(".linkPrev").click(function(){prevbtn_click($(this))}),$(".linkNext").click(function(){nextbtn_click($(this))}),$(".axpSettings").click(function(e){!$(e.target).hasClass("qrcoderel")&&$("#qrCode").data("bs.popover"),$("#customizer").hasClass("panel-open")&&$("#customizer").removeClass("panel-open")});try{AxAfterMainReady()}catch(ex){}if("undefined"!=typeof localStorUser&&"true"==localStorUser){var a=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));localStorage.setItem("unlmtUsername-"+a,mainProject)}ExecTraceInterval(),""!=$("#hdHomeUrl").val()&&LoadIframe("loadhomepage",!0)}),$(window).on("orientationchange",function(){$(window).width()<=768&&$(".closeSidePanel").click()});var cm=null;function getPos(e,t){for(var a=0;null!=e;)a+=e["offset"+t],e=e.offsetParent;return a}function show(e,t){$(".menu").parent().removeClass("selectedMenuMN"),$(e).parent().addClass("selectedMenuMN"),t&&(t.style.display="",t.style.pixelLeft=getPos(e,"Left"),t.style.pixelTop=getPos(e,"Top")+e.offsetHeight),t!=cm&&cm&&(cm.style.display="none"),cm=t}function CheckUrlSplChars(e){if(null!=e)return e=e.replace(/&amp;/g,"&"),e=encodeURIComponent(e)}function CheckSpCharsForXml(e){return e=(e=(e=(e=(e=(e=e).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")}function focusTheParent(e,t){$(document).on("focus",e,function(){$(e).parents(t).addClass("focusTheField")}),$(document).on("blur",e,function(){$(e).parents(t).removeClass("focusTheField")})}function checkResolution(){$(window).width()<=1050&&$(".closeSidePanel").click()}document.onclick=new Function("show(null)"),$(".visible767px").click(function(e){e.stopPropagation()}),$(".visible767px").click(function(e){e.stopPropagation()});var timeout=0,sessTimePopup=!1,lastFive=5,sessTime=0,lastInterval=!1,lastFiveSetTime=!1,createFiveMinTimeOut=!1,serSessTime=0,lastUpdated=!1;function SessionExpireAlert(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];if("lastFive"!=e&&(e?(t?serSessTime=sessTime=e:t||(sessTime=e),timeout=(e/=1e3)||timeout):timeout-=300),timeout<=300){checkLastUpdated();if(!lastUpdated)return;if("lastFive"==e){if(1==--lastFive){var a=60;lastInterval=setInterval(function(){if(a--,$("#seconds").text(a+" Seconds"),0==a){if(checkLastUpdated(!0),!lastUpdated)return void clearInterval(lastInterval);clearInterval(lastInterval),window.location=window.location}},1e3)}else $("#seconds").text(lastFive+" Mins"),lastFiveSetTime&&(clearTimeout(lastFiveSetTime),lastFiveSetTime=null),lastFiveSetTime=setTimeout(function(){SessionExpireAlert("lastFive")},6e4);return}var i=!1;i="ar"==gllangType,sessTimePopup=$.confirm({theme:"modern",closeIcon:!1,title:lcm[154],rtl:i,escapeKey:!0,backgroundDismiss:!1,onContentReady:function(){disableBackDrop("bind",!1)},content:'<div class="body">'+lcm[33]+'&nbsp;<span id="seconds" style="color:Red;">'+lcm[35]+"</span>&nbsp;<br />"+lcm[34]+"</div>",buttons:{buttonA:{btnClass:"btn btn-primary",text:lcm[282],action:function(){lastInterval&&clearInterval(lastInterval),lastFiveSetTime&&(clearTimeout(lastFiveSetTime),lastFiveSetTime=null),ResetSession(!0),sessTimePopup.close()}},buttontB:{text:lcm[283],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy"),lastInterval&&(clearInterval(lastInterval),lastInterval=null),lastFiveSetTime&&(clearTimeout(lastFiveSetTime),lastFiveSetTime=null),window.location=window.location}}}}),lastFiveSetTime&&(clearTimeout(lastFiveSetTime),lastFiveSetTime=null),lastFiveSetTime=setTimeout(function(){SessionExpireAlert("lastFive")},6e4)}else createFiveMinTimeOut&&(clearTimeout(createFiveMinTimeOut),createFiveMinTimeOut=null),createFiveMinTimeOut=setTimeout(function(){SessionExpireAlert()},3e5)}function ResetSession(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];if("undefined"!=typeof keepAlive&&"true"==keepAlive)KeepSessionAlive(serSessTime);else{if(e)new Image(1,1).src="../aspx/Reconnect.aspx";0!=sessTimePopup&&sessTimePopup.close(),lastFive=5,createFiveMinTimeOut&&(clearTimeout(createFiveMinTimeOut),createFiveMinTimeOut=null),lastFiveSetTime&&(clearTimeout(lastFiveSetTime),lastFiveSetTime=null),SessionExpireAlert(serSessTime)}}var creatSATimeOut=!1;function KeepSessionAlive(e){""!=e&&(serSessTime=e,e-=3e4),creatSATimeOut&&(clearTimeout(creatSATimeOut),creatSATimeOut=null),creatSATimeOut=setInterval(function(){var e=callParentNew("middle1","id").src;e=(e=e.substring(e.length,e.indexOf("/aspx/")+6)).substring(0,e.indexOf("&hdnbElapsTime=")),$.ajax({type:"POST",url:"../WebService.asmx/KeepSignLastUpdated",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({AliveTime:serSessTime,currPageUrl:e}),dataType:"json",success:function(e){e.d;window.location=window.location}})},e)}function addOverlayToBody(){$(callParentNew("mainNewPageBody")).find(".main-header, .main-sidebar, .main-footer").addClass("remodal-overlay-custom"),$(".button-splitter .split-btn").hasClass(".hide")||$(".button-splitter").find(".split-btn, .split-btn-vertical").hide()}function removeOverlayFromBody(){$(callParentNew("mainNewPageBody")).find(".main-header, .main-sidebar, .main-footer").removeClass("remodal-overlay-custom"),$(".button-splitter .split-btn").hasClass(".hide")||$(".button-splitter").find(".split-btn, .split-btn-vertical").show()}$(document).click(function(e){!$(e.target).hasClass("qrcoderel")&&$("#qrCode").data("bs.popover"),0!=$("#middle1").contents().find(".remodal-close").length&&0==top.$(".loadingoverlay").length&&0==$(".jconfirm").length||(0!=$("#middle1").contents().find("#bootstrapModal .close").length?$("#middle1").contents().find("#bootstrapModal .close").click():0!=$("#middle1").contents().find("#divAction #closeList").length?$("#middle1").contents().find("#divAction #closeList").click():0!=$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtn").length?$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtn").click():$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtntiny").length)}),$(function(){$("#settingbtn, #settingdropdown, #ExportImportCogIcon").click(function(){$("#customizer",window.parent.document).removeClass("panel-open"),handleTabIndex(),0!=$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtntiny").length?$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtntiny").click():0!=$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtn").length?$("#middle1").contents().find(".jconfirm-box .jconfirm-buttons .coldbtn").click():0!=$("#middle1").contents().find(".remodal-close").length&&0==top.$(".loadingoverlay").length?$("#middle1").contents().find(".remodal-close").click():0!=$("#middle1").contents().find("#bootstrapModal .close").length?$("#middle1").contents().find("#bootstrapModal .close").click():0!=$("#middle1").contents().find("#divAction #closeList").length&&$("#middle1").contents().find("#divAction #closeList").click()})}),$(function(){"use strict";$(".panel-control").click(function(e){$("#customizer").toggleClass("panel-open"),e.preventDefault(),handleTabIndex(),$("#customizer").hasClass("panel-open")&&$("#customizer").focus()})}),$(document).keyup(function(e){27==e.which&&$("#customizer").hasClass("panel-open")&&($("#customizer",window.parent.document).removeClass("panel-open"),$("#themeIcon").focus(),handleTabIndex())}),$(function(){$('[data-toggle="popover"]').popover({container:"body",html:!0,content:function(){return $($(this).data("popover-content")).clone(!0).removeClass("hide")}})});var actionsClicked="";function checkIfAnyActionPerformed(){"Change Password"==actionsClicked?displayBootstrapModalDialog("Change Password","md","230px",!0,"../aspx/cpwd.aspx?remark=chpwd"):"Trace File"==actionsClicked&&OpenLogFile(),actionsClicked=""}function showAbout(){if("true"===$(".modal").filter(".in").attr("data-confirm-leave"))actionsClicked="okay",iFrameId=$(".modal").filter(".in").attr("data-iframe-id"),iFrameId!=undefined&&window.frames[iFrameId].contentWindow.ConfirmLeave();else{var e=new BSModal("AboutAxpertWeb","About Axpert Web","<iframe src='../aspx/aboutUs.aspx'></iframe>",function(){$(".btn-close").focus(),$("#btnClose").hide()},function(){});e.hideFooter(),e.close()}setTimeout(function(){removeUnclickableMenuCssClass()},100)}function showUserManual(){"true"===$(".modal").filter(".in").attr("data-confirm-leave")?(actionsClicked="okay",iFrameId=$(".modal").filter(".in").attr("data-iframe-id"),iFrameId!=undefined&&window.frames[iFrameId].contentWindow.ConfirmLeave()):displayBootstrapModalDialog("User Manual","md","300px",!0,"../aspx/UserManual.aspx",undefined,function(){$("#iFrameAboutAxpertWeb").contents().find("#btnClose").focus()}),setTimeout(function(){removeUnclickableMenuCssClass()},100)}function showWorkBench(e){if(""!=e){doPageUnload="false";try{window.open(e)}catch(ex){showAlertDialog("warning",appGlobalVarsObject.lcm[356])}doPageUnload="true"}}function showChangePasswordDialog(){"true"===$(".modal").filter(".in").attr("data-confirm-leave")?(actionsClicked="Change Password",iFrameId=$(".modal").filter(".in").attr("data-iframe-id"),iFrameId!=undefined&&window.frames[iFrameId].contentWindow.ConfirmLeave()):displayBootstrapModalDialog("Change Password","md","230px",!0,"../aspx/cpwd.aspx?remark=chpwd"),setTimeout(function(){removeUnclickableMenuCssClass()},100)}function showTraceFileDialog(){"true"===$(".modal").filter(".in").attr("data-confirm-leave")?(actionsClicked="Trace File",iFrameId=$(".modal").filter(".in").attr("data-iframe-id"),iFrameId!=undefined&&window.frames[iFrameId].contentWindow.ConfirmLeave()):OpenLogFile(),setTimeout(function(){removeUnclickableMenuCssClass()},100)}function showElTraceFileDialog(){"true"===$(".modal").filter(".in").attr("data-confirm-leave")?(actionsClicked="Trace File",iFrameId=$(".modal").filter(".in").attr("data-iframe-id"),iFrameId!=undefined&&window.frames[iFrameId].contentWindow.ConfirmLeave()):OpenExecutionLogFile(),setTimeout(function(){removeUnclickableMenuCssClass()},100)}function showImportHistoryDialog(){displayBootstrapModalDialog("Import History","lg","410px",!0,"iview.aspx?ivname=axpfinhs")}function getAppSessionKey(){var e="";return $.ajax({type:"POST",url:"../WebService.asmx/GetSession",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({key:"appsessionkey"}),dataType:"json",success:function(t){"Session does not exist"!=t.d&&(e=t.d)}}),e}function updateSessionVar(e,t){$.ajax({type:"POST",url:"../WebService.asmx/AddSessionPair",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({key:e,val:t}),dataType:"json",success:function(e){}})}function getSessionValue(e){var t="";return $.ajax({type:"POST",url:"../WebService.asmx/GetSessionValue",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({key:e}),dataType:"json",success:function(e){e&&e.d&&(t=e.d)}}),t}function checkLastUpdated(e){$.ajax({type:"POST",url:"../WebService.asmx/CompareLastUpdated",cache:!1,async:!1,contentType:"application/json;charset=utf-8",dataType:"json",success:function(t){var a;a=e?serSessTime:serSessTime-3e5;var i=6e4*t.d;if(a<=i)return lastUpdated=!0,!0;lastUpdated=!1;var n=serSessTime-i,o=6e4*(Math.floor(n/1e3/60<<0)%5);return pause(o,n-o),!1}})}function pause(e,t){0!=sessTimePopup&&sessTimePopup.close(),lastFive=5,createFiveMinTimeOut&&(clearTimeout(createFiveMinTimeOut),createFiveMinTimeOut=null),lastFiveSetTime&&(clearTimeout(lastFiveSetTime),lastFiveSetTime=null),setTimeout(function(){SessionExpireAlert(t,!1)},e)}function createPagesForUser(e){if("directLink"!==e.calledFrom){var t="",a=AxUserPagesInfo.data,i=void 0===a?[]:a,n=AxUserPagesInfo.metaData;i.forEach(function(e,a){var i=e[n.TITLE],o=e[n.PAGE_ID];t+="<li data-idx=".concat(a," data-pageid=").concat(o,'><a href="javascript:void(0)" onclick="openUserPage({id:').concat(o,",template:").concat(e[n.TEMPLATE],",title:'").concat(i,"'})\">").concat(i,"</a></li>")}),hasPageBuildAccess&&(i.length&&(t+='<li class="divider"></li>'),t+='<li><a href="javascript:void(0)" onclick="LoadIframe(\'PageDesigner.aspx\');">Page Designer</a></li>'),$("#AxUserPages ul").html(t),(0!==i.length||hasPageBuildAccess)&&$("#AxUserPages").show()}}function openUserPage(e){var t=e.id,a=e.template,i=e.title,n=void 0===i?"":i;n=n.replace(/\+/g,"&#43").replace(/ /g,"+"),LoadIframe("page.aspx?axpage_id=".concat(t,"&axpage_t_id=").concat(a,"&axpage_title=").concat(n))}function DoUtilitiesEvent(e){switch(e){case"Responsibilities":splitfull(),LoadIframe("Responsibilities.aspx");break;case"ImportData":var t=new BSModal("ImportData","Import Data","<iframe src='../aspx/ImportNew.aspx'  class='vw-100 vh-100'></iframe>",function(){$(".btn-close").focus()},function(){});t.changeSize("fullscreen"),t.hideFooter(),t.modalBody.classList.add("p-0"),t.close();break;case"ExportData":var a=new BSModal("ExportData","Export Data","<iframe src='../aspx/ExportNew.aspx?action=export'   class='vw-100 vh-100'></iframe>",function(){$(".btn-close").focus()},function(){});a.changeSize("fullscreen"),a.hideFooter(),a.modalBody.classList.add("p-0","overflow-hidden"),a.close();break;case"ImportHistory":displayBootstrapModalDialog("Import History","lg","430px",!0,"iview.aspx?ivname=axpfinhs&importhistory=t",!1);break;case"InMemoryDB":displayBootstrapModalDialog("InMemory DB","xxl","calc(100vh - 50px)",!0,"iview.aspx?ivname=inmemdb",!1,removePageHeaders);break;case"WidgetBuilder":splitfull();break;case"ConfigApp":displayBootstrapModalDialog("Global Settings","lg","430px",!0,"../aspx/Configuration.aspx",!0,!1,function(){UnlockConfigApp({forceUnlock:!1})});break;case"Download":LoadIframe("AppDownload.aspx");break;case"AxpertLogs":displayBootstrapModalDialog("Axpert Logs","lg","430px",!0,"../aspx/AxpertLogs.aspx",!0);break;case"Complaint":displayBootstrapModalDialog("Complaint","lg","430px",!0,"../aspx/Complaint.aspx",!0)}}function showCustomImportDlg(e){var t=new BSModal("ImportData","Import Data","<iframe src='../aspx/ImportNew.aspx?transid="+e+"' class='vw-100 vh-100'></iframe>",function(){$(".btn-close").focus()},function(){});t.changeSize("fullscreen"),t.hideFooter(),t.modalBody.classList.add("p-0"),t.close()}function splithorizantal(){if($(".split-btn-vertical i").hasClass("fa-times"))return $(".split-btn-vertical i").removeClass("fa-times").addClass("fa-sort"),void splitfull();resetSplitter("horizantal"),$(".panel-fisrt-part").removeClass("panel-left").addClass("panel-top"),$(".panel-splitter").removeClass("splitter").addClass("splitter-horizontal"),$(".panel-second-part").removeClass("panel-right").addClass("panel-bottom"),$(".split-btn-vertical i").removeClass("fa-sort").addClass("fa-times"),$(".main-panel-container").removeClass("panel-container").addClass("panel-container-vertical"),$("#axpiframe").addClass("frameSplited"),initializeSplitter("horizantal")}function getSplitWidth(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"1:1:auto",t=[],a="auto";try{if("auto"==(a=(t=e.split(":"))[2]||a)&&$("#middle1").data("splitRatio"))return $("#middle1").data("splitRatioType",a),$("#middle1").data("splitRatio");$("#middle1").data("splitRatioType",a)}catch(i){t=["1","1","auo"],$("#middle1").data("splitRatioType",a)}return{split1:Math.floor(parseInt(t[0])/(parseInt(t[0])+parseInt(t[1]||100-t[0]))*100),get split2(){return 100-this.split1},splitRatioType:a}}function resetSplitter(e){if($(".panel-fisrt-part, .panel-splitter, .panel-second-part").show(),$(".split-btn i").removeClass("fa-times").addClass("fa-sort"),$(".split-btn-vertical i").removeClass("fa-times").addClass("fa-sort"),"horizantal"==e)$(".panel-fisrt-part,.panel-second-part").css({height:"50%",width:"100%"});else{var t=getSplitWidth(appGlobalVarsObject.splitRatio);"string"==typeof t?$(".panel-fisrt-part").css({width:t,height:"100%"}):($(".panel-fisrt-part").css({width:t.split1+"%",height:"100%"}),$(".panel-second-part").css({width:100-t.split2+"%",height:"100%"}))}}function splitvertical(){if($(".split-btn i").hasClass("fa-times"))return $(".split-btn i").removeClass("fa-times").addClass("fa-sort"),void splitfull();resetSplitter("vertical"),$(".panel-fisrt-part").removeClass("panel-top").addClass("panel-left"),$(".panel-splitter").removeClass("splitter-horizontal").addClass("splitter"),$(".panel-second-part").removeClass("panel-bottom").addClass("panel-right"),$(".main-panel-container").removeClass("panel-container-vertical").addClass("panel-container"),$(".split-btn i").removeClass("fa-sort").addClass("fa-times"),$("#axpiframe").addClass("frameSplited"),initializeSplitter("vertical")}function splitfull(){$(".split-btn i").hasClass("fa-times")&&$(".split-btn i").removeClass("fa-times").addClass("fa-sort"),$(".split-btn-vertical i").hasClass("fa-times")&&$(".split-btn-vertical i").removeClass("fa-times").addClass("fa-sort"),$(".panel-fisrt-part").css({width:"100%",height:"100%"}),$(".panel-second-part, .panel-splitter").hide(),$("#axpiframe").hasClass("frameSplited")&&-1!=$("#middle1").attr("src").indexOf("iview.aspx")&&null!=findGetParameter("tstcaption",$("#middle1").attr("src"))&&(isTstructSplited=!0,$("#middle1").attr("src",$("#axpiframe").attr("src"))),$("#axpiframe").attr("src",""),$("#axpiframe").removeClass("frameSplited")}function refreshMenu(){try{$.ajax({type:"POST",url:"../WebService.asmx/RefreshMenu",cache:!1,async:!1,contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){}})}catch(ex){}}function OpenOnPropertyBase(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"#axpiframe";!1===$(t).hasClass("frameSplited")&&splitvertical(),$("#divaxpiframe").css("display","block"),$(t).css("display","block"),-1==e.indexOf("&AxSplit")&&(e+="&AxSplit=true"),GetProcessTime();try{$(t)[0].contentWindow.location.href=e+"&hdnbElapsTime="+callParentNew("browserElapsTime")}catch(ex){}}function assocateIframe(e){var t=!1;if(!($("#middle1").contents().find("#Panel1").length<=0)){var a=frames.middle1.window.location.href;if(-1==window.navigator.userAgent.indexOf("MSIE ")&&-1==window.navigator.userAgent.indexOf("Trident/")||(a=middle1URL||$("#middle1").attr("src").toLowerCase()),!1===$("#axpiframe").hasClass("frameSplited")){if(a==undefined||""==a)return void splitfull();var i="";if(-1!=a.indexOf("tstruct.aspx")){i=(i=a.replace("tstruct","iview")).replace("transid","ivname");try{i+="&tstcaption="+$($("#middle1")[0].contentWindow.document).find("#breadcrumb-panel div.bcrumb span").text()}catch(ex){}}else if(-1!=a.indexOf("listiview.aspx"))i=(i=a.replace("listiview","tstruct")).replace("tid","transid");else if(-1!=a.indexOf("iview.aspx")||-1!=a.indexOf("ivtoivload.aspx")){var n=$("#middle1").contents().find("#hdnKey").val();try{$.ajax({type:"POST",url:"../WebService.asmx/GetAssociatedTstruct",data:JSON.stringify({key:n}),cache:!1,async:!1,contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){if(e.d)i="tstruct.aspx?transid="+e.d+"&openerIV=".concat(e.d,"&isIV=false");else if(-1!=a.indexOf("ivtoivload.aspx")||-1!=a.indexOf("iview.aspx")){var n;try{n=$("<div>".concat($("#middle1",parent.document)[0].contentWindow.clickOnDemand($("#middle1",parent.document).contents().find("#GridView1 a:first"),!1),"</div>")).find("a[data-url]:first")}catch(ex){n=$("#middle1",parent.document).contents().find("#GridView1 a:first")}if(n!=undefined&&n.length>0)if(n.data("url")!=undefined)i=n.data("url");else if(0==n.attr("onclick").indexOf("clickOnDemand("))try{var o=$("<div>".concat($("#middle1",parent.document)[0].contentWindow.clickOnDemand(n,!1),"</div>")).find("a[data-url]:first").data("url");o&&(i=o)}catch(ex){}else{var s=!1;n.attr("onclick")!=undefined?ivlink=n.attr("onclick"):n.attr("href")!=undefined&&(ivlink=n.attr("href"),s=!0);var l=ivlink.replace("javascript:","").replace(new RegExp("'","g"),"").split(",");if(l!=undefined&&""!=l&&-1!=l[0].indexOf("OpenIviewFromIv"))frames[0].window.OpenIviewFromIv(l[0].replace("OpenIviewFromIv(",""),l[1],l[2],"split"),t=!0;else if(-1==l[0].indexOf("OpenIviewFromIv")&&1==s){try{var r=l[0].substr(0,l[0].indexOf("?")),d=l[0].substr(l[0].indexOf("&")),c=l[0].substr(l[0].indexOf("=")+1,5);frames[0].window.LoadTstFrmIview(r,d,c,"split")}catch(ex){}t=!0}}}}})}catch(ex){}}else-1!=a.indexOf("ivtstload.aspx")&&(i=(i=a.replace("ivtstload","listiview")).replace("tstname","tid"));if(i!=undefined&&""!=i){if(-1!=i.indexOf("listiview.aspx")){i=(i=i.replace("listiview.aspx","iview.aspx")).replace("?tid","?ivname");try{i+="&tstcaption="+$($("#middle1")[0].contentWindow.document).find("#breadcrumb-panel div.bcrumb span").text()}catch(ex){}}$("#divaxpiframe").css("display","block"),$("#axpiframe").css("display","block"),$("#axpiframe").addClass("frameSplited"),-1!=a.indexOf("tstruct.aspx")?($("#axpiframe")[0].contentWindow.location.href=a+"&AxSplit=true",$("#middle1")[0].contentWindow.location.href=i+"&AxSplit=true"):$("#axpiframe")[0].contentWindow.location.href=i+"&AxSplit=true",e&&splitvertical()}else{if(t)return $("#divaxpiframe").css("display","block"),$("#axpiframe").css("display","block"),void splitvertical();$("#axpiframe")[0].contentWindow.location.href="about:blank"}}}}function hideSplitButtons(){$(".split-btn").addClass("hide"),$(".split-btn-vertical").addClass("hide")}function unhideSplitButtons(){$(".split-btn").removeClass("hide"),$(".split-btn-vertical").removeClass("hide")}function updateAppLinkObj(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,a=arguments.length>2&&arguments[2]!==undefined&&arguments[2],i=-1;try{i=AxCustomLinks(e)}catch(ex){}var n=window.location.pathname.toLowerCase().split("/"),o=n.slice(0,n.indexOf("aspx")>-1?n.indexOf("aspx"):n.length).reduce(function(e,t){return t&&""==e?e+t:e},"")||"";i>-1?e="../"+mainProject+e.substr(e.indexOf("/aspx/")):e.toLowerCase().indexOf(tempCustomProjPath=window.location.origin.toLowerCase()+"/"+o+(o&&"/")+thmProj.toLowerCase()+"/aspx/")>-1?e="../"+e.substr(e.toLowerCase().indexOf("/"+thmProj.toLowerCase()+"/aspx/")+1):e.indexOf("/aspx/")>-1&&(e=e.substr(e.indexOf("/aspx/")+6));if(!t&&["axmain.aspx","ivtstload.aspx","ivtoivload.aspx","err.aspx"].filter(function(t){return e.indexOf("/aspx/")>-1?e.substr(e.indexOf("/aspx/")+6)==t:e.indexOf(t)>-1}).length>0)return appLinkHistory.length>1&&("undefined"==typeof navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),histListFlag=!1,!1;if(appLinkHistory[appLinkHistory.length-1]==e)return appLinkHistory.length>1&&("undefined"==typeof navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),appLinkHistory.length-1>curPageIndex&&curPageIndex++,histListFlag=!1,!1;if(findGetParameter("ivname",appLinkHistory[curPageIndex])===(thisIvName=findGetParameter("ivname",e))&&thisIvName)return appLinkHistory.length>1&&("undefined"==typeof navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),(thisAxIvNav=findGetParameter("AxIvNav",e))&&"true"==thisAxIvNav&&(appLinkHistory[curPageIndex]=e),prevClickFlag=nextClickFlag=histListFlag=!1,!1;if(histListFlag)return prevClickFlag=nextClickFlag=histListFlag=!1,!1;if(prevClickFlag)return prevClickFlag=nextClickFlag=histListFlag=!1,!1;if(nextClickFlag)return nextClickFlag=prevClickFlag=histListFlag=!1,!1;if(a&&$("#axpiframe").hasClass("frameSplited"))return!1;if(e){if(0==appLinkHistory.length)return appLinkHistory.push(e),appLinkHistory.length>1&&("undefined"==typeof navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),menuLabel?appLinkHistoryLabel.push(menuLabel):1===i?appLinkHistoryLabel.push(updateHisLabel(e.substr(e.indexOf("/aspx/")+6))):appLinkHistoryLabel.push(updateHisLabel(e)),!1;if(appLinkHistory.length-1==curPageIndex)appLinkHistory.push(e),appLinkHistory.length>1&&("undefined"==typeof navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),curPageIndex=appLinkHistory.length-1,$(".linkNext").addClass("linkGray"),menuLabel?(appLinkHistoryLabel.push(menuLabel),menuLabel=""):1===i?appLinkHistoryLabel.push(updateHisLabel(e.substr(e.indexOf("/aspx/")+6))):appLinkHistoryLabel.push(updateHisLabel(e));else{if(appLinkHistory[curPageIndex]===e)return!1;curPageIndex+=1,findGetParameter("ivname",appLinkHistory[curPageIndex])===(thisIvName=findGetParameter("ivname",e))&&null!=thisIvName||appLinkHistory.splice(curPageIndex,0,e),appLinkHistory.length>1&&("undefined"==typeof navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),menuLabel?appLinkHistoryLabel.splice(curPageIndex,0,menuLabel):appLinkHistory.length==curPageIndex?1===i?appLinkHistoryLabel.push(updateHisLabel(e.substr(e.indexOf("/aspx/")+6))):appLinkHistoryLabel.push(updateHisLabel(e)):1===i?appLinkHistoryLabel.splice(curPageIndex,0,updateHisLabel(e.substr(e.indexOf("/aspx/")+6))):appLinkHistoryLabel.splice(curPageIndex,0,updateHisLabel(e))}}return curPageIndex<=0?($(".linkPrev").addClass("linkGray"),$(".linkNext").addClass("linkGray")):($(".linkPrev").removeClass("linkGray"),$(".linkPrev").data("index",curPageIndex-1).data("url",appLinkHistory[curPageIndex-1])),updateHistList(),menuLabel="",!1}function updateHisLabel(e){var t="iview.aspx";if(-1!=e.indexOf(t)||-1!=e.toLowerCase().indexOf("ivtoivload.aspx")){var a=$("#middle1").contents().find("div#breadcrumb-panel").find(".bcrumb").find(".tstivCaption").text();return null!=findGetParameter("tstcaption",e)&&(a+=" - Listview"),(a=e.indexOf(t)>0?a+" - "+e.slice(0,e.indexOf(t)):a)||"Title Not Found"}if(-1!=e.indexOf("tstruct.aspx")){var i,n=(i=$("#middle1").contents()).find("input[type=text],textarea,select").filter(":visible:first");if(n&&""!=$.trim(n.val()))a=" - "+n.val();else{var o=getChildLabel(e);a=""!=o?o:" - New"}return i.find("div#breadcrumb-panel").find(".bcrumb").find(".tstivCaption").text()+a}return-1!=e.indexOf("listIview.aspx")?(i=$("#middle1").contents()).find("div#breadcrumb-panel").find(".bcrumb").find(".tstivCaption").text()+" - listview":e.slice(0,e.indexOf(".aspx"))}function getChildLabel(e){for(var t,a=e.split("?")[1].split("&"),i="",n=0;n<a.length;n++)a[n]&&("recordid"==(t=a[n].split("="))[0]&&(i=t[1]),"theMode"==t[0]&&(i=i+" - "+t[1]));return i}function updateHistList(){for(var e="",t=[],a=appLinkHistoryLabel.length-1;a>=0;--a)-1===$.inArray(appLinkHistory[a],t)&&(t.push(appLinkHistory[a]),e+='<li class="histLi histLi'+a+'" title="'+appLinkHistoryLabel[a]+'" onclick="histListFlag = true; LoadIframe(\''+appLinkHistory[a]+'\')"> <a href="javascript:void(0);" style="text-decoration: none;">'+appLinkHistoryLabel[a]+"</a></li>");appLinkHistoryLabel.length>=10&&(e+='<li class="clearHisItem">Clear List</li>'),$(appGlobalVarsObject._CONSTANTS.history.staging.div).html(e)}function updateLinks(e,t){prevClickFlag=nextClickFlag=!1;var a,i=e.data("index");e.data("url");console.log("Next Link"),0==i&&$(".linkPrev").addClass("linkGray"),appLinkHistory.length-1==i&&$(".linkNext").addClass("linkGray"),"next"==t?(curPageIndex++,a=i+1,nextClickFlag=!0):(curPageIndex--,a=i-1,prevClickFlag=!0),e.data("index",a).data("url",appLinkHistory[a]),"next"==t?($(".linkPrev").data("index",curPageIndex-1).data("url",appLinkHistory[curPageIndex-1]),$(".linkPrev").removeClass("linkGray")):($(".linkNext").data("index",curPageIndex+1).data("url",appLinkHistory[curPageIndex+1]),$(".linkNext").removeClass("linkGray")),menuLabel="",LoadIframe(appLinkHistory[curPageIndex]),0==curPageIndex&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).hide()}function autoSplitWindow(){var e=frames.middle1.window.location.href;if(e!=undefined&&""!=e){-1!=e.indexOf("tstruct.aspx")&&e.replace("tstruct","listiview").replace("transid","tid")}}function initializeSplitter(e){function t(e,t,a){!$("#axpiframe").is(":visible")||$("#middle1").data("splitRatioType")&&"auto"!=$("#middle1").data("splitRatioType")||$("#middle1").data("splitRatio",$("#middle1").css("width"))}$(".panel-fisrt-part").customResizable("destroy"),"horizantal"==e?$(".panel-fisrt-part").customResizable({handleSelector:".splitter-horizontal",resizeWidth:!1,onDragEnd:t}):$(".panel-fisrt-part").customResizable({handleSelector:".splitter",resizeHeight:!1,onDragEnd:t})}function cloudSetupInit(){var e={};"ar"==gllangType?(!0,e={color:"#fff",opacity:"1",position:"absolute",top:"10px",left:"20px"}):(!1,e={color:"#fff",opacity:"1",position:"absolute",top:"10px",right:"20px"}),$("#divModalCompanySetUp .modal-content .modal-body").css({padding:"0px"}),$("#divModalCompanySetUp .modal-content .modal-header").hide(),$("#divModalCompanySetUp .modal-content .modal-body").prepend($("#divModalCompanySetUp .modal-content #btnModalClose").detach()),$("#divModalCompanySetUp .modal-content #btnModalClose").css(e),$("#divModalCompanySetUp .modal-dialog").removeClass("modal-lg").css("width","80%"),$(callParentNew("iFrameCompanySetUp")).contents().find("#heightframe").css("cssText","height:calc(100vh - 100px)!important"),$(callParentNew("iFrameCompanySetUp")).on("load",function(){$(callParentNew("iFrameCompanySetUp")).contents().find("#heightframe").css("cssText","height:calc(100vh - 100px)!important")}),$("#divModalCompanySetUp .close").css("display","none")}function AdminConsoleOpenMenu(){var e=new BSModal("AdminConsole","Admin Console","<iframe src='../aspx/adminconsole.aspx' class='vw-100 vh-100' ></iframe>",function(){},function(){});e.changeSize("fullscreen"),e.hideFooter(),e.hideHeader(),e.modalBody.classList.add("p-0","overflow-hidden"),e.showFloatingClose()}function OpenConfigurationStudio(){var e=new BSModal("configStudio","Axpert Configuration Studio","<iframe src='../aspx/configurationStudio.aspx' class='vw-100 vh-100' ></iframe>",function(){},function(){});e.changeSize("fullscreen"),e.hideFooter(),e.hideHeader(),e.modalBody.classList.add("p-0","overflow-hidden"),e.showFloatingClose()}function AdminConsoleHidemenu(){$(callParentNew("mainNewPageBody")).removeClass("overlay-open"),$(callParentNew("appBackBtn","class")).hide()}function ExitAdminconsole(){var e,t,a;$(callParentNew("mainNewPageBody")).addClass("overlay-open"),void 0!==loadFrame&&loadFrame(),null!==(e=$.axpertUI)&&void 0!==e&&null!==(t=e.cardsPage)&&void 0!==t&&null!==(a=t.options)&&void 0!==a&&a.setCards?($.axpertUI.cardsPage.activate("loadhomepage"),resetMainPageUI()):$("#middle1").attr("src",$("#hdHomeUrl").val())}function updateCompressedmode(e){var t=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));("undefined"==typeof storage?"undefined":_typeof(storage))!=undefined&&window.localStorage.setItem("compressedMode-"+t,e),appGlobalVarsObject._CONSTANTS.compressedMode=e,appGlobalVarsObject.methods.toggleCompressModeUI($("body"))}function fixUnloadOnWindowSelfDownloads(e){e.onbeforeunload=function(){e.onbeforeunload=BeforeWindowClose}}function Notificationhyperlink1(e){try{var t=JSON.parse(notifyJsonOldobj).filter(function(t){return t.keyId==e})[0].data;if(-1!=t.indexOf("*$*"))t.split("*$*").forEach(function(e){(e=JSON.parse(e)).command&&AssignLoadValues(JSON.stringify(e),"Action","")});else{var a=JSON.parse(t).msg.filter(function(e){return e.loaddata})[0].loaddata;LoadIframe("ivtoivload.aspx?ivname=".concat(a,"&redisLoadKey=").concat(e))}}catch(error){}}function showNotificationMessage(e){var t=[],a=""!=notifyJsonOldobj?JSON.parse(notifyJsonOldobj):[],i=JSON.parse(e),n=a.map(function(e){return e.keyId}),o=i.map(function(e){return e.keyId});if(n.length!=o.length||!n.every(function(e,t){return e===o[t]})){Object.keys(i).forEach(function(e){-1==n.indexOf(i[e].keyId)&&t.push(i[e])});for(var s=function(){var a=(r=t[l]).keyId;if(-1!=r.data.indexOf("*$*"))r.data.split("*$*").forEach(function(e){var t=JSON.parse(e);t.command&&(commandVal=t.command[0].cmdval.toString(),fullcommandmsg=e),t.message&&(msgToshow=t.message[0].msg,genericNotiicationcreation(msgToshow,fullcommandmsg,a))});else try{var i=JSON.parse(r.data),n=i.msg.filter(function(e){return e.message})[0].message,o=r.keyId;genericNotiicationcreation(n,JSON.stringify(i),o)}catch(ex){}notifyJsonOldobj=e},l=0;l<t.length;l++){var r;s()}}}function genericNotiicationcreation(e,t,a){var i,n,o=$("#notificationPanel"),s="";(t?(s=(s=e.split("`")).length>1?s[1]:s[0],t.replace(/"/g,'\\"'),notifymessage="<a href='javascript:void(0);'  onclick='Notificationhyperlink1("+a+");'>"+s+"</a>"):notifymessage=s,setTimeout(function(){showAlertDialog("info",notifymessage)},0),$("#notificationbar").find(".demo-settings").prepend('\n        <div class="d-flex align-items-center bg-hover-lighten py-3 px-9">\n            <div class="symbol symbol-40px symbol-circle me-5">\n                <span class="symbol-label">\n                    <span class="material-icons material-icons-style material-icons-primary material-icons-1">\n                        notifications\n                    </span>\n                </span>\n            </div>\n            <div class="mb-1 pe-3 flex-grow-1">\n                <a id="settingsGeneral" '.concat(t?'href="javascript:void(0);" onclick="Notificationhyperlink1('.concat(a,');"'):"",' class="settingsGeneral fs-6 text-dark text-hover-primary fw-bold d-flex flex-row-fluid">').concat(s,"</a>\n            </div>\n            <div id='").concat(a,'\' class="btn btn-icon text-hover-primary w-10px h-10px" onclick="DeletenotifyDiv(').concat(t?"this":"",')">\n                <div class="material-icons material-icons-style material-icons-4">\n                    close\n                </div>\n            </div>\n        </div>\n        ')),$("#notifycount .settingsGeneral").length>0)?null==o||null===(i=o.find(".blinker"))||void 0===i||i.removeClass("d-none"):null==o||null===(n=o.find(".blinker"))||void 0===n||n.addClass("d-none")}function DeletenotifyDiv(e){e.parentElement.style.display="none",e.parentElement.remove(),notifydividentifier=e.getAttribute("id");try{$.ajax({url:"axmain.aspx/delNotificiationKeyfromRedis",type:"POST",cache:!1,async:!0,data:JSON.stringify({key:notifydividentifier}),dataType:"json",contentType:"application/json",success:function(e){e.d},error:function(e){}})}catch(t){}}function CheckNotificiationStringinRedis(){try{$.ajax({url:"axmain.aspx/CheckNotificiationStringinRedis",type:"POST",cache:!1,async:!0,data:JSON.stringify({key:"true"}),dataType:"json",contentType:"application/json",success:function(e){var t=e.d;""!=t&&showNotificationMessage(t)},error:function(e){}})}catch(e){}}function ExecutionTraceInterval(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0],t="",a=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));if("undefined"!=typeof localStorage["ExecutionFullLog-"+a]&&(t=localStorage["ExecutionFullLog-"+a],localStorage.setItem("ExecutionFullLog-"+a,""),t=t.replace(/♦/g,"\r\n")),""!=t){try{$.ajax({url:"axmain.aspx/ExecutionTraceInterval",type:"POST",cache:!1,async:!0,data:JSON.stringify({ExecutionLongText:t,isSingout:e}),dataType:"json",contentType:"application/json",success:function(t){e&&ASB.WebService.SignOut()},error:function(t){e&&ASB.WebService.SignOut()}})}catch(i){e&&ASB.WebService.SignOut()}return!1}return!0}function ExecutionTraceExceededQuota(e){try{var t="",a=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));"undefined"!=typeof localStorage["ExecutionFullLog-"+a]&&(t=localStorage["ExecutionFullLog-"+a],localStorage.setItem("ExecutionFullLog-"+a,""),t=(t+=e).replace(/♦/g,"\r\n")),""!=t&&$.ajax({url:"axmain.aspx/ExecutionTraceInterval",type:"POST",cache:!1,async:!0,data:JSON.stringify({ExecutionLongText:t,isSingout:!1}),dataType:"json",contentType:"application/json",success:function(e){},error:function(e){}})}catch(i){}}function ToggleMobileNotification(e){var t=$("#spanMobileNotifi");t.parent().find("input").is(":checked")?(e="true",t.attr("title",lcm[506])):(t.attr("title",lcm[505]),e="false");try{ASB.WebService.GetHybridNotifiInfo(callParentNew("hybridGUID"),e,SuccessToggleMobileNotification)}catch(a){}}function SuccessToggleMobileNotification(e,t){"done"!=e&&showAlertDialog("error",e)}function LocationInfoAPI(){""!=callParentNew("hybridGUID")&&ASB.WebService.SendNotificationFromFirebase(callParentNew("hybridGUID"),SuccessFcmNotification,OnNotifyException)}function SuccessFcmNotification(e,t){AxWaitCursor(!1),ShowDimmer(!1)}function OnNotifyException(e){AxWaitCursor(!1),ShowDimmer(!1)}function refreshVarParams(){try{$.ajax({type:"POST",url:"../WebService.asmx/GetNewGlobalVars",data:JSON.stringify({lang:""}),cache:!1,async:!1,contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){"done"!=e.d&&showAlertDialog("error",e.d)}})}catch(ex){}}function authError(e){$("#desc").text(e),$("#divAuthError").removeClass("d-none"),$(".content").addClass("d-none")}clearLocalStorage=function(e,t){t=t||!1;localStorage;var a=[];e=[].concat(e);for($.each(localStorage,function(e,t){a.push(e)}),i=0;i<a.length;i++){var n=a[i],o=!0;for(j=0;j<e.length;j++){var s=e[j];n.indexOf(s)>-1&&t?o=!1:n==s&&(o=!1)}o&&localStorage.removeItem(n)}},$(document).on("click","li.clearHisItem",function(){appLinkHistoryLabel=[],appLinkHistory=[],$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).hide(),updateHistList(),curPageIndex=0,prevClickFlag=nextClickFlag=!1,$(".linkPrev").addClass("linkGray"),$(".linkNext").addClass("linkGray")});