/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var dwbiName="",tableColumnWidth=0,visibleTableColumnWidth=0,minCellWidth=15,listViewCheckBoxSize=40;function axDevIvDrawTable(e,t){headerText=[""].concat(_toConsumableArray(e.map(function(e){return e.f_caption}))),fieldName=["rowno"].concat(_toConsumableArray(e.map(function(e){return e.f_name}))),colWidth=["10"].concat(_toConsumableArray(e.map(function(e){return e.column_width}))),hideColumn=["true"].concat(_toConsumableArray(e.map(function(e){return"T"==e.hidden||"F"!=e.hidden&&e.hidden}))),recordIds=["0"].concat(_toConsumableArray(e.map(function(e){return e.recordid}))),queryCol=[!0].concat(_toConsumableArray(e.map(function(e){return"*"==e.isquerycol||"f"!=e.isquerycol.toString().toLowerCase()&&e.isquerycol}))),hyperlinkid=["0"].concat(_toConsumableArray(e.map(function(e){return e.hyperrecid}))),dwbiName=t;tableColumnWidth=0,visibleTableColumnWidth=0,tableColumnWidth+=null==findGetParameter("tstcaption")?minCellWidth:listViewCheckBoxSize,$("#GridView1Wrapper").hide(),$("#GridView2Wrapper").empty(),$("#GridView2Wrapper").show(),$("#GridView2Wrapper").append($('\n    <table class="gridData ivirMainGrid iviewBuilder stripe row-border hover order-column table dataTable" rules="all" border="1" id="GridView1Dnd" data-row>\n        <thead>\n            <tr>\n                <th id="GridView1Dnd_ctl01_rowno" data-column-name="rowno" style="width:'.concat(null==findGetParameter("tstcaption")?minCellWidth:listViewCheckBoxSize,'px;" scope="col"><input name="chkall" id="chkall" onclick="javascript:CheckAll();" style="height:12px;" type="checkbox"></th>\n                ').concat(headerText.map(function(e,t,a){if("rowno"!=fieldName[t]){var r=colWidth[t]||minCellWidth;"false"==("undefined"!=typeof hideColumn[t]?hideColumn[t].toString():"true")&&(tableColumnWidth+=parseInt(r,10));var n=queryCol[t]?"":'<a class="dropdown-item" href="javascript:void(0);" onclick="delNonQueryElem('.concat(recordIds[t],",'ad_ic','").concat(dwbiName,'\');"><i class="fa fa-trash"></i>Delete Column</a>');return'<th id="GridView1Dnd_ctl01_'.concat(fieldName[t],'" scope="col" data-column-name="').concat(fieldName[t],'"  style="width:').concat(r,'px;">\n            <a href="javascript:void(0);" onclick="').concat(generateHyperlink(recordIds[t]),'">').concat(e.replace(/~/g,"<br />"),'</a>\n            <div class="three-dot">\n                <div class="btn-group dropdown">\n                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                        <i class="fa fa-ellipsis-v"></i>\n                    </button>\n                    <div class="dropdown-menu">\n                        <a class="dropdown-item" href="javascript:void(0);" onclick="').concat(openHyperlinkPopUp(fieldName[t],hyperlinkid[t]),'"><i class="fa fa-link"></i>HyperLink</a>\n                        <a class="dropdown-item" href="javascript:void(0);" onclick="LoadIframeDwb(\'tstruct.aspx?act=open&transid=ad_ic&iName=').concat(dwbiName,'\');return false;"><i class="fa fa-plus"></i>Add Column</a>\n                        ').concat(n,"          \n                    </div>\n                </div>\n            </div>\n            </th>")}}).join(""),"\n            </tr>\n        </thead>\n    </table>\n    ")).css({width:"".concat(tableColumnWidth,"px")}).removeAttr("cellspacing rules border style").addClass("ivirMainGrid stripe row-border hover order-column table")),axDevIvInitDatatable(headerText,fieldName,colWidth,hideColumn,recordIds,queryCol,hyperlinkid)}function axDevIvInitDatatable(e,t,a,r,n,i,o){$.fn.dataTableExt.ofnSearch["alt-status"]=function(e){},$.fn.dataTable.moment("DD/MM/YYYY"),$.fn.dataTable.ext.errMode="none",$.fn.dataTable.Api.register("order.neutral()",function(){return this.iterator("table",function(e){e.aaSorting.length=0,e.aiDisplay.sort(function(e,t){return e-t}),e.aiDisplayMaster.sort(function(e,t){return e-t})})});var l=new DataTableObj(e,t,a,r,n,i,o);ivirDataTableApi2=$(".ivirMainGrid.iviewBuilder").DataTable(l),$(".ivirMainGrid.iviewBuilder").on("column-resize.dt.mouseup",function(e,t){saveIvColDesign()}).on("column-reorder.dt.mouseup",function(e,t){saveIvColDesign()})}var DataTableObj=_createClass(function e(t,a,r,n,i,o,l){var d=this;_classCallCheck(this,e);var c,s="false";(c=a.indexOf("rowno"))>=0&&(s=("false"==n[c].toString()).toString());var u=a.map(function(e,t,a){return"true"==n[t]?t:""}).filter(function(e){return""!==e});tableColumnWidth=0,visibleTableColumnWidth=0;var p=0;try{p=$("#GridView1Dnd thead tr th:eq(0)").outerWidth()-$("#GridView1Dnd thead tr th:eq(0)").width()||0}catch(v){p=0}tableColumnWidth+=null==findGetParameter("tstcaption")?minCellWidth:listViewCheckBoxSize;var h=callParentNew("ivirMainObj");if(this.columns=a.map(function(e,t){var a,i=r[t]||minCellWidth;"false"==("undefined"!=typeof n[t]?n[t].toString():"true")&&(visibleTableColumnWidth+=parseInt(i,10)+p),tableColumnWidth+=parseInt(i,10)+p,$("#GridView1Dnd").css({width:"".concat(visibleTableColumnWidth||tableColumnWidth,"px")}).parent().css({width:"".concat(visibleTableColumnWidth||tableColumnWidth,"px")});var o={data:e,name:e,width:"".concat(r[t],"px")},l=-1;return!callParentNew("pivotCreated")&&(l=null==h?void 0:null===(a=h.design)||void 0===a?void 0:a.findIndex(function(t){return t.name==e}))>=0&&(o.order=l+1,l=-1),o}),!callParentNew("pivotCreated")&&null!=h&&h.design){var m,f;null==h||h.design.forEach(function(e,t){var a,r;return null===(a=$("table#GridView1Dnd thead th[data-column-name=".concat(e.name,"]")))||void 0===a?void 0:null===(r=a.attr("data-order",t+1))||void 0===r?void 0:r.data("order",t+1)}),null===(m=$("table#GridView1Dnd thead th[data-column-name=rowno]"))||void 0===m||null===(f=m.attr("data-order",0))||void 0===f||f.data("order",0);var b=$("table#GridView1Dnd thead th").detach();b=_toConsumableArray(b).sort(function(e,t){var a,r,n=isNaN(a=parseInt($(e).data("order")))?+"1".repeat(7):a,i=isNaN(r=parseInt($(t).data("order")))?+"1".repeat(7):r;return n<i?-1:n>i?1:0}),$("table#GridView1Dnd thead tr").append(b);try{this.columns.filter(function(e){return"rowno"==e.name})[0].order=0}catch(v){}this.columns=_.sortBy(this.columns,["order"]),u&&(u=u.map(function(e){return d.columns.findIndex(function(t){return t.name==a[e]})}))}this.data=[[a.reduce(function(e,t){return e[t]="",e},{})],[a.reduce(function(e,t){return e[t]="",e},{})],[a.reduce(function(e,t){return e[t]="",e},{})]],this.scrollX=!0,this.dom="t",this.colReorder={resizeCallback:function(){},allowReorder:!callParentNew("pivotCreated")},this.ordering=!1,this.lengthChange=!1,this.autoWidth=!1,this.fixedHeader=!1,this.initComplete=function(e,t){$(".gridData").css({width:"".concat(visibleTableColumnWidth,"px")}),$("#GridView1Dnd_wrapper").parent().css({width:""}),$(".dataTables_scrollBody table").on("scroll",function(){$(".dataTables_scrollHeadInner table").scrollLeft($(this).scrollLeft())}),$(".dataTables_scrollBody").closest(".dataTables_scroll").width($(".dataTables_scrollBody").closest(".dataTables_scroll").find(".dataTables_scrollHead table thead").width()),$(".dataTables_scrollBody").closest(".dataTables_scroll").find(".dataTables_scrollHead table thead th:eq(0)").css("cursor","col-resize")},this.columnDefs="true"==s?[{targets:0,orderable:!1}]:[],this.columnDefs.push({targets:u,visible:!1,searchable:!1}),this.columnDefs.push({targets:0,searchable:!1})});function generateHyperlink(e){return""!=e?"LoadIframeDwb('tstruct.aspx?transid=ad_ic&amp;recordid=".concat(e,"');"):""}function openHyperlinkPopUp(e,t){return 0==t?"createPopupdesign('tstruct.aspx?act=open&amp;transid=ad_ih&amp;hypsource=".concat(e,"&amp;iName=").concat(dwbiName,"&amp;AxPop=true');return false;"):"createPopupdesign('tstruct.aspx?act=load&amp;transid=ad_ih&amp;recordid=".concat(t,"&amp;AxPop=true');return false;")}function saveIvColDesign(){var e=[];$.each($(".dataTables_scrollHead .ivirMainGrid.iviewBuilder thead tr th"),function(t,a){var r={};r.name=$(this).data("column-name"),r.width=$(this).width(),e.push(r)}),callParentNew("ivColDesignJSON=",e)}