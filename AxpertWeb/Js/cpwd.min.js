/*http://demo.agile-labs.com/minZIP/*//*version=3.9.1*/function LoadParentHome(){url=window.parent.location,-1==url.toString().toLowerCase().indexOf("cpwd.aspx")&&window.parent.loadHome()}function closeDialog(e,o){parent.$("#divModalChangePassword, #divModalChangePassword+.modal-backdrop").hide(),parent.showAlertDialog("success",e),setTimeout(function(){parent.window.location.href=o},3e3)}var myVersionJSON;$j(document).ready(function(){checkSuccessAxpertMsg(),$("#btnModalClose").hide();var chpdRemark=new URL(location.href).searchParams.get("remark");"1"==chpdRemark?showAlertDialog("error","You are logging in for the first time. You need to change the password."):"2"==chpdRemark?showAlertDialog("error","Your password is expired. You need to change the password."):"3"==chpdRemark&&showAlertDialog("error","Your password has been reset. You need to change your password."),setTimeout(function(){"chpwd"==cpwdRemark?(modalHeader=eval(callParent("divModalHeader","id")+".getElementById('divModalHeader')"),modalHeader.innerText=eval(callParent("lcm[252]")),$("#btnClose").prop("title",eval(callParent("lcm[192]"))).text(eval(callParent("lcm[192]"))),$j("#main_body").css("background",""),$("#btnModalClose").addClass("d-none"),tabFocusEvent()):$("#spnCpwdHeading").text(eval(callParent("lcm[252]"))),$("#btnSumit").prop({title:eval(callParent("lcm[200]")),value:eval(callParent("lcm[200]"))})},100),$j("#breadcrumb-panel").css("display","none"),b(),$("#confirmPwd").keypress(function(e){13==e.which&&($("#npwdHidden").val(this.value),$("#swc000F0").val(md5authNew(this.value)))}),$j("#axpertVer").length>0&&AddVerion(),setTimeout(function(){$("#existingPwd").focus()},500),$(".field-wrapper .field-placeholder").on("click",function(){$(this).closest(".field-wrapper").find("input").focus()}),$(".field-wrapper input").on("click",function(){$(this).closest(".field-wrapper").addClass("hasValue")}),$("#confirmPwd, #newPwd, #existingPwd").on("keyup",function(){$.trim($(this).val())?$(this).closest(".field-wrapper").addClass("hasValue"):$(this).closest(".field-wrapper").removeClass("hasValue"),$j("#axSelectProj").is(":visible")&&""!=$j("#axSelectProj").val()&&$j("#axSelectProj").closest(".field-wrapper").addClass("hasValue"),$j("#language").is(":visible")&&""!=$j("#language").val()&&$j("#language").closest(".field-wrapper").addClass("hasValue")}),$(".field-wrapper input").each(function(){$.trim($(this).val())?$(this).closest(".field-wrapper").addClass("hasValue"):$(this).closest(".field-wrapper").removeClass("hasValue")}),setProjectImages(proj)});var versionInfoFile="../versionInfo.json";function AddVerion(){try{if("undefined"!=typeof Storage)if(localStorage["versionInfo-"+appUrl]){var e=JSON.parse(localStorage["versionInfo-"+appUrl]);Date.parse(e.expiry)>new Date?myVersionJSON=e.value:(getVersionDetails(),location.reload(!0))}else getVersionDetails();else getVersionDetails()}catch(o){getVersionDetails()}void 0!==myVersionJSON&&setVersionInfo()}function getVersionDetails(){$.ajax({url:versionInfoFile,type:"GET",statusCode:{404:function(){$.getJSON(versionInfoFile,function(e){})}},success:function(e){var o={value:e,expiry:addDays(new Date,.3)};try{"undefined"!=typeof Storage&&(localStorage["versionInfo-"+appUrl]=JSON.stringify(o))}catch(a){}myVersionJSON=o.value,setVersionInfo()}})}function addDays(e,o){return new Date(e.getTime()+24*o*60*60*1e3)}function setVersionInfo(){var e,o="";e=myVersionJSON.version,myVersionJSON.subVersion&&(o="_"+myVersionJSON.subVersion.toString());var a;a="Version "+e+o,$j("#axpertVer").text(a)}function tabFocusEvent(){modalButton=eval(callParent("btnModalClose","id")+".getElementById('btnModalClose')"),-1==modalButton.className.indexOf("firstFocusable")&&(modalButton.className+=" firstFocusable"),$("#btnClose").addClass("lastFocusable").focus(),$(".lastFocusable").on("keydown.tabRot",function(e){9!==e.which||e.shiftKey||(e.preventDefault(),modalButton.focus())}),modalButton.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),$(".lastFocusable").focus())})}function displayAlertMsgOnParent(){$(".shortMessageWrapper").appendTo(parent.$("#divModalChangePassword .modal-body")),setTimeout(function(){parent.hideAlertDialog("")},3e3)}function setProjectImages(e){var o="../images/loginlogo.png",a="../AxpImages/login-img.png",t="../AxpImages/login-img.png",n=$(".form-title img"),s=$("body"),r=$("body");e?getProjectAppLogo(e,async=!0,function(e){if(null!=e&&e.d){var i=JSON.parse(e.d),c=i.logo,l=i.webbg,d=i.mobbg;l&&!d&&(d=l),n.prop("src",c?"".concat(c,"?v=").concat((new Date).getTime()):o),isMobile?r.css("background","url(".concat(d?"".concat(d,"?v=").concat((new Date).getTime()):t,"?v=").concat((new Date).getTime(),") ").concat(d?"no-repeat center center fixed":"no-repeat fixed bottom")).css("background-size","cover"):s.css("background","url(".concat(l?"".concat(l,"?v=").concat((new Date).getTime()):a,") ").concat(l?"no-repeat center center fixed":"no-repeat fixed bottom")).css("background-size","cover")}else n.prop("src",o),isMobile?r.css("background","url(".concat(t,"?v=").concat((new Date).getTime(),") no-repeat fixed bottom ")).css("background-size","cover"):s.css("background","url(".concat(a,") no-repeat fixed bottom")).css("background-size","cover")},function(e){n.prop("src",o),isMobile?r.css("background","url(".concat(t,"?v=").concat((new Date).getTime(),") no-repeat fixed bottom")).css("background-size","cover"):s.css("background","url(".concat(a,") no-repeat fixed bottom")).css("background-size","cover")}):(n.prop("src",o),isMobile?r.css("background","url(".concat(t,"?v=").concat((new Date).getTime(),") no-repeat fixed bottom")).css("background-size","cover"):s.css("background","url(".concat(a,") no-repeat fixed bottom")).css("background-size","cover"))}