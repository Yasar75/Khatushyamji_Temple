/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/var _excluded=["rowno"];function _objectWithoutProperties(e,t){if(null==e)return{};var i,a,n=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var i,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var maxNoOfPills=5,ivirMainObj={},bkpIvirMainObj={},ivirMainViewObj={},ivirTable="#GridView1",initialChkup={},ivirVisibleColumns=[],tmpGroupObj={},fixedColumnsObj="",allGrandTotal=[],groupingCol="",pillDependentCols={},numericColumns=[],anchorRegexPatter=/<a [^>]/,custBtnIVIR="",oldLoadViewName="",svHtmlGeneratorRef,saveViewActionRef,cancelViewActionRef,onContentReadyRef,onCloseRef,isOpenSmartStepper=!1,dateOptions=["Custom","Today","Yesterday","Tomorrow","This week","Last week","Next week","This month","Last month","Next month","This quarter","Last quarter","Next quarter","This year","Last year","Next year"],dateOptionsId=["customOption","todayOption","yesterdayOption","tomorrowOption","this_weekOption","last_weekOption","next_weekOption","this_monthOption","last_monthOption","next_monthOption","this_quarterOption","last_quarterOption","next_quarterOption","this_yearOption","last_yearOption","next_yearOption"],dateOptionsCaption=callParentNew("lcm")[445],errorMessages={emptyField:eval(callParent("lcm[13]")),invalidName:eval(callParent("lcm[14]")),integerChk:eval(callParent("lcm[15]")),emptySelect:eval(callParent("lcm[16]")),chartSelection:eval(callParent("lcm[17]")),columnSelection:eval(callParent("lcm[18]")),downloadSelection:eval(callParent("lcm[19]")),maxPills:eval(callParent("lcm[20]")),duplicateFld:eval(callParent("lcm[21]")),dependentColumns:eval(callParent("lcm[22]")),noChartWhileGrpng:"When grouping is enabled chart cannot be viewed."},advFiltersObjectToApply={},regexes={validName:"^[a-zA-Z0-9][a-zA-Z0-9 ,.'_-]{0,}$"},isSpecialRow=!1,colTypes={c:"string",n:"num-fmt",d:"date"},colAlign={Left:"dt-left",Right:"dt-right",Center:"dt-center"};$("body").attr("dir")&&"rtl"==$("body").attr("dir")&&(colAlign={Right:"dt-left",Left:"dt-right",Center:"dt-center"});var btnFilterApplyVal=callParentNew("lcm")[399],btnFilterApplyEditVal=callParentNew("lcm")[442],widthIncrement=0,newBtnGroup={params:{name:"params",task:"",type:"paramFilter",stage:"[data-dropdown-value=paramFilter]:eq(0)",caption:callParentNew("lcm")[478],icon:"search",open:function(){$(this.stage).click()},clear:function(e){$("#button2").click(),setTimeout(function(){e.prev("input").val($j("#hdnparamValues").val())},0)},apply:function(){},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return!1},get value(){return $j("#hdnparamValues").val()}},charts:{name:"charts",task:"chart",type:"chart",stage:"#chartActionLi[data-dropdown-value=chart]:eq(0)",caption:callParentNew("lcm")[402],icon:"pie_chart",open:function(){$(this.stage).click()},clear:function(){},apply:function(e,t){ivirCreateChart(e,t)},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return!1},get value(){return ivirMainObj.chart&&ivirMainObj.chart[0]&&JSON.stringify(ivirMainObj.chart[0])||""}},filters:{name:"filters",task:"filter",type:"moreFilters",stage:"[data-dropdown-value=moreFilters]:eq(0)",caption:callParentNew("lcm")[409],icon:"filter_alt",open:function(){var e=$("[onclick=editThePill\\(\\'filter\\'\\,0\\)]");e.length?e.click():$(this.stage).click()},clear:function(e){resetMoreFilters(),delete ivirMainObj.filter;var t=$("#newViewTabId").find(".filter-body-cont");t.length>0&&t.data("pillindex",-1)},apply:function(){$("#btnFilterApply").click()},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return!0},get value(){return ivirMainObj.filter&&ivirMainObj.filter[0]&&JSON.stringify(ivirMainObj.filter[0])||""}},sort:{name:"sort",task:"sort",type:"sort",stage:"[data-dropdown-value=sort]:eq(0)",caption:callParentNew("lcm")[403],icon:"sort",open:function(){$(this.stage).click()},clear:function(e){$("#clearSorting").click(),delete ivirMainObj.sorting},apply:function(){ivirSortColumns()},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return"inmemdb"!=iName},get value(){return ivirMainObj.sorting&&ivirMainObj.sorting.length>0&&JSON.stringify(ivirMainObj.sorting)||""}},rowGrouping:{name:"rowGrouping",task:"group",type:"rowGrouping",stage:"[data-dropdown-value=rowGrouping]:eq(0)",caption:callParentNew("lcm")[404],icon:"table_rows",open:function(){var e=$("[onclick=editThePill\\(\\'group\\'\\,0\\)]");e.length?e.click():$(this.stage).click()},clear:function(e){delete ivirMainObj.group,$("#grpColName").val("").trigger("change")},apply:function(e,t){ivirRowGrouping(e,t)},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return"inmemdb"!=iName&&!isListView&&!enableCardsUi},get value(){return ivirMainObj.group&&ivirMainObj.group[0]&&JSON.stringify(ivirMainObj.group[0])||""}},columns:{name:"columns",task:"column",type:"SHcolumns",stage:"[data-dropdown-value=SHcolumns]:eq(0)",caption:callParentNew("lcm")[401],icon:"view_week",open:function(){$(this.stage).click()},clear:function(e){isListView?ivirMainObj.visibleColumns=[]:ivirMainObj.hiddenColumns=[]},apply:function(){ivirshowHideColumns()},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return"inmemdb"!=iName&&!enableCardsUi},get value(){return isListView?ivirMainObj.visibleColumns&&ivirMainObj.visibleColumns.length>0&&JSON.stringify({visible:ivirMainObj.visibleColumns})||"":ivirMainObj.hiddenColumns&&ivirMainObj.hiddenColumns.length>0&&JSON.stringify({hidden:ivirMainObj.hiddenColumns})||""}},design:{name:"design",task:"design",type:"design",stage:"[data-dropdown-value=design]:eq(0)",caption:"Design",icon:"design_services",open:function(){$(this.stage).click()},clear:function(e){delete ivirMainObj.design},apply:function(){ivirDesignColumn()},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return!("inmemdb"==iName||!isListView||enableCardsUi)},get value(){return ivirMainObj.design&&ivirMainObj.design.length>0&&JSON.stringify(ivirMainObj.design)||""}},highlight:{name:"highlight",task:"highlight",type:"highlighting",stage:"[data-dropdown-value=highlighting]:eq(0)",caption:callParentNew("lcm")[396],icon:"highlight",open:function(){var e=$("[onclick=editThePill\\(\\'highlight\\'\\,0\\)]");e.length?e.click():$(this.stage).click()},clear:function(e){clearIvirHighlight(0),delete ivirMainObj.highlight},apply:function(e,t){ivirHighlightRow(e,t)},html:function(e){return svHtmlGeneratorRef(this,$('<input value="'.concat(this.type,'">')),e)},get visible(){return"inmemdb"!=iName},get value(){return ivirMainObj.highlight&&ivirMainObj.highlight[0]&&JSON.stringify(ivirMainObj.highlight[0])||""}}};function generateAdvFilterDates(e){var t={from:"",to:""},i="en-us"==dtCulture?"MM/DD/YYYY":"DD/MM/YYYY";switch(e){case"customOption":break;case"todayOption":var a=new Date;t.from=t.to=moment(a).format(i);break;case"yesterdayOption":(a=new Date).setDate(a.getDate()-1),t.from=t.to=moment(a).format(i);break;case"tomorrowOption":(a=new Date).setDate(a.getDate()+1),t.from=t.to=moment(a).format(i);break;case"this_weekOption":a=getFirstDayOfWeek(new Date);t.from=moment(a).format(i),a.setDate(a.getDate()+6),t.to=moment(a).format(i);break;case"last_weekOption":(a=getFirstDayOfWeek(new Date)).setDate(a.getDate()-7),t.from=moment(a).format(i),a.setDate(a.getDate()+6),t.to=moment(a).format(i);break;case"next_weekOption":(a=getFirstDayOfWeek(new Date)).setDate(a.getDate()+7),t.from=moment(a).format(i),a.setDate(a.getDate()+6),t.to=moment(a).format(i);break;case"this_monthOption":(a=getFirstDayOfWeek(new Date)).setDate(1),t.from=moment(a).format(i),a.setMonth(a.getMonth()+1),a.setDate(0),t.to=moment(a).format(i);break;case"last_monthOption":(a=getFirstDayOfWeek(new Date)).setDate(1),a.setMonth(a.getMonth()-1),t.from=moment(a).format(i),a.setMonth(a.getMonth()+1),a.setDate(0),t.to=moment(a).format(i);break;case"next_monthOption":(a=getFirstDayOfWeek(new Date)).setDate(1),a.setMonth(a.getMonth()+1),t.from=moment(a).format(i),a.setMonth(a.getMonth()+1),a.setDate(0),t.to=moment(a).format(i);break;case"this_quarterOption":a=new Date;var n=Math.floor((a.getMonth()+3)/3);a.setDate(1),a.setMonth(3*n-3),t.from=moment(a).format(i),a.setMonth(a.getMonth()+3),a.setDate(0),t.to=moment(a).format(i);break;case"last_quarterOption":a=new Date;0==(n=Math.floor((a.getMonth()+3)/3)-1)&&(n=4,a.setFullYear(a.getFullYear()-1)),a.setDate(1),a.setMonth(3*n-3),t.from=moment(a).format(i),a.setMonth(a.getMonth()+3),a.setDate(0),t.to=moment(a).format(i);break;case"next_quarterOption":a=new Date;5==(n=Math.floor((a.getMonth()+3)/3)+1)&&(n=1,a.setFullYear(a.getFullYear()+1)),a.setDate(1),a.setMonth(3*n-3),t.from=moment(a).format(i),a.setMonth(a.getMonth()+3),a.setDate(0),t.to=moment(a).format(i);break;case"this_yearOption":(a=new Date).setDate(1),a.setMonth(0),t.from=moment(a).format(i),a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(0),t.to=moment(a).format(i);break;case"last_yearOption":(a=new Date).setFullYear(a.getFullYear()-1),a.setDate(1),a.setMonth(0),t.from=moment(a).format(i),a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(0),t.to=moment(a).format(i);break;case"next_yearOption":(a=new Date).setFullYear(a.getFullYear()+1),a.setDate(1),a.setMonth(0),t.from=moment(a).format(i),a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(0),t.to=moment(a).format(i)}return t}function generateUniqueColumnVals(e,t){var i=[];try{ivirDataTableApi.cells(ivirDataTableApi.rows(":not(.specialRow)").nodes(),t,{search:"applied"}).data().unique().sort().each(function(t,a){if("n"==e)t=(t="object"==_typeof(t)&&null!=t?t.display:null!=t?t:"").replace(/,/g,""),i.push(t);else if("d"==e){var n=getDateStamp(t=getDateBasedOnCulture(t));i.push(n)}})}catch(a){}return i}function getDateStamp(e){try{var t=dtFormat.substring(0,dtFormat.length-2).split(/-|\//),i=e.split(/-|\//);if(t[0].toLowerCase().startsWith("d")){var a=[i[1],i[0],i[2]];i[0]=a[0],i[1]=a[1],i[2]=a[2]}return parseInt(new Date(i.join("/")).getTime(),10)||e}catch(n){}}function enableDisableDateField(e,t){"disable"==t&&(e.prop("disabled",!0),e.parent().addClass("pe-none opacity-50 shadow-none"))}function getFirstDayOfWeek(e){var t=(e=new Date(e)).getDay(),i=e.getDate()-t+(0==t?-6:1);return new Date(e.setDate(i))}function isNumberBetweenScope(e,t,i){return isNaN(e)&&isNaN(t)||isNaN(e)&&i<=t||e<=i&&isNaN(t)||e<=i&&i<=t}function generateFilterPill(e,t,i,a){var n,r=!1,l=!1,o=t;if(maxNoOfPills=1,i===undefined){if(jQuery.isEmptyObject(ivirMainObj)){var s=ivirMainObj.filter=[];l=!0,n=0}else if(ivirMainObj.filter===undefined){s=ivirMainObj.filter=[];n=0}else{l=!1,(s=ivirMainObj.filter).length>=maxNoOfPills&&(r=!0),n=s.length}var c=new Object}else{c=ivirMainObj.filter[i];n=i}r?showAlertDialog("warning",appGlobalVarsObject.lcm[23]):(c.n=o,c.data=JSON.parse(e),i===undefined?(s.push(c),l||0==$("#ivirFilteredAccordion").length?0==$("#ivirFilteredAccordion").length?createPills("all","first"):($("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"),createPills("all","last")):$("#ivirFilteredAccordion").length>0&&($("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"),upateThePills("filter",n,o))):($("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked"),$("#filterpillCB"+i).prop("checked",!0).attr("checked","checked"),$("#filterpillCB"+i).parent().next().find(".ivirCndtnName").attr("title","Edit "+o).text(o)));try{advFiltersObjectToApply=ivirMainObj.filter[n].data}catch(d){}return setSmartViewHeight(),!0}function fireTheCustomAction(e){$("#"+e).click(),__doPostBack(e,"")}function ivirShowChart(e,t,i){"chart"!==e&&($(".chartCndtnWrapper").hide(),$("#ivir"+e).show()),$("#ivirChartsRow span.customError").remove(),$(".ivirChartButton").removeClass("active btn-active-light-primary"),$(i).addClass("active btn-active-light-primary"),$("#ivir"+e+" .form-control").first().focus()}function ivirCreateChart(e,t,i,a){var n,r=[],l=[],o=$("#ivirChartCol").find("option:selected").data("index"),s=$("#ivirChartCol").find("option:selected").val(),c=$(ivirDataTableApi.column(o).header()).text().trim(),d=$("#ivirChartVal").find("option:selected").data("index"),p=$("#ivirChartVal").find("option:selected").val(),h=$("#ivirChartName").val(),u=$("#ivirChartsRow .ivirChartButton.active").data("type"),m=!1;if(i===undefined)var v=h,b=getPropertyAccess(s),f=getPropertyAccess(p),g=u;else{var w=ivirMainObj.chart[e];v=w.n,b=w.cl,f=w.v,g=w.t;d=void 0===d?FieldName.indexOf(f):d}if(a){h=(k=ivirMainObj.chart[e]).n,o=k.cl,d=k.v,g=k.t,d=void 0===d?FieldName.indexOf(d):d}else{if(""==v)return ivirCustomErrMsg($("#ivirChartName"),errorMessages.emptyField),!1;if(!testRegex("validName",v))return ivirCustomErrMsg($("#ivirChartName"),errorMessages.invalidName),!1;if(b==undefined||""===b)return ivirCustomErrMsg($("#ivirChartCol"),errorMessages.emptySelect),!1;if(f==undefined||""===f)return ivirCustomErrMsg($("#ivirChartVal"),errorMessages.emptySelect),!1;if(!g)return ivirCustomErrMsg($("#ivirChartsRow"),errorMessages.emptySelect),!1}if(n=0!=$('input[name="chkItem"]:checked').length,e===undefined||t){var C=!1;ivirDataTableApi.rows(":not(.specialRow)",{search:"applied"}).every(function(e,t,i){var a=ivirDataTableApi.rows(e).data()[0],o=this.node(),s=$(o).find("td");if(!n||s.eq(0).find("input[name=chkItem]").is(":checked")){var c="",d="";c=isNaN(parseFloat(b))?a[b]:a[Object.keys(a)[b]],d=isNaN(parseFloat(f))?a[f]:a[Object.keys(a)[f]],"n"==ColumnType[FieldName.indexOf(p)]&&(d=d.replace(/,/g,"")),anchorRegexPatter.test(c)&&(c=$(c).text()),anchorRegexPatter.test(d)&&(d=parseFloat($(d).text()));var h=$.inArray(c,r);if(-1==h){r.push(c);var u={};u.name=c,0!==(d=parseFloat(d))&&d&&""!==d&&(C=!0),"pie"==g||"donut"==g?u.y=d:"bar"!=g&&"column"!=g||(u.data=[d]),l.push(u)}else{var m=l[h];if("pie"==g||"donut"==g){var v=m.y;v=parseFloat(v),d=parseFloat(d),m.y=v+d}else if("column"==g||"bar"==g){v=m.data[0];m.data=[parseFloat(v)+parseFloat(d)]}}}})}var y=t;if(e===undefined){if(ivirMainObj.chart===undefined){var x=ivirMainObj.chart=[];indexOfChartArry=0}else{!1,(x=ivirMainObj.chart).length>=maxNoOfPills&&(m=!0),indexOfChartArry=x.length}var k=new Object}else{k=ivirMainObj.chart[e];indexOfChartArry=e,y&&requestJSON&&("undefined"==typeof k.checked||k.checked)||(y=!1)}if(e===undefined||y)if("pie"==g)pieChart(C,JSON.stringify(l),v,indexOfChartArry,d);else if("donut"==g)pieChart(C,JSON.stringify(l),v,indexOfChartArry,d,!0);else if("bar"==g||"column"==g){var T='["'+c+'"]~'+JSON.stringify(l);columnChart(C,T,v,indexOfChartArry,g,d)}return m?showAlertDialog("warning",appGlobalVarsObject.lcm[23]):(k.n=v,k.t=g,k.cl=b,k.v=f,e===undefined?(x.push(k),requestJSON&&ivirMainObj&&ivirMainObj.chart&&ivirMainObj.chart.length>0&&$("#ivirMainDataTableWrapper").show(),$("#ivirChartPills").hasClass("pillsAdded")?upateTheChartPills(indexOfChartArry,v):createChartPills()):(y?(requestJSON||$(".ivirChartCheckBox").prop("checked",!1).removeAttr("checked"),$("#chartpillCB"+e).prop("checked",!0).attr("checked","checked")):$("#chartpillCB"+e).prop("checked",!1).removeAttr("checked"),$("#ivirchart"+e+"CndtnPill .ivirCndtnName").attr("title","Edit "+v).text(v))),setSmartViewHeight(),!0}$j(document).ready(function(e){e.fn.dataTableExt.ofnSearch["alt-status"]=function(e){},e.fn.dataTable.ext.errMode="none",Highcharts.setOptions({lang:{decimalPoint:".",thousandsSep:","}}),svHtmlGeneratorRef=function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this,a=arguments.length>2&&arguments[2]!==undefined&&arguments[2];isOpenSmartStepper=!0,(e("#ivirCButtonsWrapper").is(":visible")&&!e("#ivirCButtonsWrapper a.active").hasClass("grdView")||e("#pinnedivirCButtonsWrapper").is(":visible")&&!e("#pinnedivirCButtonsWrapper a.active").hasClass("grdView"))&&toggleGridView("grid");var n="",r=e(i).val();if(r&&""!=r){if("SHcolumns"==r&&"inmemdb"!=iName){requestTstructFieldsObj(),isListView||(n='<div class="d-flex form-check form-check-sm form-check-custom form-check-solid gap-10 checkbox">',n+='<input class="form-check-input" type="checkbox" id="showAllColumns" />',n+='<label class="form-label col-form-label pb-1 fw-boldest">'+callParentNew("lcm")[446]+"</label>",n+="</div>",n+="<hr />"),n+='<div id="ivirshowHideColumnWrapper" class="columList">';var l=0;""!=fixedColumnsObj&&(l=fixedColumnsObj.s.iLeftColumns);var o=[],s=[];if(""!=groupingCol)!0,o=checkForPillDependentFlds("group",e("[id^='grouppillCB']:checked").data("index"),!0);var c=e("[id^='chartpillCB']:checked").data("index");if(c>=0&&(s=checkForPillDependentFlds("chart",c,!0)),isListView){var d="";if(""!=e("#hdnListViewFieldsJSON").val())var p=JSON.parse(e("#hdnListViewFieldsJSON").val());else p={1:{caption:iName,fields:FieldName.map(function(e,t){return{caption:HeaderText[t],component:"",dcNo:1,index:t+1,isGridField:!1,length:undefined,name:e,save:"rowno"!=e&&!("true"==HideColumn[t]),visible:"rowno"!=e&&!("true"==HideColumn[t])}}),index:1,isGrid:!1,name:"dc1"}};try{n+=Object.keys(p).map(function(t){var i=p[t],a=[];return 1==t&&(a=["Created By","Created On","Modified By","Modified On"].map(function(e,t){var a,n,r;return _objectSpread(_objectSpread({},null==i?void 0:null===(a=i.fields)||void 0===a?void 0:a.find(function(e){return e.visible&&e.save})),{},{index:((null==i?void 0:null===(n=i.fields)||void 0===n?void 0:n.length)>-1?null==i?void 0:null===(r=i.fields)||void 0===r?void 0:r.length:0)+(t+1),name:e.toLowerCase().replaceAll(" ",""),caption:e})})||a),'\n                                <div id="lstColSel_'.concat(i.name,'" class="d-block gap-10 lstColSelWrapper">\n                                    <div class="d-flex flex-row-auto form-check form-check-sm form-check-custom form-check-solid gap-10">\n                                        <input id="showAllColumns').concat(t,'" class="form-check-input showAllColumns" type="checkbox" value="').concat(i.name,'" ').concat(Object.keys(i).map(function(e){return"fields"!=e?"data-".concat(e,'="').concat(i[e],'"'):""}).join(" "),' /> \n                                        \x3c!-- <span> --\x3e\n                                            <label class="form-label col-form-label pb-1 fw-boldest fst-bolder"for="showAllColumns').concat(t,'">\n                                                ').concat(i.name,"<i> (").concat(i.caption,") - ").concat(i.isGrid?"Grid":"Non-Grid",'</i>\n                                            </label>\n                                        </div>\n                                    <div class="mx-15">\n                                            ').concat([].concat(_toConsumableArray(i.fields),_toConsumableArray(a)).map(function(i){return i.visible&&i.save?'\n                                            <div class="d-flex form-check form-check-sm form-check-custom form-check-solid gap-10 checkbox ivirLabelWrapper">\n                                            <input id="customCheckBox_'.concat(t,"_").concat(i.index,'" class="form-check-input customCheckBox" type="checkbox"\n                                            ').concat((e("#newViewTabId").is(":visible")||isOpenSmartStepper)&&(ivirMainObj.visibleColumns&&ivirMainObj.visibleColumns.length>0&&ivirMainObj.visibleColumns[0].dcs&&ivirMainObj.visibleColumns[0].dcs[t]&&"undefined"!=typeof ivirMainObj.visibleColumns[0].dcs[t].fields&&(checkIt=ivirMainObj.visibleColumns[0].dcs[t].fields.indexOf(i.name)>-1)||FieldName.indexOf(i.name)>-1||isListView&&"modifiedby"==i.name&&FieldName.indexOf("username")>-1&&("undefined"==typeof checkIt||checkIt))?(d+="<option>".concat(i.name,"</option>"))&&'checked="checked"':"",'\n                                            value="').concat(i.name,'" ').concat(Object.keys(i).map(function(e){return"data-".concat(e,'="').concat(i[e],'"')}).join(" "),' />\n                                                <label class="form-label col-form-label pb-1 fw-boldest ivirSortLabel" for="customCheckBox_').concat(t,"_").concat(i.index,'">\n                                                    ').concat(i.name,"<i> (").concat(i.caption,")</i>\n                                                </label>\n                                            </div>\n                                            "):""}).join(""),'\n                                        </div>\n                                    </div>\n                                <hr class="text-gray-500" />')}).join(""),n+='<div class="form-group">\n                                <label for="grpColName" class="form-label col-form-label pb-1 fw-boldest required"> \n                                    Select column for Hyperlink\n                                </label>\n                                <select class="form-select dialogSlctFld stepperSelect" id="selColHypOpts">\n                                    '.concat(d,"\n                                </select>\n                            </div>")}catch($){}}else for(var h=(y=ivirDataTableApi.columns())[0].length,u=o.concat(s),m=0;m<h;m++)if("true"!=ivHeadRows[getColumnName(ivirDataTableApi.context[0].aoColumns[m].mData)]["@hide"]){var v=e(ivirDataTableApi.columns(m).header()).text().trim();n+='<div class="d-flex form-check form-check-sm form-check-custom form-check-solid gap-10 checkbox ivirLabelWrapper">';var b="",f=!0===ivirDataTableApi.column(m).visible();if(e("#newViewTabId").is(":visible")||isOpenSmartStepper)try{ivirMainObj.hiddenColumns&&(f=!(ivirMainObj.hiddenColumns.indexOf(FieldName[HeaderText.indexOf(v)])>-1))}catch($){}(m<l||-1!==e.inArray(m,u))&&(b="disabled"),n+=f?'<input class="form-check-input customCheckBox '+b+'" '+b+' checked type="checkbox" data-index='+m+' value="'+v+'">':'<input class="form-check-input customCheckBox '+b+'" '+b+' type="checkbox" data-index='+m+' value="'+v+'">',n+='<label class="form-label col-form-label pb-1 fw-boldest ivirSortLabel">'+(""==v&&0==m&&"true"==isChkBox?"Checkbox":"arrow_drop_down"==v&&rowOptionsExist&&0==m?"AxRowOptions_Checkbox":v)+"</label>",n+="</div>"}return n+="</div>"}if("design"==r&&"inmemdb"!=iName&&isListView){if(n='\n                <div id="ivirDesignColumnWrapper" class="designList">\n                </div>\n                ',"design"!=document.getElementById("IvirActions").value)return n;smartDesign(n)}else{if("sort"==r&&"inmemdb"!=iName){n+='<div class="d-flex justify-content-end">',n+='<button type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[447]+'" class="btn btn-sm btn-icon btn-active-primary shadow-sm arrowUpDown" onclick="ivirMoveUpDown(\'up\',\'ivirSortColumnWrapper\')" id="listUp"><span class="material-icons material-icons-style">vertical_align_top</span></button>',n+='<button type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[448]+'" class="btn btn-sm btn-icon btn-active-primary shadow-sm arrowUpDown" onclick="ivirMoveUpDown(\'down\',\'ivirSortColumnWrapper\')" id="listDown"><span class="material-icons material-icons-style">vertical_align_bottom</span></button>',n+='<button id="clearSorting" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[318]+'" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm clear d-none"><span class="material-icons material-icons-style">restore</span></button>',n+="</div>",n+="<hr />",n+='<div id="ivirSortColumnWrapper" class="columList">';var g=ivirDataTableApi.order(),w=[];for(m=0;m<g.length;m++)w.push(g[m][0]),w.push(g[m][1]);for(var C=0;C<w.length;C+=2){v=e(ivirDataTableApi.columns(w[C]).header()).text().trim();groupingCol!=w[C]&&(n+='<div class="d-flex justify-content-between form-check form-check-sm form-check-custom form-check-solid py-2 checkbox ivirLabelWrapper">',n+='<input tabindex="-1" class="form-check-input col-sm-1 customCheckBox" type="checkbox" checked data-index='+w[C]+">",n+='<label class="form-label col-form-label pb-1 fw-boldest col-sm-9 ivirSortLabel">'+v+"</label>",n+='<span class="d-flex col-sm-2 ascDscWrapper">',"asc"==w[C+1]?(n+='<button tabindex="-1" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Descending Order"><span data-order="asc" class="material-icons material-icons-style active">arrow_circle_down</span></button>',n+='<button tabindex="-1" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Ascending Order"><span data-order="desc" class="material-icons material-icons-style">arrow_circle_up</span></button>'):(n+='<button tabindex="-1" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Ascending Order"><span data-order="asc" class="material-icons material-icons-style">arrow_circle_down</span></button>',n+='<button tabindex="-1" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Descending Order"><span data-order="desc" class="material-icons material-icons-style active">arrow_circle_up</span></button>'),n+="</span>",n+="</div>")}for(var y=ivirDataTableApi.columns(),x=0;x<y[0].length;x++){if("true"!=isChkBox||0!=x)if(!0===ivirDataTableApi.column(x).visible()&&-1===jQuery.inArray(x,w))n+='<div class="d-flex justify-content-between form-check form-check-sm form-check-custom form-check-solid py-2 checkbox ivirLabelWrapper">',n+='<input tabindex="-1" class="form-check-input col-sm-1 customCheckBox" type="checkbox" data-index='+x+">",n+='<label class="form-label col-form-label pb-1 fw-boldest col-sm-9 ivirSortLabel">'+(v=e(ivirDataTableApi.columns(x).header()).text().trim())+"</label>",n+='<span class="d-flex col-sm-2 ascDscWrapper">',n+='<button tabindex="-1" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Ascending Order"><span data-order="asc" class="material-icons material-icons-style">arrow_circle_down</span></button>',n+='<button tabindex="-1" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Descending Order"><span data-order="desc" class="material-icons material-icons-style">arrow_circle_up</span></button>',n+="</span>",n+="</div>"}return n+="</div>"}if("rowGrouping"==r&&"inmemdb"!=iName){if(!checkForPillsLength("group"))return getGroupHtml();if(a)return getGroupHtml(a)}else if("highlighting"==r&&"inmemdb"!=iName){if(!checkForPillsLength("highlight"))return getHighlightHtml();if(a)return getHighlightHtml("highlight",0,a)}else{if("download"==r)return n+="<div>",n+="<div>",n+='<div id="main">',n+='<div class="row" id="ivirDownloadWrapper">',n+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button" title="CSV" class="noBg CSV active"><span class="ivirDownload fa fa-file-excel-o CSV"></button></span><label>CSV</label></div>',n+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button" title="Excel" class="noBg EXCEL"><span  class="ivirDownload  fa fa-file-excel-o EXCEL"></button><label>Excel</label></span></div>',n+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button"title="PDF" class="noBg PDF"><span class="ivirDownload fa fa-file-pdf-o PDF"></button></span><label>PDF</PDF></div>',n+='<div class="col-md-2 text-center"><button onclick="DownloadAndSave(this)" type="button" title="Print" class="noBg PRINT"><span class="ivirDownload fa fa-print PRINT"></button></span><label>Print</label></div>',n+="</div> ",n+="</div>",n+="</div>",n+="</div>";if("chart"==r&&"inmemdb"!=iName)checkForPillsLength("chart")||smartCharts();else if("save"==r&&"inmemdb"!=iName)if(requestJSON)if(ivirMainObj.groupName)hasBuildAccess?saveInSessionBeforeSaveNew(ivirMainObj.groupName,ivirMainObj.caption||ivirMainObj.groupName,ivirMainObj.applyTo):saveInSessionBeforeSaveNew(ivirMainObj.groupName,ivirMainObj.caption||ivirMainObj.groupName,callParentNew("mainUserName"),ivirMainObj.asDefault);else{try{callParentNew("Charts","id").dispatchEvent(new CustomEvent("close"))}catch(k){}getViewName()}else saveInSessionBeforeSave();else if("saveAs"==r&&"inmemdb"!=iName)newViewTabClick(e(i));else{if("moreFilters"==r)return ivirMoreFilters(a&&ivirMainObj.filter?0:-1);"clearFilters"==r?clearFilters():"paramFilter"==r&&e("#Filterscollapse").collapse("toggle")}}}}},e(document).on("keydown","#ivirCndtnToggleBtn",function(e){32!=e.keyCode&&13!=e.keyCode||toggleIvirPills()}),e(document).on("change","#IvirCustomActions",function(t){var i=e(this).val();""!=i&&(i.startsWith("custBtn")&&fireTheCustomAction(i.split(",")[0].substr(7)))}),e.fn.dataTable.ext.search.push(function(t,i,a,n,r){var l=!1,o=[];e.isEmptyObject(advFiltersObjectToApply)||advFiltersObjectToApply.somedummyfilterjsobjectkey?(l=!1,advFiltersObjectToApply.somedummyfilterjsobjectkey||(o=e("#newViewTabId .filter-bodyAndFooter-cont table tbody tr"))):(l=!0,o=e(Object.keys(advFiltersObjectToApply)));var s=[];return e(o).each(function(t){var i="";if(l){i=o[t];var a=ivirColumnTypeObj[i]}else a=e(this).data("coltype");switch(a){case"c":if(l)var r=advFiltersObjectToApply[i].split("`"),c=getPropertyAccess(i);else r=e(this).find(".moreFiltersInput.characterFilter:nth(0)").val(),c=getPropertyAccess(e(this).find(".moreFiltersInput.characterFilter").data("field"));var d="object"==_typeof(n[c])&&null!=n[c]?n[c].display:null!=n[c]?n[c]:"",p=d=e(e.parseHTML(d)).text().trim();""!=r&&s.push(r.filter(function(e,t){return p.indexOf(e)>-1}).length>0);break;case"n":var h=0,u=0;if(l){c=getPropertyAccess(i);if(""!=advFiltersObjectToApply[i].min.toString()||""!=advFiltersObjectToApply[i].max.toString()){var m=[];try{m=generateUniqueColumnVals(a,c+":name"),""==advFiltersObjectToApply[i].min.toString()&&(advFiltersObjectToApply[i].min=Math.min.apply(Math,_toConsumableArray(m))||h),""==advFiltersObjectToApply[i].max.toString()&&(advFiltersObjectToApply[i].max=Math.max.apply(Math,_toConsumableArray(m))||u)}catch(b){}try{h=parseFloat(advFiltersObjectToApply[i].min.toString().replace(/,/g,""))||h}catch(b){}try{u=parseFloat(advFiltersObjectToApply[i].max.toString().replace(/,/g,""))||u}catch(b){}}}else{c=getPropertyAccess(e(this).find(".moreFiltersInput.numericFilter:nth(0)").data("field"));if(""!=e(this).find(".moreFiltersInput.numericFilter:nth(0)").val()||""!=e(this).find(".moreFiltersInput.numericFilter:nth(1)").val()){m=[];try{m=generateUniqueColumnVals(a,c+":name"),""==e(this).find(".moreFiltersInput.numericFilter:nth(0)").val()&&e(this).find(".moreFiltersInput.numericFilter:nth(0)").val(Math.min.apply(Math,_toConsumableArray(m))||h),""==e(this).find(".moreFiltersInput.numericFilter:nth(1)").val()&&e(this).find(".moreFiltersInput.numericFilter:nth(1)").val(Math.max.apply(Math,_toConsumableArray(m))||u)}catch(b){}h=parseFloat(e(this).find(".moreFiltersInput.numericFilter:nth(0)").val().toString().replace(/,/g,""))||h,u=parseFloat(e(this).find(".moreFiltersInput.numericFilter:nth(1)").val().toString().replace(/,/g,""))||u}}d="object"==_typeof(n[c])&&null!=n[c]?n[c].display:null!=n[c]?n[c]:"";d=checkFroNegativeValue(e(e.parseHTML(d)).text().trim()),""!=(p=isInValidNumber(p=parseFloat(d.toString().replace(/,/g,"")))?"":p)&&(0!=h||0!=u)&&s.push(isNumberBetweenScope(h,u,p));break;case"d":h=0,u=0;if(l){c=getPropertyAccess(i);if("undefined"==typeof advFiltersObjectToApply[i].min||""==advFiltersObjectToApply[i].min.toString()&&""==advFiltersObjectToApply[i].max.toString()){var v=generateAdvFilterDates(advFiltersObjectToApply[i]);h=getDateStamp(v.from),u=getDateStamp(v.to)}else{m=[];try{m=generateUniqueColumnVals(a,c+":name"),""==advFiltersObjectToApply[i].min.toString()&&(advFiltersObjectToApply[i].min=new Date(Math.min.apply(Math,_toConsumableArray(m))||h)),""==advFiltersObjectToApply[i].max.toString()&&(advFiltersObjectToApply[i].max=new Date(Math.max.apply(Math,_toConsumableArray(m))||u))}catch(b){}try{if(advFiltersObjectToApply[i].min)h=getDateStamp(advFiltersObjectToApply[i].min)||h;else;}catch(b){}try{if(advFiltersObjectToApply[i].max)u=getDateStamp(advFiltersObjectToApply[i].max)||u;else;}catch(b){}}}else{c=getPropertyAccess(e(this).find("input.moreFiltersInput.dateFilter:nth(0)").data("field"));if(""!=e(this).find("input.moreFiltersInput.dateFilter:nth(0)").val()||""!=e(this).find("input.moreFiltersInput.dateFilter:nth(1)").val()){m=[];try{m=generateUniqueColumnVals(a,c+":name"),""==e(this).find("input.moreFiltersInput.dateFilter:nth(0)").val()&&e(this).find("input.moreFiltersInput.dateFilter:nth(0)").datepicker("setDate",new Date(Math.min.apply(Math,_toConsumableArray(m))||h)),""==e(this).find("input.moreFiltersInput.dateFilter:nth(1)").val()&&e(this).find("input.moreFiltersInput.dateFilter:nth(1)").datepicker("setDate",new Date(Math.max.apply(Math,_toConsumableArray(m))||u))}catch(b){}try{h=parseInt(e(this).find("input.moreFiltersInput.dateFilter:nth(0)").datepicker("getDate").getTime(),10)||h}catch(b){}try{u=parseInt(e(this).find("input.moreFiltersInput.dateFilter:nth(1)").datepicker("getDate").getTime(),10)||u}catch(b){}}}p="";try{d="object"==_typeof(n[c])&&null!=n[c]?n[c].display:null!=n[c]?n[c]:"";d=getDateBasedOnCulture(d=e(e.parseHTML(d)).text().trim()),p=getDateStamp(d)}catch(b){}""!=p&&(0!=h||0!=u)&&s.push(isNumberBetweenScope(h,u,p))}}),s.every(function(e){return e})}),e(document).on("dblclick","th.sorting, th.sorting_asc, th.sorting_desc, th.dt-right, th.dt-left",function(){try{ivirDataTableApi.order.neutral().draw()}catch(e){}}),e(document).on("click","#btnFilter",function(){e('[data-dropdown-value="moreFilters"]').attr("data-filter-type","search"),advFiltersObjectToApply={},ivirDataTableApi.draw(),setFilterInfo()}),e(document).on("click","#btnFilterApply",function(){var t=e("#advSearchName").val()||"a";if(-1!=e("#newViewTabId").find(".filter-body-cont").data("pillindex")||!checkForPillsLength("filter")||e("#newViewTabId").is(":visible")||isOpenSmartStepper)if(t){var i=getFiltersPillIndex(),a=i!=undefined;if(!e("#newViewTabId").is(":visible")&&!isOpenSmartStepper&&!ivirDuplicateCheck("filter",a,i))return!1;var n=JSON.stringify(generateSearchString("JSON"));if("{}"!=n)if(e("#newViewTabId").is(":visible")||isOpenSmartStepper){var r=[{n:t,data:JSON.parse(n)}];ivirMainObj.filter=r}else generateFilterPill(n,t,i),ivirDataTableApi.draw(),setFilterInfo(),e('[data-dropdown-value="moreFilters"]').attr("data-filter-type","filter");else showAlertDialog("info","Filter fields cannot be empty.")}else showAlertDialog("warning","Enter your filter name.")}),e(document).on("change","select.dateFilter",function(){var t=e(this).parent().nextAll(),i=e(t[0]).find("input.moreFiltersInput"),a=e(t[1]).find("input.moreFiltersInput"),n=generateAdvFilterDates(e(this).val());i.val(n.from),a.val(n.to),enableDisableDateField(t.find("input.moreFiltersInput"),"customOption"==e(this).val()?"enable":"disable")}),GetProcessTime(),GetTotalElapsTime()});var nxtScrollSize=100,defaultRecsPerPage=100,checkNextDBRowsExist=!0,dtPageNo=1,dtTotalRecords=0,dtDbTotalRecords=0,autoAppendRecords=!1,pageScrollToEnd=!1,scrollTopPosition=0;function createIvirDataTable(e,t,a,n){var r;dtInitalising=!0;var l=$(".iviewTableWrapper")[0].offsetHeight+"px",o={},s="";"clear"!=e&&"groupApply"!=e&&"group"!=e||(s=$("#pillsWrapper").html()),o.scrollY=l,o.scrollX=!0,o.dom="<'#ivirCustomContainer.container-fluid'<'row'<'#pillsWrapper.col-md-6 col-sm-6'><'col-md-6 col-sm-6 pull-right'l>>><'#ivirMainDataTableWrapper'<'iviewPreTableCustom'>t<'iviewPostTableCustom'>>",o.scrollCollapse=!0,o.colReorder=!1,o.language={search:"_INPUT_",searchPlaceholder:"Search...",lengthMenu:"Show _MENU_ rows",paginate:{next:'<span class="material-icons">navigate_next</span>',previous:'<span class="material-icons">navigate_before</span>'}},o.lengthMenu=[10,25,50,75,100,250,500],o.lengthChange=!1,o.buttons=[{extend:"copyHtml5",text:"Copy",title:IVIRCaption,exportOptions:{stripHtml:!0,trim:!1,stripNewlines:!1,decodeEntities:!1,columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),n=!0;return("true"==isChkBox&&0==e||!a)&&(n=!1),n},rows:""}},{extend:"csvHtml5",text:"CSV",title:IVIRCaption,exportOptions:{stripHtml:!1,trim:!1,stripNewlines:!1,decodeEntities:!1,columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),n=!0;return("true"==isChkBox&&0==e||!a)&&(n=!1),n},rows:""}},{extend:"excelHtml5",text:"Excel",title:IVIRCaption,exportHF:ivExportHF,exportOptions:{stripHtml:!1,trim:!1,stripNewlines:!1,decodeEntities:!1,columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),n=!0;return("true"==isChkBox&&0==e||!a)&&(n=!1),n},rows:""},createEmptyCells:!0},{extend:"pdfHtml5",text:"PDF",title:IVIRCaption,exportHF:ivExportHF,exportOptions:{stripHtml:!1,trim:!1,stripNewlines:!1,decodeEntities:!1,columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),n=!0;return("true"==isChkBox&&0==e||!a)&&(n=!1),n},rows:""},customize:function(e){e.defaultStyle.fontSize=8,e.styles.tableHeader.fontSize=8,e.content.filter(function(e){return e.table})[0].table.widths=Array(e.content.filter(function(e){return e.table})[0].table.body[0].length+1).join("%").split("")}},{extend:"print",text:"Print",title:"",exportHF:ivExportHF,exportOptions:{stripHtml:!1,trim:!1,stripNewlines:!1,decodeEntities:!1,columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),n=!0;return("true"==isChkBox&&0==e||!a)&&(n=!1),n},rows:""}},{extend:"print",text:"HTML",title:"",exportHF:ivExportHF,exportOptions:{stripHtml:!1,trim:!1,stripNewlines:!1,decodeEntities:!1,columns:function(e,t,i){var a=ivirDataTableApi.column(e).visible(),n=!0;return("true"==isChkBox&&0==e||!a)&&(n=!1),n},rows:""},htmlExport:!0},{text:"JSON",title:IVIRCaption,action:function(e,t,i,a){this.processing(!0);var n=t.buttons.exportData();$.fn.dataTable.fileSave(new Blob([JSON.stringify(n)]),"".concat(IVIRCaption,".json")),this.processing(!1)}}],o.select={style:"multi"},o.paging=!0,o.pageLength=pageLength=-1,o.aaSorting=[],o.orderClasses=!1,o.initComplete=function(e,t){try{axDatatablePreInitComplete(e,t)}catch(n){}"hidden"!=$("#hdnIsParaVisible").val()&&("old"==iviewButtonStyle&&requestJSON&&$("#myFiltersLi").removeClass("d-none"),$("[id=dvSelectedFilters]").removeClass("d-none")),appGlobalVarsObject._CONSTANTS.compressedMode&&appGlobalVarsObject.methods.toggleCompressModeUI($("body")),$(".animationLoading").hide();var i=$(".dataTables_scrollBody").hasScrollBar();($.isEmptyObject(advFiltersObjectToApply)||advFiltersObjectToApply.somedummyfilterjsobjectkey)&&(i?$("#requestNextRecords").hide():$("#requestNextRecords").show());var a=getSpecialRowCount();(dtDbTotalRecords>nxtScrollSize||a>0)&&ivDatas.length>nxtScrollSize&&ivDatas.length!=undefined&&setTimeout(function(){var e=nxtScrollSize;defaultRecsPerPage=iviewDataWSRows;var t=0;if(dtDbTotalRecords>iviewDataWSRows)nxtScrollSize=t=defaultRecsPerPage,autoAppendRecords=!0;else{nxtScrollSize+=defaultRecsPerPage;var i=getSpecialRowCount();t=nxtScrollSize>dtDbTotalRecords?i>0?ivDatas.length:dtDbTotalRecords:nxtScrollSize}if(e<t)ivirDataTableApi.rows.add(ivDatas.slice(e,t)).draw(!1);else if(isPivotReport){var a=ivDatas.slice(e,dtDbTotalRecords);a.length>=1e3&&(lazyBinding=!0,ivirDatatable.DataTable.settings[0].oInit.scroller=!0,$(ivirTable).trigger($.Event("preInit.dt"),ivirDatatable.DataTable.settings),$(ivirTable).trigger($.Event("init.dt"),ivirDatatable.DataTable.settings),setSmartViewHeight()),ivirDataTableApi.rows.add(a).draw(!1)}},0),autoSplitChecker();try{recordsExist=this.fnSettings().fnRecordsTotal()>0}catch(n){}"ad___acs"==iName&&$("#dvRefreshParam").parent().prepend('<a id="newFormForRuntime" href="javascript:void(0)" onclick="javascript:getAxpertStudioAddFormData();" class="btn btn-white btn-color-gray-600 btn-active-primary d-inline-flex align-items-center shadow-sm me-2 dwbIvBtnbtm"><span class="material-icons">add_circle_outline</span>New Form</a>'),"ad___cfd"==iName&&$("#dvRefreshParam").parent().prepend('<a id="newFormForRuntime" href="javascript:void(0)" onclick="javascript:callAxpertConfigStudio(\'addfield\',\'\',\'\');" class="btn btn-white btn-color-gray-600 btn-active-primary d-inline-flex align-items-center shadow-sm me-2 dwbIvBtnbtm"><span class="material-icons">add_circle_outline</span>New Field</a>'),"ad___acr"==iName&&$("#dvRefreshParam").parent().prepend('<a id="newAxRules" href="javascript:void(0)" onclick="javascript:loadAxRuleEngineForm(\'true\');" class="btn btn-white btn-color-gray-600 btn-active-primary d-inline-flex align-items-center shadow-sm me-2 dwbIvBtnbtm"><span class="material-icons">add_circle_outline</span>New Rule</a>'),scrollToLastKnownDrilldown();try{axDatatablePostInitComplete(e,t)}catch(n){}dtInitCompleted=!0,setTimeout(function(){setTimeout(function(){$("#GridView1 thead").addClass("headSortUiFix"),setTimeout(function(){hideDataTableLoading(),oldLoadViewName&&smartStepper(!0,"vw"+(new Date).getTime(),"")},100)},0)},0)};var c='<a href="javascript:void(0)" onclick="getIviewRecordCount();" id="getIviewRecordCountVal" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Total Row Count" class="d-flex flex-row-auto w-auto flex-center rounded shadow-sm mx-2">\n            <span class="material-icons material-icons-style material-icons-3">\n                question_mark\n            </span>\n        </a>';if(o.preDrawCallback=function(e){scrollTopPosition=Math.round($(".dataTables_scrollBody").scrollTop())},o.drawCallback=function(e){try{axDatatablePreInDrawCallBack(e)}catch(t){}$("#GridView1 tbody").append($("#GridView1 tr.gtot-no-sort").detach()),enableMobileCards(),x(),y();try{axDatatablePostInDrawCallBack(e)}catch(t){}},"true"==isChkBox||rowOptionsExist?o.columnDefs=[{targets:0,orderable:!1}]:o.columnDefs=[],e==undefined&&(getAllNumericColumns(),o.columnDefs.push({className:"dt-right",targets:numericColumns})),o.autoWidth=!1,o.columnDefs.push({targets:"_all",createdCell:createdCell}),o.createdRow=function(e,t,i){saveSubHeadInfo(e,t,i),"undefined"!=typeof rowRefreshIndex&&(i=rowRefreshIndex);try{if(cardTemplatingHTML)return cardTemplatingHTML=getLayoutHTML(cardTemplatingHTML),renderRowTemplete(cardTemplatingHTML,e,t,i),void(rowRefreshIndex=undefined)}catch(a){}!t[getPropertyAccess("axrowtype")]||"stot"!=t[getPropertyAccess("axrowtype")]&&"subhead"!=t[getPropertyAccess("axrowtype")]&&"gtot"!=t[getPropertyAccess("axrowtype")]||$(e).addClass("specialRow"),t[getPropertyAccess("axrowtype")]&&"gtot"==t[getPropertyAccess("axrowtype")]&&$(e).addClass("gtot-no-sort"),cellHeaderConf.root_class_index&&$(e).addClass(t[getPropertyAccess(cellHeaderConf.root_class_index)]?t[getPropertyAccess(cellHeaderConf.root_class_index)].toString():"");try{createdRowEndCustom(e,t,i)}catch(a){}rowRefreshIndex=undefined},tableWidth=0,visibleTableWidth=0,!responsiveColumnWidth)try{horizontalScrollExist=!0,$("#GridView1 thead tr th:eq(0)").removeClass("sorting_disabled"),widthIncrement=$("#GridView1 thead tr th:eq(0)").outerWidth()-$("#GridView1 thead tr th:eq(0)").width()||0}catch(H){widthIncrement=0}if(o.columns=FieldName.map(function(e,t){var i,a,n,r,l,o,s;if(isListView&&(null===(i=ivirMainObj)||void 0===i||!i.design)&&"rowno"!=e){var c=ivHeadRows[e]["@width"];ivHeadRows[e]["@width"]=(c>51?400:c<=15?150:8*c).toString()}var d=(null===(a=ivirMainObj)||void 0===a?void 0:null===(n=a.design)||void 0===n?void 0:null===(r=n.filter(function(t){return t.name==e}))||void 0===r?void 0:null===(l=r[0])||void 0===l?void 0:l.width)||ivHeadRows[e]["@width"]||(isListView&&0==t?listViewCheckBoxSize:minCellWidth);responsiveColumnWidth?"false"==(ivHeadRows[e]["@hide"].toString()||"true")&&(tableWidth+=parseInt(d,10)+widthIncrement):("false"==(ivHeadRows[e]["@hide"].toString()||"true")&&(visibleTableWidth+=parseInt(d,10)+widthIncrement),tableWidth+=parseInt(d,10)+widthIncrement);var p={data:getPropertyAccess(e),name:getPropertyAccess(e),width:"".concat(d,"px"),className:colAlign[ivHeadRows[e]["@align"]||("rowno"!=e||enableCardsUi?"Left":"Center")]};return!pivotCreated&&(designIndex=null===(o=ivirMainObj)||void 0===o?void 0:null===(s=o.design)||void 0===s?void 0:s.findIndex(function(t){return t.name==getPropertyAccess(e)}))>=0&&(p.order=designIndex+1),p}),responsiveColumnWidth,!pivotCreated&&null!==(r=ivirMainObj)&&void 0!==r&&r.design){var d,p;ivirMainObj.design.forEach(function(e,t){var i,a;return null===(i=$("table#GridView1 thead th[data-header-name=".concat(e.name,"]")))||void 0===i?void 0:null===(a=i.attr("data-order",t+1))||void 0===a?void 0:a.data("order",t+1)}),null===(d=$("table#GridView1 thead th[data-header-name=rowno]"))||void 0===d||null===(p=d.attr("data-order",0))||void 0===p||p.data("order",0);var h=$("table#GridView1 thead th").detach();h=_toConsumableArray(h).sort(function(e,t){var i=isNaN(dataA=parseInt($(e).data("order")))?+"1".repeat(7):dataA,a=isNaN(dataB=parseInt($(t).data("order")))?+"1".repeat(7):dataB;return i<a?-1:i>a?1:0}),$("table#GridView1 thead tr").append(h);try{o.columns.filter(function(e){return"rowno"==e.name})[0].order=0}catch(H){}o.columns=_.sortBy(o.columns,["order"]),hiddenColumnIndex&&(hiddenColumnIndex=hiddenColumnIndex.map(function(e){return o.columns.findIndex(function(t){return t.name==FieldName[e]})}))}if(dtColumns=o.columns,$(ivirTable).css({width:"".concat(tableWidth,"px")}),nxtScrollSize=ivDatas.length,o.data=ivDatas.length!=undefined?ivDatas.slice(0,nxtScrollSize):ivDatas,o.deferRender=!0,responsiveColumnWidth){var u=tableWidth||$("table#GridView1")[0].offsetWidth,m=$(window).width();("Iview"==document.title&&"undefined"!=typeof axpResp&&"true"==axpResp||u<=m)&&$(".gridData").css({width:"100%","min-width":"100%"})}if(n&&0!=n.length?(o.footerCallback=function(e,t,i,a,r){for(var l=this.api(),o=function(e){return"string"==typeof e?1*e.replace(/[\$,]/g,""):"number"==typeof e?e:0},s=0;s<n.length;s++)if("-1"!=n[s]){var c=n[s];total=l.column(c).data().reduce(function(e,t){return""!=t.trim()&&"&nbsp;"!=t.trim()||(t=0),anchorRegexPatter.test(t)&&(t=$(t).text()),t=checkFroNegativeValue(t),o(e)+o(t)},0),pageTotal=l.column(c,{page:"current"}).data().reduce(function(e,t){return""!=t.trim()&&"&nbsp;"!=t.trim()||(t=0),anchorRegexPatter.test(t)&&(t=$(t).text()),t=checkFroNegativeValue(t),o(e)+o(t)},0),$(l.column(c).footer()).html("<br />"+(checkNextDBRowsExist?"Running":"Grand")+"  Total : "+commaSeparateNumber(total.toFixed(2)))}},ivirDataTableApi.fixedColumns().relayout(),$("#iviewFrame").removeClass("hideDatatableFooter")):$("#iviewFrame").addClass("hideDatatableFooter"),ivirVisibleColumns.length>0){if("group"==e||"groupApply"==e){g="groupApply"!=e?t:ivirMainObj.group[t].cl;var v=ivirVisibleColumns.indexOf(g);ivirVisibleColumns.splice(v,1);var b=$("[id^='grouppillCB']:checked");if(b.length){var f=b.data("index");f=ivirMainObj.group[f].cl,-1===$.inArray(f,ivirVisibleColumns)&&ivirVisibleColumns.push(f)}}("true"==isChkBox||rowOptionsExist)&&ivirVisibleColumns.push(0),o.columnDefs.push({targets:ivirVisibleColumns,visible:!0}),o.columnDefs.push({targets:"_all",visible:!1,searchable:searchHiddenColumnsInReports}),o.columnDefs.push({targets:0,searchable:!1})}if(e==undefined||"clear"==e){"clear"==e&&(groupingCol="",$(".rightClickMenu li.freeze").removeClass("d-none"),ivirDatatable.fnDestroy(),$(ivirTable+" tfoot td").html("")),o.columnDefs.push({targets:hiddenColumnIndex,visible:!1,searchable:searchHiddenColumnsInReports}),o.columnDefs.push({targets:0,searchable:!1}),$.fn.dataTable.moment("DD/MM/YYYY"),$.fn.dataTable.ext.errMode="none",$.fn.dataTable.Api.register("order.neutral()",function(){return this.iterator("table",function(e){e.aaSorting.length=0,e.aiDisplay.sort(function(e,t){return e-t}),e.aiDisplayMaster.sort(function(e,t){return e-t})})});try{o=$.isEmptyObject(newDtConfig=axUpdateDtConfig(o))?o:newDtConfig}catch(H){}ivirDataTableApi=$(ivirTable).DataTable(o),"clear"==e&&""!=s&&$("#pillsWrapper").html(s)}else if("group"==e||"groupApply"==e){var g="";"groupApply"!=e?g=t:(g=ivirMainObj.group[t].cl,a=ivirMainObj.group[t].t),groupingCol=g,$(".rightClickMenu li.freeze").addClass("d-none");var w=ivirDataTableApi.columns()[0].length;o.columnDefs.push({targets:g,visible:!1,searchable:!1}),o.columnDefs.push({targets:0,searchable:!1}),o.order=[[g,"asc"]],o.drawCallback=function(e){try{axDatatablePreInDrawCallBack(e)}catch(H){}enableMobileCards(),x();var t=this.api(),i=t.rows({page:"current"}).nodes(),n=null,r=e.aaSorting,l=[],o="",s=0;t.column(g,{page:"current"}).data().each(function(e,c){var d=e;if(anchorRegexPatter.test(e)&&(e=$(e).text()),n!==e){var p="";if(p+='<tr class="group">',a==undefined||0==a.length)p+='<td colspan="'+w+'">'+d+"</td>";else{p+='<td class="groupName">'+d+"</td>";for(var h=0;h<w;h++)if(h!=g){var u=$.inArray(h,a);if(-1!=u)if(r[r.length-1][0]==g){var m="0.00",v=a[u-1];"min"!==v&&"max"!==v||(m=""),p+='<td class="groupTotal" id="groupTotal'+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+h+'">'+m+"</td>"}else p+='<td class="groupTotal" id="groupTotal'+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+h+'"></td>';else 0!==h&&(p+="<td></td>")}}p+="</tr>",$(i).eq(c).before(p),n=e}if(r[r.length-1][0]==g&&a){var b=function(){for(var e=1;e<=a.length;e+=2){var t=a[e-1],i=a[e],n=$("#groupTotal"+o.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+i).text();"0.00"!==n&&""!==n||(n="0"),"avg"===t?(n/=s+1,$("#groupTotal"+o.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+i).text(n)):$("#groupTotal"+o.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+i).text(commaSeparateNumber(n))}};val=t.row(t.row($(i).eq(c)).index()).data(),""==o?o=e:o!==e?(b(),s=0,o=e):s++;var f=a[0],C=a[1],y=getPropertyAccess(a[2]);val=t.row(t.row($(i).eq(c)).index()).data();var x;x=y,val[x]="object"==_typeof(val[x])&&null!=val[x]?val[x].display:null!=val[x]?val[x]:"";var k=val[x].replace(/,/g,"");if(anchorRegexPatter.test(k)&&(k=$(k).text()),""!==(k=checkFroNegativeValue(k)))if(k=k||0,k=parseFloat(k),"sum"==f||"avg"==f)0!=l.length&&-1!=$.inArray(C,l)||l.push(C),$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text(parseFloat($("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text())+k);else if("count"==f){var T=parseInt($("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text())+1;$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text(T)}else if("max"==f){""===(O=$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text())&&(O=k-1),k>(O=parseInt(O))&&$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text(k)}else if("min"==f){var O;""===(O=$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text())&&(O=k+1),k<(O=parseInt(O))&&$("#groupTotal"+e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+C).text(k)}(ivirDataTableApi.page.info().length-1==c||ivirDataTableApi.rows().count()-1==c&&0!==s)&&b()}}),y();try{axDatatablePostInDrawCallBack(e)}catch(H){}},ivirDatatable.fnDestroy(),$(ivirTable+" tfoot td").html("");try{o=$.isEmptyObject(newDtConfig=axUpdateDtConfig(o))?o:newDtConfig}catch(H){}ivirDataTableApi=$(ivirTable).DataTable(o),""!=s&&$("#pillsWrapper").html(s),$(ivirTable+" tbody").off("click.grpClick"),$(ivirTable+" tbody").on("click.grpClick","tr.group",function(){var e=ivirDataTableApi.order()[0];e[0]===g&&"asc"===e[1]?ivirDataTableApi.order([g,"desc"]).draw():ivirDataTableApi.order([g,"asc"]).draw()})}ivirDataTableApi.on("buttons-processing",function(e,t){t||ShowDimmer(!1)}),ivirDatatable=$(ivirTable).dataTable();var C=0;function y(){if(0==dtDbTotalRecords)$("#rowsTxtCount").length?$("#rowsTxtCount").hide():$("#rowsTxtCountNew").hide();else{var e,t=dtDbTotalRecords;if(dtDbTotalRecords>iviewDataWSRows&&dtDbTotalRecords>nxtScrollSize)t=c=dtDbTotalRecords,autoAppendRecords&&setTimeout(function(){k(),scrollToLastKnownDrilldown()},0);else if(checkNextDBRowsExist){if(iviewDataWSRows<=nxtScrollSize){$("#rowsTxtCount").length?0==$("#requestNextRecords").length&&$("#rowsTxtCount").append("<span title='Request next page records' id='requestNextRecords' onclick='requestNextRecords()'><span class='material-icons'>chevron_right</span></span>"):0==$("#requestNextRecords").length&&$("#rowsTxtCountNew").append("<span title='Request next page records' id='requestNextRecords' onclick='requestNextRecords()'><span class='material-icons'>chevron_right</span></span>"),setSmartViewHeight();var i=$(".dataTables_scrollBody").hasScrollBar();($.isEmptyObject(advFiltersObjectToApply)||advFiltersObjectToApply.somedummyfilterjsobjectkey)&&(i?$("#requestNextRecords").hide():$("#requestNextRecords").show()),checkNextDBRowsExist||(c=dtDbTotalRecords)}}else c=dtDbTotalRecords;$("#lblCurPage").html("Rows: 1-"+t+" of "+(""==totRowCount?"".concat(c).concat(null!==(e=ivirDataTableApi)&&void 0!==e&&e.search()?" (".concat(ivirDataTableApi.rows(":not(.specialRow)",{search:"applied"}).count(),")"):""):"")),dtInitCompleted&&setTimeout(function(){hideDataTableLoading()},0)}setTimeout(function(){$("#GridView1 thead").addClass("headSortUiFix")},0),setSmartViewHeight()}function x(){enableCardsUi&&($("#GridView1 tbody td:visible").addClass("visibleMobileCol"),$("#GridView1 tbody td:hidden").addClass("hiddenMobileCol"),$("#GridView1").off("click.expandCollapse").on("click.expandCollapse","td:not(.isHyperlinkUI)",function(e){if($(e.target).parents(".rowOptionsExist").length>0)return!0;$(this).parents("tr").children("td").toggleClass("forceShow"),setSmartViewHeight()}),$("#GridView1 tbody tr[role=row]").css("height",""))}function k(){showDataTableLoading();var e=nxtScrollSize;nxtScrollSize+=defaultRecsPerPage;var t=0;autoAppendRecords?(t=dtDbTotalRecords,autoAppendRecords=!1):(t=nxtScrollSize>dtDbTotalRecords?dtDbTotalRecords:nxtScrollSize,checkNextDBRowsExist=!0),ivirDataTableApi.rows.add(ivDatas.slice(e,t)).draw(!1)}$(".dataTables_scrollBody").on("scroll",delay(function(e){var t=Math.round($(this).scrollTop());if(t>C){var i=$(e.currentTarget),a=$(this).hasScrollBar()?i[0].scrollHeight-i[0].scrollTop-i[0].clientHeight<2:i[0].scrollHeight-Math.round(i.scrollTop())<i.outerHeight();!pageScrollToEnd&&a&&(checkNextDBRowsExist&&nxtScrollSize<dtDbTotalRecords?k():checkNextDBRowsExist&&(showDataTableLoading(),setTimeout(function(){checkNextDBRowsExist?setTimeout(function(){getNextDtRecords(dtPageNo+1)},100):hideDataTableLoading()},0)))}C=t},10)),setSmartViewHeight(),""!==fixedColumnsObj&&"group"!=e&&"groupApply"!=e&&(fixedColumnsObj=new $.fn.dataTable.FixedColumns(ivirDataTableApi,{iLeftColumns:fixedColumnsObj.s.iLeftColumns})),constuctDataButton(e);var T="";requestJSON?(T+="group"==e||"groupApply"==e?'\n                            <ul class="dropdown-menu">\n                                <li class="dropdown-item">\n                                    <a disabled title="Grid View" type="button" class="disabled grdView task-button shadow animate blue"><span class="disabled ivirCButton icon-software-layout-8boxes customIcon"></span>Report</a>\n                                </li>\n                                <li class="dropdown-item">\n                                    <a data-count="0" onclick="toggleGridView(\'showChartErrMsg\',this)" title="Chart View." type="button" class="disabled chrtView task-button shadow animate blue"><span class="disabled ivirCButton icon-ecommerce-graph1 customIcon"></span>Chart</a>\n                                </li>\n                            </ul>\n                            ':"\n            ".concat("modern"!=iviewButtonStyle?'<ul class="dropdown-menu">\n                    <li class="dropdown-item">\n                        <a title="Grid View" type="button" onclick="toggleGridView(\'grid\')" class="grdView task-button shadow animate blue"><span class="ivirCButton icon-software-layout-8boxes customIcon"></span>Report</a>\n                    </li>\n                    <li class="dropdown-item">\n                        <a title="Chart View" type="button" onclick="toggleGridView(\'chart\');" class="chrtView task-button shadow animate blue"><span class="ivirCButton icon-ecommerce-graph1 customIcon"></span>Chart</a>\n                    </li>\n                </ul>':""),$("#ivirCButtonsWrapper").html("\n            ".concat((iviewButtonStyle,""),"\n            ").concat(T,"\n        "))):("group"==e||"groupApply"==e?(T+='<button disabled title="Grid View" type="button" class="disabled grdView task-button shadow animate blue"><span class="disabled ivirCButton icon-software-layout-8boxes"></span></button>',T+='<button data-count="0" onclick="toggleGridView(\'showChartErrMsg\',this)" title="Chart View." type="button" class="disabled chrtView task-button shadow animate blue"><span class="disabled ivirCButton icon-ecommerce-graph1"></span></button>'):(T+='<button title="Grid View" type="button" onclick="toggleGridView(\'grid\')" class="grdView task-button shadow animate blue"><span class="ivirCButton icon-software-layout-8boxes"></span></button>',T+='<button title="Chart View" type="button" onclick="toggleGridView(\'chart\');" class="chrtView task-button shadow animate blue"><span class="ivirCButton icon-ecommerce-graph1"></span></button>'),T+="</div>",$("#ivirCButtonsWrapper").html(T)),ivirMainObj.chart==undefined?($("#ivirCButtonsWrapper").hide(),$("#pinnedivirCButtonsWrapper").hide()):($("#ivirCButtonsWrapper").show(),$("#PinnedivirCButtonsWrapper").show()),$("#iconsUl #myFiltersLi").hasClass("hidden")||$("#accordion")&&$("#accordion").find(".panel-collapse.collapse").removeClass("in");ivirDataTableApi.columns();var O="",S="";if(0!==custBtnIVIR.length){O+='<select name="IvirCustomActions" class="form-select cup" id="IvirCustomActions" data-control="select2">',O+='<option value="">Options</option>';var D={};for(i=0;i<custBtnIVIR.length;i++){var j=custBtnIVIR[i].split("$"),A=j[2];A||(A="customActions"),D[A]===undefined?D[A]=[j[0]+"$"+j[1]]:D[A].push(j[0]+"$"+j[1])}for(var N in D)if(0===N.toLowerCase().indexOf("axp_btn_")){var P=D[N],M=P.length;if(1===M){var F=P[0].split("$");S+="<button onclick=\"fireTheCustomAction('".concat(F[0],'\')" class="btn cutomActionBtns btn-primary dib dropdown-toggle" type="button" data-toggle="dropdown">').concat(F[1],"</button>")}else{S+='<div class="dropdown dib">',S+='<button class="btn btn-primary cutomActionBtns dropdown-toggle" type="button" data-bs-toggle="dropdown">'.concat(N.substr(8),' <span class="caret"></span></button>'),S+='<ul class="dropdown-menu">';for(var V=0;V<M;V++){var I=P[V].split("$");S+='<li class="dropdown-item"><a onclick="fireTheCustomAction(\''.concat(I[0],'\')" href="javascript:void(0)">').concat(I[1],"</a></li>")}S+="</ul>",S+="</div>"}}else for(O+="customActions"==N?'<optgroup label="Options">':'<optgroup label="'+N+'">',V=0;V<D[N].length;V++){var B=D[N][V].split("$");O+='<option value="custBtn'+B[0]+'">'+B[1]+"</option>"}O+="</optgroup>",O+="</select>"}$("#customActionBtn").html(O+S),$("div.dataTables_filter input").addClass("ivirSearchFld form-control"),createMainEventsOnGrid(),ExecuteDatatableExport(),setSmartViewHeight()}function scrollToLastKnownDrilldown(){setTimeout(function(){try{var e,t,i,a,n=$(".dataTables_scrollBody")[0].scrollHeight,r=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),l=localStorage["drilldownScrollInfo-"+r]||"{}",o=(null===(e=JSON.parse(l))||void 0===e?void 0:null===(t=e[iName])||void 0===t?void 0:t.scroll)||0,s=-1;if($.isEmptyObject(a=(null===(i=JSON.parse(l)[iName])||void 0===i?void 0:i.params)||{})||(s=_.findIndex(ivDatas.map(function(e){e.rowno;return _objectWithoutProperties(e,_excluded)}),(delete(p=a).rowno,p))),o>-1&&n>=o&&$(".dataTables_scrollBody").scrollTop(o),s>-1){var c=$(ivirDatatable.api().row(s).node());if(c.length>0){$(".loadedRecord").removeClass("loadedRecord").removeClass("tableStripedFix bg-secondary"),c.addClass("loadedRecord").addClass("tableStripedFix bg-secondary");var d=JSON.parse(l);null==d||delete d[iName],localStorage["drilldownScrollInfo-"+r]=JSON.stringify(d)}}}catch(h){}var p},0)}function enableMobileCards(){(enableCardsUi||cardTemplatingHTML)&&$(".ivirMainGrid thead").hide(),enableCardsUi&&($("#GridView1").css({width:"calc(100vw - 20px)"}).addClass("cards"),$("#ivirMainDataTableWrapper").addClass("cardsWrapper")),cardTemplatingHTML&&$("#GridView1").css({"border-bottom":"initial"})}function autoSplitChecker(){var e="";if(ivConfigurations&&(!isMobile||isiPad))try{e=getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var i=getCaseInSensitiveJsonProperty(e,"PROPS");return i&&i.toString()&&"autosplit"==i.toString().toLowerCase()})[0],["PROPSVAL"]).toString()}catch(t){}e!=undefined&&"true"==e.toLowerCase()&&callParentNew("assocateIframe(".concat(!0,")"),"function")}function getPropertyAccess(e){return isPerf&&!e.startsWith("@")?"@"+e.toUpperCase():e}function getColumnName(e){return isPerf&&e.startsWith("@")?e.substr(1).toLowerCase():e}function generateCellCheckbox(e){var t=e.td,i=(e.cellData,e.rowData),a=e.row,n=(e.col,e.colID,e.rowDataAccess,i[getPropertyAccess("rowno")]),r=!1;"undefined"!=typeof rowRefreshIndex&&"true"==isChkBox&&isCheckedRowRefresh&&(r=!0,isCheckedRowRefresh=!1);var l="";if(rowOptionsExist){var o=i.axrowoptions;l+='\n            <div class="rowOptionsExist float-start form-check form-check-sm form-check-custom me-2">\n                <a href="javascript:void(0);" class="btn btn-sm btn-icon btn-light-secondary btn-active-light-primary form-check-input"\n            data-kt-menu-trigger="click" data-kt-menu-placement="bottom-start" data-kt-menu-flip="top-start">\n                    <span class="material-icons material-icons-style material-icons-2">arrow_drop_down</span>\n                </a>\n                <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bolder w-200px py-3" data-kt-menu="true" data-popper-placement="bottom-start">\n                    '.concat(o.split("~").map(function(e){var n,r=e.split(","),l=r[0]||"",o=r[1]||"",s=r[2]||"",c=r[3]||"";return n=generateCellOnClick(t,s,l,a+1,i),'\n\t\t\t\t\t\t\t<div class="menu-item px-3">\n                                <a class="menu-link px-3" href="javascript:void(0);" onclick="'.concat(n,'">\n                                    <span class="menu-icon material-icons material-icons-style material-icons-2">\n                                        <span>').concat(c,"</span>\n                                    </span>\n                                    ").concat(o,"\n                                </a>       \n                            </div>")}).join(""),"\n                </div>\n            </div>\n        ")}return l+='<div class="form-check form-check-sm form-check-custom ms-2"><input class="form-check-input border-gray-500 '.concat("true"==isChkBox?"":"d-none",'" name="chkItem" type="checkbox" onclick="javascript:ChkHdrCheckbox();" ').concat(r?' checked="checked" ':"",' value="').concat(n,'">').concat("","</div>")}function generateFieldCheckbox(e){e.td;var t,i=e.cellData,a=(e.rowData,e.row,e.col,e.colID);e.rowDataAccess;return t="T"==i,'<div class="form-check form-check-sm form-check-custom form-check-solid ms-3"><input class="form-check-input border-gray-500 listViewDisabledCb" name="'.concat(a,'" type="checkbox" ').concat(t?' checked="checked" ':"",' value="').concat(i,'"></div>')}function generateCellOnClick(e,t,i,a,n){var r="";try{n=void 0===n?ivDatas[parseInt(a)-1]:n}catch(o){n=[]}switch(t.toLowerCase()){case"action":case"script":r="javascript:callHLaction('".concat(i,"',").concat(a,",'").concat(iName,"','');setRefreshParent('false');");break;case"hyperlink":try{if(ivHyperlinks&&ivHyperlinks[i]){var l=ivHyperlinks[i]["@source"];l&&(r=$(generateCellHyperlink({td:e,cellData:n[l],rowData:n,row:a,col:FieldName.indexOf(l),colID:l,rowDataAccess:getPropertyAccess(l)})).attr("onclick")||"")}}catch(o){}}return r}function generateViewNavigation(e){e.td,e.cellData,e.rowData;var t=e.row,i=(e.col,e.colID,e.rowDataAccess,+t+1),a="";return a=1==i&&1==dtDbTotalRecords?"single":1==i?"first":i!=dtDbTotalRecords||checkNextDBRowsExist?"middle":"last","&recPos=".concat(i,"&curPage=").concat(dtPageNo,"&pageType=").concat(a)}function htmlEncode(e){return $("<div/>").text(e).html()}function htmlDecode(e){return $("<div/>").html(e).text()}function generateExpColTree(e){var t=e.td,i=(e.cellData,e.rowData),a=(e.row,e.col,e.colID,e.rowDataAccess),n=$(t).html();if(cellHeaderConf.root_atype_index&&cellHeaderConf.root_account_index&&getPropertyAccess(cellHeaderConf.root_account_index)==a&&"group"==i[getPropertyAccess(cellHeaderConf.root_atype_index)].toString().toLowerCase()){var r=i[a].match(/^([\s]+)/g);r=null!=r?r[0].replace(/ /g,"&nbsp;"):"",n="".concat(r,"<span class='icon-arrows-plus'>").concat(n,"</span>")}return n}function processCellData(e){var t=e.td,i=e.cellData,a=e.rowData,n=e.row,r=e.col,l=e.colID,o=e.rowDataAccess;if((i=void 0!==i&&null!=i?i.toString():"").indexOf("~")>-1&&(i=i.replace(/~/g,"<br />")),"&nbsp;"!=i&&0!=r){var s=i;-1!=s.indexOf("&nbsp;")&&(s=s.replace(/&nbsp;/g," "))}else 0==r&&(i=(n+1).toString(),a[getPropertyAccess("rowno")]=i);var c=dtColumns[r].name;switch("inmemdb"==iName&&(c=getColumnName(c)),ColumnType[FieldName.indexOf(c)]){case"c":i=trimIviewData?i.trim():i.replace(/ /g,"&nbsp;");break;case"n":if(""!=i&&"&nbsp;"!=i&&!i.toString().startsWith("("))if(isInValidNumber(i))i="0";else if("0"!=i&&isPerf&&ivHeadRows[l]["@dec"]&&(decimalVal=parseInt(ivHeadRows[l]["@dec"],10))&&!isInValidNumber(decimalVal)){var d=Number(i.toString().replace(/,/g,"")).toFixed(decimalVal),p="";d.indexOf(".")>-1&&(p=d.substr(d.indexOf(".")+1)||"",i.indexOf(".")>-1&&(i=i.substr(0,i.indexOf("."))),i=i+"."+p),i=Number(i).toFixed(decimalVal)}break;case"d":i=dateCellProcessor(i),a[o]=i}if(!a[getPropertyAccess("axrowtype")]||"stot"!=a[getPropertyAccess("axrowtype")]&&"subhead"!=a[getPropertyAccess("axrowtype")]&&"gtot"!=a[getPropertyAccess("axrowtype")]){if(bulkDownloadEnabled)if("axp_attach"==FieldName[FieldName.indexOf(c)]){var h=/(dc[0-9]+_image+)|(axp_nga_){1}[a-zA-Z0-9]+/i;i=i.split(",").map(function(e){e=e.trim();var t=a[getPropertyAccess("transid")]||"",i=a[getPropertyAccess("fieldname")]||"",r="true"==(a[getPropertyAccess("isdbattach")]||""),l="";h.test(a[getPropertyAccess("fieldname")]||"")?l="gridattach":""==t&&""==i&&""!=e?(l="fullpath",t="-",i="-"):l=""==i?"header":"image";var o="gridattach"==l?(a[getPropertyAccess("recordid")]||"")+"-"+e:a[getPropertyAccess("recordid")]||"";if("fullpath"==l){o=CheckUrlSpecialChars(CheckUrlSpecialChars(e));var s=e.split(/\\|\//g);e=s[s.length-1]}if(resolveAttachmentPath)try{var c=SetFileToDownload(proj||"",t,i,o,l,a[getPropertyAccess("recordid")]||"",e,r,!0);c.length&&(e=c.filter(function(e){return e.indexOf("Error:")}).join(",")||"")}catch(d){}else e='<a class="downloadLink'+n+'" href="javascript:SetFileToDownload(\''+proj+"' || '','"+t+"','"+i+"','"+o+"', '"+l+"', '"+(a[getPropertyAccess("recordid")]||"")+"' || '', '"+e+"' || '', '"+r+"' || '');\">"+e+"</a>";return e}).join(",")}else if(requestJSON&&0==FieldName[FieldName.indexOf(c)].toLowerCase().indexOf("axpfile_")){i=i.split(",").map(function(e,t,i){e=e.trim();var r=FieldName[FieldName.indexOf(c)].substring(8),l=FieldName[FieldName.indexOf(c)].substring(0,7),o=getCaseInSensitiveJsonProperty(a,getPropertyAccess(l+"Path_"+r)).toString()||"";if(o)var s=o.replace(/\*/g,"\\\\").split("\\").filter(function(e){return e}).join("\\\\")||"";s&&(0==o.indexOf("\\\\")&&(o="\\\\\\\\"+s),o+="\\\\"),attachFileName=CheckUrlSpecialChars(CheckUrlSpecialChars(e));return e='<a class="downloadLink'+n+'" href="javascript:SetAxpFileListviewDownload(\''+o+"', '"+attachFileName+"', 'axpfile');\">"+e+"</a>"}).join(",");var u=$(i),m=$("<div></div>");u.filter(function(e,t){e<2?m.append(t):(0==m.find(".popover").length&&m.append('<a href="#" class="badge axpFilePopOver">+'+(u.filter(function(e,t){return $(t).is("a")}).length-1)+'<div class="popover"></div></a>'),","==$(t).text()&&(t=$("<br />")),m.find("a.axpFilePopOver .popover").append(t))}),i=m.html()}}else{switch(isSpecialRow=!0,SetAxFontCondition($(t),"fontstyle=b"),a[getPropertyAccess("axrowtype")]){case"stot":$(t).addClass("fontBlue");break;case"subhead":$(t).addClass("fontBlack");break;case"gtot":$(t).addClass("fontGreen")}"true"!=isChkBox&&!rowOptionsExist||0!=r||(i="")}return i}function dateCellProcessor(e){if(""!=e&&"&nbsp;"!=e)if(isPerf&&e.indexOf("T")>-1&&e.indexOf("-")>-1){var t=(e=e.split("T")[0]).split("-");e=t[2]+"/"+t[1]+"/"+t[0]}else e=getDateBasedOnCulture(e);else e="";return e}function tryParseNumeric(e,t){return null!==(e=e.toString().replace(/,/g,""))&&e.length>0&&!isNaN(e)&&(t=parseFloat(e)),t}function isInValidNumber(e){var t;return!(t=tryParseNumeric(e,""))&&0!==t}function getDateBasedOnCulture(e){if(""!=e){var t,i=e.split(" ");if(e=i[0],"en-us"==dtCulture)(t=e.split("/")).length>2&&(e=isPerf&&4==t[0].length?t[2]+"/"+t[0]+"/"+t[1]:t[1]+"/"+t[0]+"/"+t[2]);else(t=e.split("-")).length>2&&isPerf&&4==t[0].length&&(e=t[2]+"/"+t[1]+"/"+t[0]);i[1]&&(e="".concat(e," ").concat(i[1]))}return e}function generateCellHyperlink(e){var t,i,a=e.td,n=e.cellData,r=e.rowData,l=e.row,o=e.col,s=e.colID,c=e.rowDataAccess,d=null===(t=$(a).find("input:checkbox"))||void 0===t?void 0:t.hasClass("listViewDisabledCb"),p=n,h=dtColumns[o].name;if("inmemdb"==iName&&(h=getColumnName(h)),p&&"false"==HideColumn[FieldName.indexOf(h)]){0==n.indexOf("<")&&n.indexOf(">")==n.length-1||n.indexOf("<")>-1&&(n.indexOf("</")>-1||n.indexOf("/>")>-1)||(n=CheckSpecialChars(n));var u="clickOnDemand($(this), true);";if(i=ivHeadRows[s]["@hlaction"])"0"!=p.toString()&&(p='<a href="javascript:void(0)" onclick="'.concat(u,'" ').concat(m,">").concat(d?$(a).html():n,"</a>"));else if(!(i=ivHeadRows[s]["@hlink"])||"Grand Total"==p||"stot"==r[getPropertyAccess("axrowtype")]&&"subhead"==r[getPropertyAccess("axrowtype")])"response"==iName&&"rname"==s&&(p='<a onclick="'.concat(u,'" class="edit-resp" data-status="true">').concat(d?$(a).html():n,"</a>"));else{var m="";m="subhead"==r[getPropertyAccess("axrowtype")]?" class=ivHeaderLink":" class=l2";var v=i.substr(0,1);if(i=i.substr(1),":"==v){try{i=r[getPropertyAccess(i)]}catch(b){}v="",i&&(v=i.substr(0,1),i=i.substr(1))}if("0"!=p.toString())switch(v){case"t":case"i":p='<a href="javascript:void(0)" onclick="'.concat(u,'" ').concat(m,">").concat(d?$(a).html():n,"</a>");break;case"p":0==i.indexOf("HP")&&(i=i.substr(2),p='<a href="javascript:void(0)" onclick="'.concat(u,'" ').concat(m,">").concat(d?$(a).html():n,"</a>"))}}}return p.startsWith("<a ")&&(commonOnClick="clickOnDemand($(this), true, `".concat(n,"`, `").concat(l,"`, `").concat(FieldName.indexOf(c),"`);"),$(a).addClass("isHyperlinkUI"),p=$("<dummy>".concat(p,"</dummy>")).find("a:not('.customLink')").attr("onclick",commonOnClick).attr("data-data",n).attr("data-row",l).attr("data-col",FieldName.indexOf(c)).parents("dummy").html()),p==n&&d&&!$(a).hasClass("isHyperlinkUI")&&($(a).find("input:checkbox").prop("disabled",!0),p=$(a).html()),p}function clickOnDemand(e){var t,i=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],a=arguments.length>2?arguments[2]:undefined,n=arguments.length>3?arguments[3]:undefined,r=arguments.length>4?arguments[4]:undefined,l=$(e);void 0===a&&(a=l.data("data").toString()),void 0===n&&(n=l.data("row")),void 0===r&&(r=l.data("col")),n=+n,r=+r;var o,s=ivDatas[n],c=getPropertyAccess(FieldName[r]),d=getPropertyAccess(c),p=null===(t=$(l).find("input:checkbox"))||void 0===t?void 0:t.hasClass("listViewDisabledCb"),h=a,u=dtColumns[r].name;if("inmemdb"==iName&&(u=getColumnName(u)),h&&"false"==HideColumn[FieldName.indexOf(u)]){var m="",v={},b="",f="",g="",w="";if(ivConfigurations)try{w=getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var i=getCaseInSensitiveJsonProperty(e,"HLINK");return i&&i.toString()&&i.toString()==c&&"navigation"==getCaseInSensitiveJsonProperty(e,"PROPS").toString().toLowerCase()})[0],["PROPSVAL"]).toString()}catch(F){}ivHeadRows[c]["@map"]&&ivHeadRows[c]["@map"].split(",").forEach(function(e,t){if(e.indexOf("=:")>-1){var i=e.split("=:");b=i[0].indexOf(".")>-1?i[0].split(".")[1]:i[0],f=i[1],isListView&&"recordid"==f&&(b="recordid");var a=s[getPropertyAccess(f)];if(""!=(g=a||getParamsValueArray()[f]||"")&&(g=ReverseCheckSpecialChars(g),g=CheckUrlSpecialChars(g)),a&&ivHeadRows[f]["@type"]&&"d"==ivHeadRows[f]["@type"]&&""!=g){if((g=g.split(" ")[0]).split("-").length>2)var n=g.split("-");var r=Date.parse(n);!isNaN(r)&&r>0&&(g=n[0]+"/"+n[1]+"/"+n[2])}}m+="&"+b+"="+g,v[f]=g}),m=(m=(m=m.split("#").map(function(e,t){return e.endsWith("&")&&t!=m.split("#").length-1?e+"#":t!=m.split("#").length-1?e+"%23":e}).join("")).replace(/\+/g,"%2b")).replace(/%3C/g,"l%3tC;"),0==(a=a.replace(/&nbsp;/g," ")).indexOf("<")&&a.indexOf(">")==a.length-1||a.indexOf("<")>-1&&(a.indexOf("</")>-1||a.indexOf("/>")>-1)||(a=CheckSpecialChars(a));var C="false",y="false",x=function(){p&&$(l).find("input:checkbox").prop("checked",!$(l).find("input:checkbox").prop("checked"))};if("undefined"!=typeof axp_refresh&&axp_refresh&&"true"==axp_refresh?"&axp_refresh="+Convert.ToString(iviewObj.Axp_refresh):ivHeadRows[c]["@refresh"]?C=ivHeadRows[c]["@refresh"].toLowerCase():ivHeadRows[c]["@parentrefresh"]&&(C=ivHeadRows[c]["@parentrefresh"].toLowerCase()),o=ivHeadRows[c]["@hlaction"]){if("0"!=h.toString()){try{ivActions&&ivActions[o]?y=ivActions[o].r1.param1.Refresh.toLowerCase():ivScripts&&ivScripts[o]}catch(F){}x(),h="<a href='javascript:void(0);' onclick=\"javascript:callHLaction('"+ivHeadRows[c]["@hlaction"]+"',"+parseInt(s[getPropertyAccess("rowno")],10)+",'"+iName+"','"+w+"');setRefreshParent('"+y+"');\" class=l3>"+(p?$(l).html():a)+"</a>"}}else if(!(o=ivHeadRows[c]["@hlink"])||"Grand Total"==h||"stot"==s[getPropertyAccess("axrowtype")]&&"subhead"==s[getPropertyAccess("axrowtype")])"flist"==iName&&"reportname"==c?(x(),h="<a href='javascript:void(0);' onclick=\"ReloadIframe('iviewBuilder.aspx?ivname="+s[getPropertyAccess("name")]+"');\">"+(p?$(l).html():a)+"</a>"):"response"==iName&&"rname"==c&&(x(),h="<a href='javascript:void(0);' style=\"cursor:pointer\" onclick=\"ShowDimmer(true);parent.displayBootstrapModalDialog('Edit Responsibility', 'md', '430px', true, '../aspx/AddEditResponsibility.aspx?status=true&amp;action=edit&amp;name=".concat(a,'\', true)" class="edit-resp" data-status="true">').concat(p?$(l).html():a,"</a>"));else{var k="";k="subhead"==s[getPropertyAccess("axrowtype")]?" class=ivHeaderLink":" class=l2";var T=!!ivHeadRows[c]["@pop"]&&"true"==ivHeadRows[c]["@pop"].toLowerCase(),O="&hltype="+ivHeadRows[c]["@hltype"],S=o.substr(0,1);if(o=o.substr(1),":"==S){try{o=s[getPropertyAccess(o)]}catch(F){}S="",o&&(S=o.substr(0,1),o=o.substr(1))}if("0"!=h.toString())switch(S){case"t":var D="";D=isListView?"tstruct.aspx?transid=":"ivtstload.aspx?tstname=";var j=("load"==ivHeadRows[c]["@hltype"]?generateViewNavigation({td:l,cellData:a,rowData:s,row:n,col:r,colID:c,rowDataAccess:d}):"")+"&openerIV=".concat(iName,"&isIV=").concat(!isListView),A=D+""+o+m+O+"&torecid=false"+j;if(T?(x(),i&&callParentNew("loadFrame()","function"),h="<a href='javascript:void(0)' onclick='javascript:setListViewDictionary(viewNavigationData[\""+c+'"], '+(n+1)+');SetColumnName("'+f+'","'+parseInt(n,10)+'","'+!0+'");setRefreshParent("'+C+'");LoadPopPage("'+A+'","","","'+w+'");\' data-url="'+A+'" class="handCur l2"  >'+(p?$(l).html():a)+"</a>"):(x(),i&&callParentNew("loadFrame()","function"),h="<a href='javascript:void(0)' onclick='"+("load"==ivHeadRows[c]["@hltype"]?'setListViewDictionary(viewNavigationData["'+c+'"], '+(n+1)+");":"")+'SetColumnName("'+f+'","'+parseInt(n,10)+'","'+!0+'");LoadTstFrmIview("./'+A+'","'+o+'","'+w+'");\' data-url="'+A+'" '+k+" >"+(p?$(l).html():a)+"</a>"),"load"==ivHeadRows[c]["@hltype"]){!viewNavigationData[c]&&(viewNavigationData[c]=[]);var N=A.indexOf("tstruct.aspx?")>-1;viewNavigationData[c][n]=A.replace("ivtstload.aspx?","tstruct.aspx?")+(N?"&openerIV=".concat(iName,"&isIV=").concat(!isListView):""),ivDatas.forEach(function(e,t,i){if("undefined"==typeof viewNavigationData[c][t]){var a=null;try{var r;if((null===(r=a=$("#GridView1 tbody tr[role=row]:eq(".concat(t,") [data-field-name=").concat(c,"] [onclick^=clickOnDemand\\(\\$\\(this]:eq(0)")))||void 0===r?void 0:r.length)>0){var l=$("<div>".concat(clickOnDemand(a,!1),"</div>")).find("a[data-url]:first").data("url")||"";viewNavigationData[c][t]=l;var o=A.indexOf("tstruct.aspx?")>-1;viewNavigationData[c][n]=A.replace("ivtstload.aspx?","tstruct.aspx?")+(o?"&openerIV=".concat(iName,"&isIV=").concat(!isListView):""),"load"==ivHeadRows[c]["@hltype"]&&(viewNavigationData[c][t]=viewNavigationData[c][t].replace("ivtstload.aspx?","tstruct.aspx?")(o?"&openerIV=".concat(iName,"&isIV=").concat(!isListView):""))}else viewNavigationData[c][t]=""}catch(F){viewNavigationData[c][t]=""}}})}break;case"i":if(T)x(),i&&callParentNew("loadFrame()","function"),h="<a href='javascript:void(0)' onclick='javascript:LoadPopPage(\"ivtoivload.aspx?ivname="+o+m+O+'","","","'+w+'");\' data-url="ivtoivload.aspx?ivname='+o+m+O+'" class="handCur l2"  >'+(p?$(l).html():a)+"</a>";else{var P="ivtoivload.aspx?ivname="+o;m=m.replace(/%26/g,"--.--"),x(),i&&callParentNew("loadFrame()","function"),h="<a href='javascript:void(0)' onclick=\"javascript:OpenIviewFromIv('"+P+"','"+m+O+"','"+o+"','"+w+"');\""+k+">"+(p?$(l).html():a)+"</a>"}break;case"p":if(0==o.indexOf("HP"))if(o=o.substr(2),T)x(),h="<a href='javascript:void(0)' onclick='javascript:LoadPopPage(\"htmlPages.aspx?load="+o+m+O+'","","","'+w+'");\' data-url="htmlPages.aspx?load='+o+m+O+'" class="handCur l2"  >'+(p?$(l).html():a)+"</a>";else{P="htmlPages.aspx?load="+o;m=m.replace(/%26/g,"--.--"),x(),h="<a href='javascript:void(0)' onclick=\"javascript:ReloadIframe('"+P+m+O+"');\""+k+">"+(p?$(l).html():a)+"</a>"}}}}if(h.startsWith("<a ")&&$(l).addClass("isHyperlinkUI"),h==a&&p&&!$(l).hasClass("isHyperlinkUI")&&($(l).find("input:checkbox").prop("disabled",!0),h=$(l).html()),!i)return h;try{var M=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));localStorage["drilldownScrollInfo-"+M]=JSON.stringify(_objectSpread(_objectSpread({},JSON.parse(localStorage["drilldownScrollInfo-"+M]||"{}")),{},_defineProperty({},iName,{scroll:Math.round($(".dataTables_scrollBody").scrollTop()),rowIndex:n,params:s.recordid?{recordid:s.recordid}:$.isEmptyObject(v)?s:v})))}catch(F){}$(h).click()}function applyConditionalFormatting(e){var t=e.td,i=e.rowData,a=e.colID,n=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r="";if(i[getPropertyAccess("axp__font")]&&i[getPropertyAccess("axp__font")].split("~").forEach(function(e,t){if(e.startsWith(a+",")){var i=e.split(",");r+=i.reduce(function(e,t,i){switch(i){case 1:e+="fontname=".concat(t,",");break;case 2:e+="fontsize=".concat(t,",fontstyle=");break;case 3:e+="t"==t?"b":"";break;case 4:e+="t"==t?"i":"";break;case 5:e+="t"==t?"u":"";break;case 6:e+="t"==t?"s":"";break;case 7:e+=",fontcolor=".concat(t)}return e},"")}}),i[getPropertyAccess("axp__color")]&&i[getPropertyAccess("axp__color")].split("~").forEach(function(e,t){if(e.startsWith(a+",")){var i="",n=e.split(",");(i=(color=n[1])&&0==n[1].indexOf("$")&&9==color.length?"#"+[color[7],color[8],color[5],color[6],color[3],color[4]].join(""):n[1])&&(r&&(r+=","),r+="backcolor=".concat(i))}else if(isSpecialRow&&e.startsWith("$")){var l="";(l=0==e.indexOf("$")&&9==e.length?"#"+[e[7],e[8],e[5],e[6],e[3],e[4]].join("").toUpperCase():e)&&(r+=",fontcolor=".concat(l))}}),r&&n){var l=$(t);l.children().length&&SetAxFontCondition(l.children(),r),SetAxFontCondition(l,r)}return r}function getParamsValueArray(){var e=$("#hdnparamValues").val(),t=[];return"string"==typeof e&&e.replace(//g,"").split("").forEach(function(e,i){if(e){var a=e.split("~");try{$("#".concat(CheckSpecialCharsInStr(a[0]))).hasClass("multiFldChk")&&_.isEqual(_.sortBy(_toConsumableArray(new Set(a[1].toString().split("&grave;"))).filter(function(e){return""!=e})),_.sortBy(_toConsumableArray(new Set($("#".concat(CheckSpecialCharsInStr(a[0]))).data("valuelist").split($("#".concat(CheckSpecialCharsInStr(a[0]))).data("separator")))).filter(function(e){return""!=e})))&&(a[1]="ALL")}catch(n){}t[CheckSpecialCharsInStr(a[0])]=CheckSpecialCharsInStr(a[1].toString()).replace(/&amp;grave;/g,"~")}}),t}function setSmartViewHeight(){var e=0;try{$(".dataTables_scrollFoot").length&&(e=$(".dataTables_scrollFoot")[0].offsetHeight)}catch(l){}var t=$(".iviewTableWrapper ").outerHeight(!0)-$(".iviewTableWrapper ").height(),i=0;try{$(".ivcaptions").length&&(i=$(".ivcaptions").toArray().reduce(function(e,t){return e+$(t).outerHeight(!0)},0))}catch(l){}var a=0;try{$(".pageInformationNew").length&&(a=$(".pageInformationNew").outerHeight(!0)+$(".pageInformationNew").next().outerHeight(!0))}catch(l){}var n=0;try{$("#viewTabs").length&&(n=$("#viewTabs").outerHeight(!0))}catch(l){}var r=Math.round($("#breadcrumb-panel").outerHeight(!0)+$("#ivContainer").outerHeight(!0)+$(".iviewPreTableCustom").outerHeight(!0)+$(".iviewPostTableCustom").outerHeight(!0)+$(".dataTables_scrollHead").outerHeight(!0)+e+i+a+n+t);requestJSON&&"old"!=iviewButtonStyle||$("#ivContainer").outerHeight(!0)||(r-=14),$(".dataTables_scrollBody").height()>r?$(".dataTables_scrollBody").css({"max-height":"calc(100vh - ".concat(r,"px)"),height:"calc(100vh - ".concat(r,"px)")}):$(".dataTables_scrollBody").css({height:"calc(100vh - ".concat(r,"px)"),"max-height":"calc(100vh - ".concat(r,"px)")});try{lazyBinding&&$(".dataTables_scrollBody table + div").height($(".dataTables_scrollBody tbody").height()/$(".dataTables_scrollBody tbody tr").length*($(".dataTables_scrollBody tbody tr").length+(checkNextDBRowsExist?len=(ivDatas.length-$(".dataTables_scrollBody tbody tr").length)/4>1?len:1:0)))}catch(l){}}function ivirMoreFilters(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;$("#newViewTabId span.customError").remove();var t=ivirDataTableApi.columns(),i=t[0].length,a="",n=$("#newViewTabId .filter-body-cont").parent();return 1==n.length?(n.find(".filter-body-cont").attr("data-pillindex",e).data("pillindex",e),a=n.detach(),initAdvFilters=!1):(initAdvFilters=!0,i>0?(a+='<div class="filter-bodyAndFooter-cont">'+'<input type="text" maxlength="20" id="advSearchName" class="form-control fldNme '.concat($("#newViewTabId").is(":visible")||isOpenSmartStepper?"d-none":"",'" value="').concat($("#newViewTabId").is(":visible")||isOpenSmartStepper?"a":"",'" placeholder="').concat(callParentNew("lcm")[417],'"/>')+'<div class="filter-body-cont" data-pillindex="'.concat(e,'">')+'<table class="gridDataFilter table table-borderless w-100"><tbody>',t.every(function(e){if(-1==hiddenColumnIndex.indexOf(e)){var t=$(this.header()).text().trim(),i=$(this.header()).attr("id").replace("GridView1_ctl01_","");if(""!=i&&"rowno"!=i){var n=ivirColumnTypeObj[i];a+='<tr data-coltype="'.concat(n,'" data-field="').concat(i,'" data-index="').concat(e,'"><td><label class="form-label col-form-label pb-1 fw-boldest">').concat(t,'</label></td><td class="d-flex col-12">').concat(getInnerAdvFilter(i,n,e),"</td></tr>")}}}),a+='</tbody></table></div><div class="filter-footer-cont d-none"><div class="">'+'<button id="resetMoreFilters" class="coldbtn btn handCursor allow-enter-key lastFocusable" onclick="resetMoreFilters();" title="'.concat(callParentNew("lcm")[444],'">').concat(callParentNew("lcm")[444],"</button>")+'</div><div class="pull-right" id="filterBtn">'+'<input type="button" name="btnFilterApply" value="'.concat(btnFilterApplyVal,'" onclick="" id="btnFilterApply" title="').concat(btnFilterApplyVal,'" class="normalbtn btn handCursor allow-enter-key"/>')+'<input type="button" name="btnFilter" value="'.concat(btnFilterApplyEditVal,'" onclick="" id="btnFilter" title="').concat(btnFilterApplyEditVal,'" class="hotbtn btn handCursor allow-enter-key" />')+"</div></div></div>"):a+="No Columns to filter."),a}function getInnerAdvFilter(e,t,i){var a="";switch(t){case"c":a+='<div class="input-group px-2"><select id="'.concat(e.replace(/ /g,"_").toLowerCase(),'Filter" class="moreFiltersInput characterFilter form-select" type="text" data-field="').concat(e,'" data-index="').concat(i,'" multiple="multiple"></select></div>');break;case"n":a+='<div class="input-group px-2"><input id="'.concat(e.replace(/ /g,"_").toLowerCase(),'Filter1" class="moreFiltersInput numericFilter form-control" type="number" placeholder="').concat(callParentNew("lcm")[427],'" data-field="').concat(e,'" data-index="').concat(i,'" /></div><div class="input-group px-2"><input id="').concat(e.replace(/ /g,"_").toLowerCase(),'Filter2" class="moreFiltersInput numericFilter form-control" type="number" placeholder="').concat(callParentNew("lcm")[428],'" data-field="').concat(e,'" data-index="').concat(i,'" /></div>');break;case"d":a+='<div class="input-group px-2"><select id="'.concat(e.replace(/ /g,"_").toLowerCase(),'Options" class="moreFiltersInput dateFilter form-select stepperSelect" type="text" data-field="').concat(e,'" data-index="').concat(i,'">').concat(dateOptions.map(function(e,t){return'<option value="'.concat(e.replace(/ /g,"_").toLowerCase(),'Option">').concat(dateOptionsCaption[t],"</option>")}).join(""),'</select></div><div class="input-group px-2"><input id="').concat(e.replace(/ /g,"_").toLowerCase(),'Filter1" class="moreFiltersInput dateFilter date form-control" type="text" placeholder="').concat(callParentNew("lcm")[427],'" data-field="').concat(e,'" data-index="').concat(i,'" data-input/><span class="input-group-text" data-toggle><span class="material-icons material-icons-style cursor-pointer fs-4">calendar_today</span></span></div><div class="input-group px-2"><input id="').concat(e.replace(/ /g,"_").toLowerCase(),'Filter2" class="moreFiltersInput dateFilter date form-control" type="text" placeholder="').concat(callParentNew("lcm")[428],'" data-field="').concat(e,'" data-index="').concat(i,'" data-input/><span class="input-group-text" data-toggle><span class="material-icons material-icons-style cursor-pointer fs-4">calendar_today</span></span></div>');break;case"t":a+="Time"}return a}function initMoreFiltersAddOns(){var e=$('[data-dropdown-value="moreFilters"]').attr("data-filter-type"),t=$("#newViewTabId .filter-body-cont").parent().find(".filter-body-cont").data("pillindex");openFilters||"filter"!=e&&-1!=t&&e!=undefined||resetMoreFilters(),($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&"undefined"==typeof ivirMainObj.filter&&void 0!==t&&(t=-1),initAdvFilters&&($(".moreFiltersInput.characterFilter").each(function(){var e=_toConsumableArray(new Set(ivirDataTableApi.cells(ivirDataTableApi.rows(":not(.specialRow)").nodes(),parseInt($(this).data("index"),10)).data().toArray().map(function(e){return $($.parseHTML(e)).text()})));e.indexOf("")>-1&&e.splice(e.indexOf(""),1);var t=$.map(e,function(e,t){return{id:e,text:e}});$(this).select2({allowClear:!0,data:t,dropdownParent:document.getElementById("newViewTabId"),placeholder:appGlobalVarsObject.lcm[441],tags:!0,tokenSeparators:["`"]}).on("select2:select",function(e){})}),AddDatePicker("newViewTabId")),-1!=t?(pushSearchStringtoFilters(ivirMainObj.filter[t].data,"JSON"),$("#advSearchName").val(ivirMainObj.filter[t].n),$("#btnFilterApply").val(btnFilterApplyEditVal),$("#btnFilter").hide()):($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&ivirMainObj.filter&&ivirMainObj.filter.length>0?(pushSearchStringtoFilters(ivirMainObj.filter[0].data,"JSON"),$("#advSearchName").val(ivirMainObj.filter[0].n),$("#btnFilterApply").val(btnFilterApplyEditVal),$("#btnFilter").hide()):($("#btnFilterApply").val(btnFilterApplyVal),$("#btnFilter").show()),openFilters&&(openFilters=!1,pushSearchStringtoFilters($("#myFiltersPillInfo").data("filterJsonObj"),"JSON")),$("#resetMoreFilters").show(),$("#btnFilter").show(),($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&($("#resetMoreFilters").hide(),$("#btnFilter").hide()),ivirbindEvents("filter")}function pushSearchStringtoInput(){var e=$("#ivInSearchInput");e.val(generateSearchString()),e.trigger("keyup")}function generateSearchString(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"string",t="",i={};return $("tr[data-coltype]").each(function(){switch($(this).data("coltype")){case"c":var e=$(this).find(".moreFiltersInput.characterFilter:nth(0)"),a=e.select2("data").map(function(e){return e.text}).join("`");""!=a&&(t+="".concat(e.data("field"),":=>").concat(a,":::"),i["".concat(e.data("field"))]=a);break;case"n":var n=0,r=0,l=$(this).find(".moreFiltersInput.numericFilter:nth(0)"),o=$(this).find(".moreFiltersInput.numericFilter:nth(1)");if(""!=l.val()||""!=o.val()){var s=[];try{s=generateUniqueColumnVals($(this).data("coltype"),c+":name"),""==l.val()&&l.val(Math.min.apply(Math,_toConsumableArray(s))||n),""==o.val()&&o.val(Math.max.apply(Math,_toConsumableArray(s))||r)}catch(p){}}n=parseFloat(l.val())||n,r=parseFloat(o.val())||r,0==n&&0==r||(t+="".concat(l.data("field"),":=><=").concat(n,"=><=").concat(r,"=>:::"),i["".concat(l.data("field"))]={},i["".concat(l.data("field"))].min=n,i["".concat(l.data("field"))].max=r);break;case"d":n="",r="",l=$(this).find("input.moreFiltersInput.dateFilter:nth(0)"),o=$(this).find("input.moreFiltersInput.dateFilter:nth(1)");if(""!=l.val()||""!=o.val()){s=[];try{var c=getPropertyAccess(l.data("field"));s=generateUniqueColumnVals($(this).data("coltype"),c+":name"),""==l.val()&&l.datepicker("setDate",new Date(Math.min.apply(Math,_toConsumableArray(s))||n)),""==o.val()&&o.datepicker("setDate",new Date(Math.max.apply(Math,_toConsumableArray(s))||r))}catch(p){}}n=l.val()||n,r=o.val()||r;var d=$(this).find("select.moreFiltersInput.dateFilter");"customOption"!=d.val()?(t+="".concat(l.data("field"),":=>").concat(d.val(),":::"),i["".concat(l.data("field"))]=d.val()):""==n&&""==r||(t+="".concat(l.data("field"),":=><=").concat(n,"=><=").concat(r,"=>:::"),i["".concat(l.data("field"))]={},i["".concat(l.data("field"))].min=n,i["".concat(l.data("field"))].max=r)}}),t=t.endsWith(":::")?t.substr(0,t.length-3):t,"string"==e?t:"JSON"==e?i:""}function pushSearchStringtoFilters(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string",i=$("#ivInSearchInput"),a="string"==t?i.val().split(":::").sort():Object.keys(e);$(a).each(function(i,a){if("string"==t)var n=(a=a.trim()).split(":=>"),r=n[0],l=n[1];else l="string"==typeof e[r=a]?e[r].trim():e[r];$("tr[data-field]").filterByData("field",r).each(function(e,t){if($(t).data("field")==r)switch($(t).data("coltype")){case"c":var i=$(t).find(".moreFiltersInput.characterFilter:nth(0)");l=l.split("`"),requestJSON,i.val(l).trigger("change");break;case"n":var a=$(this).find("input.moreFiltersInput.numericFilter:nth(0)"),n=$(this).find("input.moreFiltersInput.numericFilter:nth(1)");if("object"==_typeof(l))a.val(l.min),n.val(l.max);else{var o=l.substr(2,l.length-4).split("=><=");a.val(o[0]),n.val(o[1])}break;case"d":a=$(this).find("input.moreFiltersInput.dateFilter:nth(0)"),n=$(this).find("input.moreFiltersInput.dateFilter:nth(1)");var s=$(this).find("select.moreFiltersInput.dateFilter");if("object"==_typeof(l))a.val(l.min),n.val(l.max),s.val("customOption");else if(l.indexOf("=><=")>-1){o=l.substr(2,l.length-4).split("=><=");a.val(o[0]),n.val(o[1]),s.val("customOption")}else s.val(l);"customOption"!=s.val()&&s.trigger("change")}})})}function resetMoreFilters(){$("input.moreFiltersInput").val(""),$("select.moreFiltersInput.characterFilter").each(function(){$(this).val("").trigger("change")}),$("select.moreFiltersInput.dateFilter option:first-child").prop("selected",!0),$("select.moreFiltersInput.dateFilter").trigger("change"),$("#btnFilterApply").val(btnFilterApplyVal),$("#btnFilter").show()}function checkFroNegativeValue(e){return e&&"("===(e=e.trim()).substr(0,1)&&")"===e.substr(-1,1)&&(e=e.substring(1,e.length-1),e=-parseInt(e)),e}function createMainEventsOnGrid(){$(".dataTables_scrollHead thead th").off("contextmenu"),$(".dataTables_scrollHead thead th").on("contextmenu",function(e){if(3==e.which){e.preventDefault();var t=$(e.target).find(".rightClickMenuIcn");createRightClick(e,ivirDataTableApi.column(t.parents("th")).index())}}),$(".dataTables_scrollHead thead th .rightClickMenuIcn").off("click"),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").off("click"),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);createRightClick(e,ivirDataTableApi.fixedColumns().cellIndex(t.parents("th")).column)}),$(".dataTables_scrollHead thead th .rightClickMenuIcn").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);createRightClick(e,ivirDataTableApi.column(t.parents("th")).index())}),$(".dataTables_scrollHead thead th .rightClickMenuIcn").off("keydown"),$(".dataTables_scrollHead thead th .rightClickMenuIcn").on("keydown",function(e){if(32==(e.keyCode||e.which)){e.preventDefault();var t=$(this),i=(e=t.offset(),{});i.pageX=e.left,i.pageY=e.top,createRightClick(i,ivirDataTableApi.column(t.parents("th")).index())}}),$(ivirTable).on("draw.dt",function(){$("#divModalAdvancedFilters").is(":visible")&&$("#btnModalClose").click()})}function getAllNumericColumns(){numericColumns=[],$(ivirTable+" thead tr:last th").each(function(e,t){headerCaption=$(this).text().trim(),headerName=$(this).attr("id").replace("GridView1_ctl01_",""),"n"==ivirColumnTypeObj[headerName]&&numericColumns.push(e)})}function freezeColumn(e){if(e+=1,fixedColumnsObj&&e==fixedColumnsObj.s.iLeftColumns)return fixedColumnsObj="",allGrandTotal&&allGrandTotal.length>0?createIvirDataTable("clear","","",allGrandTotal):createIvirDataTable("clear"),!1;$(".rightClickMenu li.freeze i").not("#rightClickMenu"+(e-1)+" li i").removeClass("icon icon-arrows-check"),""!=fixedColumnsObj?(fixedColumnsObj.s.iLeftColumns=e,fixedColumnsObj.fnRedrawLayout()):fixedColumnsObj=new $.fn.dataTable.FixedColumns(ivirDataTableApi,{iLeftColumns:e}),$(".DTFC_LeftBodyWrapper .ivirCustomHighlight,.DTFC_LeftBodyWrapper .ivirCustomHighlightCell").removeClass("ivirCustomHighlight").css({"background-color":"",color:""}),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").off("click"),$(".DTFC_LeftHeadWrapper thead th .rightClickMenuIcn").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);createRightClick(e,ivirDataTableApi.fixedColumns().cellIndex(t.parents("th")).column)}),$(".DTFC_LeftHeadWrapper thead th").off("contextmenu"),$(".DTFC_LeftHeadWrapper thead th").on("contextmenu",function(e){3==e.which&&(e.preventDefault(),$(e.target).find(".rightClickMenuIcn").click())})}function colAscDsc(e,t){ivirDatatable.fnSort([t,e]),"asc"==e?$("#rightClickMenu"+t+" li.desc i").removeClass("icon-arrows-check"):$("#rightClickMenu"+t+" li.asc i").removeClass("icon-arrows-check")}function toggleGrandTotal(e){if($("#rightClickMenu"+e+" li.columnGrndTotal i").hasClass("icon-arrows-check")){var t=allGrandTotal.indexOf(e);allGrandTotal.splice(t,1)}else-1===$.inArray(e,allGrandTotal)&&allGrandTotal.push(e);""===groupingCol?createIvirDataTable("clear","","",allGrandTotal):createIvirDataTable("groupApply",$("[id^='grouppillCB']:checked").data("index"),"",allGrandTotal)}function createRightClick(e,t){if(void 0===t||"0"==t)return!1;var i=$("#rightClickMenu"+t);if(0==i.length){var a='<div class="menu rightClickMenu" id="rightClickMenu'+t+'">';a+='<ul class="dropdown-menu">',t!=ivirDataTableApi.columns()[0].length-1&&(a+='<li class="dropdown-item freeze" onclick="freezeColumn('+t+')">Freeze Column<span class="material-icons">check_box_outline_blank</span></li>'),a+='<li class="dropdown-item asc" onclick="colAscDsc(\'asc\','+t+')">Ascending<span class="material-icons">check_box_outline_blank</span></li>',a+='<li class="dropdown-item desc" onclick="colAscDsc(\'desc\','+t+')">Descending<span class="material-icons">check_box_outline_blank</span></li>';$(ivirDataTableApi.columns(t).header()).text().trim();var n=$(ivirDataTableApi.columns(t).header()).attr("id").replace("GridView1_ctl01_","");if("n"==ivirColumnTypeObj[n])0!=$.grep(ivDatas,function(e){return"gtot"==e.axrowtype||"stot"==e.axrowtype}).length||(a+='<li class="columnGrndTotal" onclick="toggleGrandTotal('+t+')">'+(checkNextDBRowsExist?"Running":"Grand")+' Total<i class="fa  ckbox" aria-hidden="true"></i></li>');a+="</ul>",a+="</div>",$("body").append(a),i=$("#rightClickMenu"+t)}if(i.is(":visible")&&i.data("index")==t)i.hide();else{""!=groupingCol&&i.find("li.freeze").addClass("d-none");var r=getTheOrderOfCol(t);"empty"!=r&&(i.find("li.asc i,li.desc i").removeClass("icon-arrows-check"),"asc"==r?i.find("li.asc i").addClass("icon-arrows-check"):i.find("li.desc i").addClass("icon-arrows-check")),-1!==$.inArray(t,allGrandTotal)?i.find("li.columnGrndTotal i").addClass("icon-arrows-check"):i.find("li.columnGrndTotal i").removeClass("icon-arrows-check"),$(".rightClickMenu").hide(),i.data("index",t);var l=e.pageX,o=e.pageY;i.css({top:o,left:l});var s=i.width(),c=i.height(),d=$(window).width(),p=$(window).height(),h=Math.round($(window).scrollTop());l+s>d&&i.css({left:l-s}),o+c>p+h&&i.css({top:o-c}),i.show(),$(document).unbind("keydown.upDownEvents"),highlightAndBindUpDown(i,t,".rightClickMenu ul li")}}function highlightAndBindUpDown(e,t,i){var a=e.find("ul li").not(".subHeader"),n=a;if(n.siblings().removeClass("highlightOption"),".js-dropdown ul li"===i){var r=!0,l=e.find(".js-dropdown__input").val().toLowerCase();n.each(function(e,t){var i=$(t).data("dropdown-value");if(i=i.toLowerCase(),l===i)return $(this).addClass("highlightOption"),n=$(this),r=!1,!1}),r&&(n.first().addClass("highlightOption"),n=n.first()),a.off("mouseover.drpListHover"),a.on("mouseover.drpListHover",function(){$(".highlightOption").removeClass("highlightOption"),n=$(this),$(this).addClass("highlightOption")})}else n.first().addClass("highlightOption"),n=n.first();$(document).unbind("keydown.upDownEvents"),$(document).bind("keydown.upDownEvents",i,function(e){switch(e.which){case 38:n.is(":first-child")||1===n.index()&&1===n.prev(".subHeader").length||(e.preventDefault(),n.hasClass("highlightOption")&&(n.removeClass("highlightOption"),(n=n.prevAll().not(".subHeader").first()).addClass("highlightOption")));break;case 13:case 32:if(n.hasClass("highlightOption"))if(n.hasClass("desc"))colAscDsc("desc",t);else if(n.hasClass("asc"))colAscDsc("asc",t);else if(n.hasClass("freeze"))freezeColumn(t);else if(n.hasClass("columnGrndTotal"))toggleGrandTotal(t);else if(n.hasClass("dropDownButton__item")){var i=n,a=i.parents(".js-dropdown");a.find(".js-dropdown__input").data("index",i.data("index")).val(i.data("dropdown-value")).change(),a.hasClass("ivirActionDrpDwn")?a.find(".js-dropdown__current").text("Options"):a.find(".js-dropdown__current").attr("title","Search "+i.text()).text(i.text()),a.removeClass("is-open"),$(document).unbind("keydown.upDownEvents"),e.preventDefault(),e.stopPropagation()}break;case 40:n.is(":last-child")||(e.preventDefault(),n.hasClass("highlightOption")&&(n.removeClass("highlightOption"),(n=n.nextAll().not(".subHeader").first()).addClass("highlightOption")));break;case 9:n.parents(".js-dropdown").hasClass("is-open")&&(n.parents(".js-dropdown").removeClass("is-open"),$(document).unbind("keydown.upDownEvents"));break;default:return}})}function getTheOrderOfCol(e){var t=ivirDataTableApi.order(),i=t.length,a="empty";if(i>0)for(var n=0;n<i;n++){var r=t[n];if(r[0]==e)return a=r[1]}return a}function ivirInitailCheck(){ivirDataTableApi.row(0).every(function(e,t,i){for(var a=this.data(),n=0;n<a.length;n++){/<a[^>]*>([\s\S]*?)/g.test("object"==_typeof(a[n])&&null!=a[n]?a[n].display:null!=a[n]?a[n]:"")&&(initialChkup.isAnchor=n)}})}function highlightBindEvents(){$(document).on("focusout","#ivirbgColorValue",function(){var e=$(this).val(),t=tinycolor(e);t.isValid()&&$("#ivirbgColor").spectrum("set",t)}),$(document).on("focusout","#ivirtxtColorValue",function(){var e=$(this).val(),t=tinycolor(e);t.isValid()&&$("#ivirtxtColor").spectrum("set",t)})}function highlightUnBindEvents(){$(document).off("focusout","#ivirbgColorValue"),$(document).off("focusout","#ivirtxtColorValue")}function checkDuplicateViewName(){var e=$("#viewCaption").val();return!($("#viewTabs").find("a span[data-caption="+e.replace(/ /g,"\\ ")+"]").length>0)||(ivirCustomErrMsg($("#viewCaption"),errorMessages.duplicateFld.replace("{0}","View")),!1)}function validateViewName(){var e=$("#viewCaption").val();return!!/^[0-9a-zA-Z\_ ]+$/.test(e)||(ivirCustomErrMsg($("#viewCaption"),errorMessages.invalidName),!1)}function highlightTheFirstFld(){for(var e=$(".jconfirm-box-container").find(":focusable"),t=0;t<e.length;t++)if("DIV"!=e[t].nodeName&&"-1"!=e[t].tabIndex)return e[t].focus(),!1}function checkForPillsLength(e){if("group"==e||"highlight"==e||"chart"==e||"filter"==e){var t=ivirMainObj[e];if(maxNoOfPills="chart"!=e?1:5,t&&t.length>=maxNoOfPills){if(maxNoOfPills<1){var i=errorMessages.maxPills.replace(/_type_/g,e);showAlertDialog("warning",i)}return $("#IvirActions").val(""),"chart"!=e&&(maxNoOfPills=5),!0}}}function ivirbindEvents(e){var t=e.toLowerCase();jQuery(document).bind("keyup.cnfrmPopupKU",function(e){}),jQuery(document).bind("keydown.cnfrmPopupKD",function(e){var t='button[tabindex!="-1"],a[tabindex!="-1"],input[tabindex!="-1"],select[tabindex!="-1"],textarea[tabindex!="-1"]';e.shiftKey||9!=e.keyCode?e.shiftKey&&9==e.keyCode?$(document.activeElement)[0]==$(".jconfirm-box").find(t).first()[0]&&(e.preventDefault(),$(".jconfirm-box").find(t).last().focus()):27==e.keyCode&&(e.preventDefault(),$(".jconfirm-box .jconfirm-buttons .coldbtntiny").click()):$(document.activeElement)[0]==$(".jconfirm-buttons button:last")[0]&&(e.preventDefault(),$(".jconfirm-box").find(t).first().focus())}),$("#ivirHighlightWrapper .colorPicker").on("blur.accessColor",function(){$(this).val($($(this).next()).spectrum("get").toHexString())}),$(".dialogInptFld").on("keydown.dlgKD",function(){var e=$(this);e.next().hasClass("customError")&&e.next("span.customError").remove()}),$(".dialogSlctFld").on("change.dlgKD",function(){var e=$(this);e.next().hasClass("customError")&&e.next("span.customError").remove()}),"column"==t?($(document).on("change","#showAllColumns, .showAllColumns",function(e){if(isListView){var t=$(this).parents(".lstColSelWrapper"),i=$(this).data("isgrid");$(this).is(":checked")?t.find(".ivirLabelWrapper input:checkbox:not('.disabled')").prop("checked",!0):(t.find(".ivirLabelWrapper input:checkbox:not('.disabled')").prop("checked",!1),0!==t.find(".ivirLabelWrapper input:checkbox:checked").length||i||t.find(".ivirLabelWrapper input:checkbox:not('.disabled'):first").prop("checked",!0)),i&&$(this).is(":checked")&&$(".lstColSelWrapper").each(function(e,i){!$(i).is(t)&&$(i).find(".showAllColumns").data("isgrid")&&$(i).find("input:checkbox:not('.disabled')").prop("checked",!1)}),$("#selColHypOpts").html($(".lstColSelWrapper").map(function(e,t){return $(t).find(".ivirLabelWrapper input:checkbox:checked").map(function(e,t){return"<option>".concat($(t).data("name"),"</option>")}).toArray().join("")}).toArray().join(""))}else $(this).is(":checked")?$("#ivirshowHideColumnWrapper div.checkbox input:not('.disabled')").prop("checked",!0):($("#ivirshowHideColumnWrapper .customCheckBox:not('.disabled')").prop("checked",!1),0===$("#ivirshowHideColumnWrapper .customCheckBox:checked").length&&$("#ivirshowHideColumnWrapper .customCheckBox:not('.disabled'):first").prop("checked",!0))}),$(document).on("change","#ivirshowHideColumnWrapper .customCheckBox",function(e){if(isListView){var t=$(this).parents(".lstColSelWrapper"),i=t.find(".showAllColumns"),a=i.data("isgrid");$(this).is(":checked")?t.find(".ivirLabelWrapper input:checkbox:not(:checked)").length>0?i.prop("checked",!1):i.prop("checked",!0):(i.prop("checked",!1),0!==t.find(".ivirLabelWrapper input:checkbox:checked").length||a||t.find(".ivirLabelWrapper input:checkbox:not('.disabled'):first").prop("checked",!0)),a&&$(this).is(":checked")&&$(".lstColSelWrapper").each(function(e,i){!$(i).is(t)&&$(i).find(".showAllColumns").data("isgrid")&&$(i).find("input:checkbox:not('.disabled')").prop("checked",!1)}),$("#selColHypOpts").html($(".lstColSelWrapper").map(function(e,t){return $(t).find(".ivirLabelWrapper input:checkbox:checked").map(function(e,t){return"<option>".concat($(t).data("name"),"</option>")}).toArray().join("")}).toArray().join(""))}else $(this).is(":checked")?$(".ivirLabelWrapper input:checkbox:not(:checked)").length>0?$("#showAllColumns").prop("checked",!1):$("#showAllColumns").prop("checked",!0):$("#showAllColumns").prop("checked",!1)})):"sort"==t?($(document).on("click","#ivirSortColumnWrapper .ascDscWrapper button",function(e){var t=$(this),i=$($(this).parent());i.find("button span").removeClass("active"),t.find("span").addClass("active"),i.parent().find('input[type="checkbox"]').prop("checked",!0)}),$(document).on("click","#clearSorting",function(e){$("#ivirSortColumnWrapper .labelSelected").removeClass("labelSelected"),$("#ivirSortColumnWrapper input[type='checkbox']").prop("checked",!1),$("#ivirSortColumnWrapper .ascDscWrapper button span").removeClass("active")}),$(document).on("click",".ivirSortLabel",function(e){var t=$(this).parent(".ivirLabelWrapper");$("#ivirSortColumnWrapper .labelSelected").removeClass("labelSelected"),t.hasClass("labelSelected")?t.removeClass("labelSelected"):t.addClass("labelSelected")}),$(document).on("change",'#ivirSortColumnWrapper input[type="checkbox"]',function(e){$(this).is(":checked")?$(this).parent().find("span.ascDscWrapper").find("button span:first").addClass("active"):$(this).parent().find("span.ascDscWrapper").find("button span").removeClass("active")}),assignKeyDownDrag("ivirSortColumnWrapper")):"highlight"==t?$(document).on("change","#ivirHighlightCol",function(e){var t=$(this).data("lastColType"),i=$(this).find("option:selected").data("type");if("d"==i?$("#ivirHltValue").attr("type","date"):$("#ivirHltValue").attr("type","text"),$(this).data("lastColType",i),t==undefined||t!=i){var a="";"c"==i?(a+="<option value='equalto'>&#61;</option>",a+="<option value='notequalto'>&#33;&#61;</option>",a+="<option value='contains'>contains</option>",a+="<option value='notcontains'>not contains</option>",a+="<option value='regex'>regex</option>"):"n"!=i&&"d"!=i||(a+="<option value='equalto'>&#61;</option>",a+="<option value='notequalto'>&#33;&#61;</option>",a+="<option value='lessthan'>&lt;</option>",a+="<option value='lessthanequalto'>&lt;&#61;</option>",a+="<option value='greaterthan'>&gt;</option>",a+="<option value='greaterthanequalto'>&gt;&#61;</option>"),$("#ivirHighlightCndtn").html(a)}}):"group"==t&&$(document).on("change","#grpColName",function(e){var t,i=$(this);tmpGroupObj={},htmlToShow='<div id="ivirTotalCndtn1" class="ivirTotalCndtn row py-3">',htmlToShow+=getRowGroupingCondtionHtml(),htmlToShow+="</div>",$("#ivirTotalCndtnWrapper").data("cndtns",[1]).attr("data-cndtns","[1]").html(htmlToShow),""===i.val()?$("#ivirTotalCndtnWrapper").hide():($("#ivirTotalCndtnWrapper").show(),tmpGroupObj.groupIndex=$(this).find("option:selected").data("index")),$("select.stepperSelect.totalAggrFunction, select.stepperSelect.totalSource").select2({allowClear:!0,dropdownParent:document.getElementById("newViewTabId"),placeholder:appGlobalVarsObject.lcm[441]}),null===(t=KTApp)||void 0===t||t.initBootstrapTooltips()})}function ivirRemovebindEvents(e){jQuery(document).unbind("keydown.cnfrmPopupKD"),jQuery(document).unbind("keyup.cnfrmPopupKU"),$(".dialogInptFld").off("keydown.dlgKD"),$(".dialogInptFld").off("change.dlgKD");var t=e.toLowerCase();"column"==t?$(document).off("change","#showAllColumns, .showAllColumns"):"sort"==t?($(document).off("click","#ivirSortColumnWrapper .ascDscWrapper button"),$(document).off("click","#clearSorting"),$(document).off("click",".ivirSortLabel"),$(document).off("change",'#ivirSortColumnWrapper input[type="checkbox"]'),$(document).off("keydown.upAndDown")):"highlight"==t?($("#ivirHighlightWrapper .colorPicker").off("blur.accessColor"),$(document).off("change","#ivirHighlightCol")):"group"==t&&$(document).off("change","#grpColName")}function assignKeyDownDrag(e){$(document).on("keydown.upAndDown",function(e){var t=$("#ivirSortColumnWrapper .ivirLabelWrapper.labelSelected");38==e.keyCode?0!=t.index()&&(t.prev().addClass("labelSelected"),t.removeClass("labelSelected")):40==e.keyCode?t.index()!=t.parent().find(".ivirLabelWrapper").last().index()&&(t.next().addClass("labelSelected"),t.removeClass("labelSelected")):32==e.keyCode&&(e.preventDefault(),$("#ivirSortColumnWrapper .ivirLabelWrapper.labelSelected .ascDscWrapper button span:not('.active')").first().click())})}function ivirMoveUpDown(e,t){var i=$("#"+t).find("div.labelSelected");"up"==e?0!=i.index()&&i.insertBefore(i.prev()):"down"==e&&i.index()!=i.parent().find(".ivirLabelWrapper").last().index()&&i.insertAfter(i.next())}function ivirshowHideColumns(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(requestTstructFieldsObj(),isListView){if(0==$("#ivirshowHideColumnWrapper div.checkbox input:checked").length&&0==e.length)return showAlertDialog("warning",errorMessages.columnSelection),!1;if(e=[],$("#ivirshowHideColumnWrapper div.checkbox:visible").length>0){if((e=[]).push({hyperlink:$("#selColHypOpts").val(),dcs:$("#ivirshowHideColumnWrapper div.checkbox:visible input:checked").toArray().reduce(function(e,t,i){return e[$(t).data("dcno")]||(e[$(t).data("dcno")]={},e[$(t).data("dcno")].fields=[],e[$(t).data("dcno")].isGrid=$(t).data("isgridfield")),e[$(t).data("dcno")].fields.push($(t).data("name")),e},{})}),e){var t=_.map(e[0].dcs,function(e){return e.fields}).reduce(function(e,t){return e=[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]).join(",");if($("#hdnLvSelectedCols").val()!=t||$("#hdnLvSelectedHyperlink").val()!=e[0].hyperlink){$("#hdnLvSelectedCols").val(t),$("#hdnLvSelectedHyperlink").val(e[0].hyperlink),$("#hdnLvChangedStructure").val("");var i=$(".viewtabEdit").parents("li a.active").find(".viewtabEdit").data("name")||"main";loadViewName=i,oldLoadViewName&&(oldLoadViewName=""),$("#button1").trigger("click")}}viewLoadedColumns=!1}else e.length>0?viewLoadedColumns=!0:viewLoadedColumns=!1;requestJSON&&(1==e.length&&"!"==e[0]&&(e=[],viewLoadedColumns=!1),e.length>0?ivirMainObj.visibleColumns=e:0==e.length&&delete ivirMainObj.visibleColumns)}else{if(0==$("#ivirshowHideColumnWrapper div.checkbox input:checked").length&&0==e.length)return showAlertDialog("warning",errorMessages.columnSelection),!1;if($("#ivirshowHideColumnWrapper div.checkbox:visible").length>0?(e=[],$(ivirTable).css("width","auto"),$("#ivirshowHideColumnWrapper div.checkbox").each(function(t,i){var a=$(this).find("input");a.is(":checked")?$("#newViewTabId").is(":visible")||isOpenSmartStepper||(ivirVisibleColumns.push(a.data("index")),ivirDataTableApi.column(a.data("index")).visible(!0)):(e.push(FieldName[a.data("index")]),$("#newViewTabId").is(":visible")||isOpenSmartStepper||ivirDataTableApi.column(a.data("index")).visible(!1))}),viewLoadedColumns=!1):e.length>0?(FieldName.forEach(function(t,i){-1==e.indexOf(t)&&-1==hiddenColumnIndex.indexOf(i)?$("#newViewTabId").is(":visible")||isOpenSmartStepper||(ivirVisibleColumns.push(i),ivirDataTableApi.column(i).visible(!0)):$("#newViewTabId").is(":visible")||isOpenSmartStepper||ivirDataTableApi.column(i).visible(!1)}),viewLoadedColumns=!0):viewLoadedColumns=!1,requestJSON&&(1==e.length&&"!"==e[0]&&(e=[],viewLoadedColumns=!1),e.length>0?ivirMainObj.hiddenColumns=e:0==e.length&&delete ivirMainObj.hiddenColumns),!$("#newViewTabId").is(":visible")&&!isOpenSmartStepper){if($(ivirTable).outerWidth()<$(window).width()&&($(ivirTable).css("width","100%"),ivirDatatable.fnAdjustColumnSizing()),$(ivirTable+" tbody tr").css("height","22px"),ivirDataTableApi.fixedColumns().relayout(),createMainEventsOnGrid(),!jQuery.isEmptyObject(pillDependentCols)){for(var a=pillDependentCols.data,n=pillDependentCols.type,r=pillDependentCols.index,l=a.length,o=0;o<l;o++)if(-1===$.inArray(a[o],ivirVisibleColumns))return showAlertDialog("warning",errorMessages.dependentColumns),!1;$("#"+n+"pillCB"+r).prop("checked",!0).attr("checked","checked"),"group"==n?applyThePill("group",r):"chart"==n&&ivirCreateChart(r,!0,!0),pillDependentCols={}}""!=fixedColumnsObj&&$(".DTFC_LeftBodyWrapper .ivirCustomHighlight,.DTFC_LeftBodyWrapper .ivirCustomHighlightCell").removeClass("ivirCustomHighlight").css({"background-color":"",color:""})}}responsiveColumnWidth||setTimeout(function(){forceColumnWidth()},0)}function ivirDesignColumn(){try{ivirMainObj=ivirMainObj||{}}catch(t){}if(ivirMainObj.design=ivColDesignJSON||[],"design"==document.getElementById("IvirActions").value){var e=callParentNew("mainUserName");ivirMainObj.applyTo=$("#viewAplyTo option:selected").val()||e,ivirMainObj.groupName="main",ivirMainObj.caption=ivirMainObj.groupName,ivirMainViewObj.views||(ivirMainViewObj.views={}),ivirMainViewObj.views[ivirMainObj.groupName]=JSON.parse(JSON.stringify(ivirMainObj)),SaveSmartviewJsonToDb("set",JSON.stringify(ivirMainViewObj),ivirMainObj.applyTo,ivirMainObj.groupName)}responsiveColumnWidth||forceColumnWidth()}function ivirSortColumns(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=[];if($("#ivirSortColumnWrapper .checkbox input[type='checkbox']:visible").length>0)e=[],$("#ivirSortColumnWrapper .checkbox input[type='checkbox']").each(function(i,a){if($(this).is(":checked")){i=$(this).data("index");var n=$(this).parent().find("button span.active").data("order"),r=[];r.push(i),r.push(n),t.push(r);var l=[];l.push(FieldName[i]),l.push(n),e.push(l)}}),viewLoadedSort=!1;else if(e.length>0&&"!"!=e[0])t=e.map(function(e){return e[0]=FieldName.indexOf(e[0]),e}),viewLoadedSort=!0;else if(e.length>0&&"!"==e[0]){try{ivirDataTableApi.order.neutral().draw()}catch(i){}viewLoadedSort=!1}else viewLoadedSort=!1;if(requestJSON&&(1==e.length&&"!"==e[0]&&(e=[],viewLoadedColumns=!1),e.length>0&&(ivirMainObj.sorting=e),($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&0==e.length&&delete ivirMainObj.sorting),""!=groupingCol&&t.push([parseInt(groupingCol),"asc"]),$("#newViewTabId").is(":visible")||isOpenSmartStepper)try{$("#newViewsort").val(JSON.stringify(ivirMainObj.sorting))}catch(i){}else ivirDatatable.fnSort(t)}function ivirRowGrouping(e,t){!$("#newViewTabId").is(":visible")&&!isOpenSmartStepper||"undefined"!=typeof ivirMainObj.group&&0!=ivirMainObj.group.length||void 0===e||(e=undefined);var i,a=$("#grpName"),n=$("#grpColName"),r=!1,l=!1;if(""==a.val())return ivirCustomErrMsg(a,errorMessages.emptyField),!1;if(!testRegex("validName",a.val()))return ivirCustomErrMsg(a,errorMessages.invalidName),!1;if(""==n.val())return ivirCustomErrMsg(n,errorMessages.emptySelect),!1;var o=parseInt(n.find("option:selected").data("index"),10);if(""!=$("#ivirTotalCndtn1 .totalAggrFunction").val()){var s=!1;if($("#ivirTotalCndtnWrapper select:enabled").each(function(e,t){if(""==$(this).val())return ivirCustomErrMsg($(this),errorMessages.emptyField),s=!0,!1}),s)return!1;if(""==$("#ivirTotalCndtn1 .totalAggrFunction").val())return ivirCustomErrMsg($("#ivirTotalCndtn1 .totalAggrFunction"),errorMessages.emptyField),!1;if($("#ivirTotalCndtn1 .totalAggrFunction").next("span.customError").remove(),""==$("#ivirTotalCndtn1 .totalSource").val())return ivirCustomErrMsg($("#ivirTotalCndtn1 .totalSource"),errorMessages.emptyField),!1;$("#ivirTotalCndtn1 .totalSource").next("span.customError").remove();for(var c=$("#ivirTotalCndtnWrapper").data("cndtns"),d=[],p=[],h=0;h<c.length;h++){var u=c[h];d.push($("#ivirTotalCndtn"+u+" .totalAggrFunction").val()),d.push($("#ivirTotalCndtn"+u+" .totalSource option:selected").data("index")),d.push($("#ivirTotalCndtn"+u+" .totalSource option:selected").val());var m=$("#ivirTotalCndtn"+u+" .grndTtlCB input").data("index");if($("#ivirTotalCndtn"+u+" .grndTtlCB input").is(":checked"))-1===$.inArray(m,allGrandTotal)&&allGrandTotal.push(m),p.push(m);else{var v=allGrandTotal.indexOf(m);-1!=v&&allGrandTotal.splice(v,1),p.push(-1)}}}$("#newViewTabId").is(":visible")||isOpenSmartStepper||(e===undefined||t)&&createIvirDataTable("group",o,d,allGrandTotal);var b=a.val(),f=o,g=d,w=p;if(e===undefined){if(jQuery.isEmptyObject(ivirMainObj)){var C=ivirMainObj.group=[];l=!0,i=0}else if(ivirMainObj.group===undefined){C=ivirMainObj.group=[];i=0}else{l=!1,(C=ivirMainObj.group).length>=maxNoOfPills&&(r=!0),i=C.length}var y=new Object}else{y=ivirMainObj.group[e];i=e}return r?showAlertDialog("warning",appGlobalVarsObject.lcm[23]):(y.n=b,y.cl=f,y.t=g,y.g=w,$("#newViewTabId").is(":visible")||isOpenSmartStepper?"undefined"!=typeof ivirMainObj.group&&0!=ivirMainObj.group.length||C.push(y):e===undefined?(C.push(y),l||0==$("#ivirFilteredAccordion").length?0==$("#ivirFilteredAccordion").length?createPills("all","first"):($("[id^='grouppillCB']").prop("checked",!1).removeAttr("checked"),createPills("all","last")):$("#ivirFilteredAccordion").length>0&&($("[id^='grouppillCB']").prop("checked",!1).removeAttr("checked"),upateThePills("group",i,b))):(t&&($("[id^='grouppillCB']").prop("checked",!1).removeAttr("checked"),$("#grouppillCB"+e).prop("checked",!0).attr("checked","checked")),$("#grouppillCB"+e).parent().next().find(".ivirCndtnName").attr("title","Edit "+b).text(b))),($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&$("#newViewrowGrouping").val(JSON.stringify(y)),setSmartViewHeight(),!0}function getChartHtml(e){e=e||!1,htmlToShow="",htmlToShow+='<div id="ivirChatWrapper">',htmlToShow+='<div id="ivirChartsRow" class="row">',htmlToShow+='<div class="col-md-3 col-sm-3 text-center d-flex flex-column"><button data-type="pie" title="'+callParentNew("lcm")[419]+'" onclick="ivirShowChart(\'graph \',\'pie\',this)" type="button" class="ivirChartButton btn btn-active-light-primary shadow-sm p-10 mx-10 active"><span class="material-icons material-icons-style material-icons-5tx">pie_chart</span></button><label class="h4 mt-7">'+callParentNew("lcm")[419]+"</label></div>",htmlToShow+='<div class="col-md-3 col-sm-3 text-center d-flex flex-column"><button data-type="column" title="'+callParentNew("lcm")[420]+'" onclick="ivirShowChart(\'graph \',\'column\',this)" type="button" class="ivirChartButton btn shadow-sm p-10 mx-10"><span class="material-icons material-icons-style material-icons-5tx">bar_chart</span></button><label class="h4 mt-7">'+callParentNew("lcm")[420]+"</label></div>",htmlToShow+='<div class="col-md-3 col-sm-3 text-center d-flex flex-column"><button data-type="donut" title="'+callParentNew("lcm")[421]+'" onclick="ivirShowChart(\'graph \',\'donut\',this)" type="button" class="ivirChartButton btn shadow-sm p-10 mx-10"><span class="material-icons material-icons-style material-icons-5tx">donut_large</span></button><label class="h4 mt-7">'+callParentNew("lcm")[421]+"</label></div>",htmlToShow+='<div class="col-md-3 col-sm-3 text-center d-flex flex-column"><button data-type="bar" title="'+callParentNew("lcm")[422]+'" onclick="ivirShowChart(\'graph \',\'bar\',this)" type="button" class="ivirChartButton btn shadow-sm p-10 mx-10"><span class="material-icons material-icons-style material-icons-5tx transform-90 transform-origin-inherit">bar_chart</span></button><label class="h4 mt-7">'+callParentNew("lcm")[422]+"</label></div>",htmlToShow+="</div>",htmlToShow+="<hr />",htmlToShow+='<div id="ivirchartsCndtn">',htmlToShow+=' <div id="ivirgraph" class="row chartCndtnWrapper">',htmlToShow+='<div class="col-md-4 col-sm-12">',htmlToShow+='<label for="ivirChartName" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[413]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[431]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<div class="input-group">',htmlToShow+='<input required type="text" maxlength="20" class="form-control dialogInptFld fldNme" id="ivirChartName">',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='     <div class="col-md-4 col-sm-12">',htmlToShow+='       <label for="ivirChartCol" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[420]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[432]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>';var t,i,a=getAllColumns("",e);return t=a[0],i=a[1],htmlToShow+='<div class="input-group">',htmlToShow+='  <select class="form-select chartSelect dialogSlctFld" id="ivirChartCol">',htmlToShow+='<option value="" data-index="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+=i,htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<div class="col-md-4 col-sm-12">',htmlToShow+='   <label for="ivirChartVal" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[414]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[433]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<div class="input-group">',htmlToShow+='  <select class="form-select chartSelect dialogSlctFld" id="ivirChartVal">',htmlToShow+='<option value="" data-index="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+=t,htmlToShow+="   </select>",htmlToShow+="</div>",htmlToShow+=" </div>",htmlToShow+="</div>",htmlToShow+=" </div>",htmlToShow+=" </div>",htmlToShow}function getGroupHtml(e){e=e||!1;var t="";return t=' <div class="form-group '+($("#newViewTabId").is(":visible")||isOpenSmartStepper?"d-none":"")+'">',t+='<label for="grpName" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[413]+"</label>",t+=' <a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[430]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',t+='<input required type="text" class="form-control fldNme dialogInptFld" maxlength="20" id="grpName" value="'+($("#newViewTabId").is(":visible")||isOpenSmartStepper?"a":"")+'">',t+="</div>",t+='<div class="form-group">',t+='<label for="grpColName" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[420]+"</label>",t+='<a href="javascript:void(0)"  class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[429]+'" ><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',t+='<select class="form-select stepperSelect dialogSlctFld" id="grpColName">',t+='<option value="">'+callParentNew("lcm")[441]+"</option>",t+=getAllColumns(hiddenColumnIndex,!0,"group")[2],t+=" </select>",t+="</div>",t+='<div id="ivirTotalCndtnWrapper" data-cndtns="[1]">',t+='<div id="ivirTotalCndtn1" class="ivirTotalCndtn row py-3">',t+=getRowGroupingCondtionHtml(),t+="</div>",t+="</div>"}function ivirAddTotalCndtn(e){e=parseInt(e,10);var t=!1,i=$("#ivirTotalCndtnWrapper").data("cndtns"),a=i[i.length-1];if(""==$("#ivirTotalCndtn"+a+" .totalAggrFunction").val())return ivirCustomErrMsg($("#ivirTotalCndtn"+a+" .totalAggrFunction"),errorMessages.emptyField),!1;if($("#ivirTotalCndtn"+a+" .totalAggrFunction").next("span.customError").remove(),""==$("#ivirTotalCndtn"+a+" .totalSource").val())return ivirCustomErrMsg($("#ivirTotalCndtn"+a+" .totalSource"),errorMessages.emptyField),!1;$("#ivirTotalCndtn"+a+" .totalSource").next("span.customError").remove(),i.push(e);var n=tmpGroupObj.indexeSelected;n?-1==$.inArray($("#ivirTotalCndtn"+a+" .totalSource option:selected").data("index"),n)&&n.push($("#ivirTotalCndtn"+a+" .totalSource option:selected").data("index")):tmpGroupObj.indexeSelected=[$("#ivirTotalCndtn"+a+" .totalSource option:selected").data("index")],$(".totalAggrFunction").each(function(e,i){"count"==$(this).val()&&(t=!0)});var r='<div id="ivirTotalCndtn'+e+'" class="ivirTotalCndtn row py-3">'+getRowGroupingCondtionHtml()+"</div>",l='<button type="button" title="Delete" onclick="ivirDeleteTotalCndtn('+e+')" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm"><i class="material-icons material-icons-style material-icons-1 ivirDeleteCndtnIcon">remove</i></button>';$("#ivirTotalCndtnWrapper").append(r),$("#ivirTotalCndtn"+e+" .ivirTotalCndtnBtn").show().attr("onclick","ivirAddTotalCndtn("+(e+1)+")"),$("#ivirTotalCndtn"+e+" .grpaddDltBtnWrapper").append(l),$("#ivirTotalCndtn"+e+' label:not(".grndTtlCB"),#ivirTotalCndtn'+e+" .labelP,#ivirTotalCndtn"+e+" a.icon-arrows-question").hide(),$("#ivirTotalCndtn"+e+" .grndTtlCB input").prop("disabled",!0),$("#ivirTotalCndtn"+e+" select").prop("disabled",!1),$("#ivirTotalCndtn"+e+" select").select2({allowClear:!0,dropdownParent:document.getElementById("newViewTabId"),placeholder:appGlobalVarsObject.lcm[441]}),$("#ivirTotalCndtnWrapper").data("cndtns",i).attr("data-cndtns","["+i+"]"),$("#ivirTotalCndtn"+a+" .ivirTotalCndtnBtn").hide(),$("#ivirTotalCndtn"+a+" select").prop("disabled",!0),t&&$("#ivirTotalCndtn"+e+' .totalAggrFunction option[value="count"]').remove()}function ivirDeleteTotalCndtn(e){var t=$("#ivirTotalCndtn"+e+" .totalAggrFunction").val(),i=$("#ivirTotalCndtn"+e+" .totalSource option:selected").data("index"),a=tmpGroupObj.indexeSelected,n=a.indexOf(i);n>=0&&a.splice(n,1),"count"==t&&$(".totalAggrFunction").append('<option value="count">Count</option>');var r=$("#ivirTotalCndtnWrapper").data("cndtns"),l=r.indexOf(e);r.splice(l,1),$("#ivirTotalCndtn"+e+" .totalAggrFunction").is(":disabled")||$("#ivirTotalCndtn"+r[r.length-1]+" .ivirTotalCndtnBtn").show(),$("#ivirTotalCndtn"+e).remove(),1==r.length&&($("#ivirTotalCndtn1 .ivirTotalCndtnBtn").show(),$("#ivirTotalCndtn1 select").prop("disabled",!1));var o=r[r.length-1];if(o>e){var s=$("#ivirTotalCndtn"+o+" .totalAggrFunction"),c=(s.val(),$("#ivirTotalCndtn"+o+" .totalSource")),d=c.val();s.change(),c[0].value=d}$("#ivirTotalCndtnWrapper").data("cndtns",r).attr("data-cndtns","["+r+"]")}function ivirCustomErrMsg(e,t){var i=e.parent().find("label").text();-1!=t.indexOf("_name_")?t=t.replace("_name_",i):t.indexOf(!0)&&(t="Highlight"==i?t.replace("_option_","option"):t.replace("_option_",i.toLowerCase())),$("span.customError").remove(),$('<span class="customError text-danger">'+t+"</span>").insertAfter(e)}function getHighlightHtml(e,t,i){htmlToShow='<div id="ivirHighlightWrapper">',htmlToShow+='<div class="row">',htmlToShow+='<div class="form-group col-md-6 col-sm-6 '+($("#newViewTabId").is(":visible")||isOpenSmartStepper?"d-none":"")+'">',htmlToShow+='<label for="ivirHltName" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[413]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[435]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<input required type="text" maxlength="20" value="'+($("#newViewTabId").is(":visible")||isOpenSmartStepper?"a":"")+'" class="form-control fldNme dialogInptFld" id="ivirHltName">',htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-6 col-sm-6">',htmlToShow+='<label for="ivirHighlightType" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[396]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[434]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<select class="form-select stepperSelect dialogSlctFld" id="ivirHighlightType">',htmlToShow+='<option value="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+='<option value="row">Row</option>',htmlToShow+='<option value="column">Column</option>',htmlToShow+='<option value="cell">Cell</option>',htmlToShow+=" </select>",htmlToShow+=" </div>",htmlToShow+=" </div>",htmlToShow+='<div class="row">',htmlToShow+='<div class="form-group col-md-6 col-sm-6">',htmlToShow+='<label for="ivirbgColor" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[425]+"</label>",htmlToShow+='<a href="javascript:void(0)"  class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[436]+'" ><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<div class="input-group">',htmlToShow+='<input required value="#000000" class="col-md-8 col-sm-8 col-xs-8 form-control colorPicker" id="ivirbgColorValue">',htmlToShow+='<input required type="text" class="col-md-3 col-sm-3 col-xs-3 d-none" id="ivirbgColor"></span>',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-6 col-sm-6">',htmlToShow+='<label for="ivirtxtColor" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[426]+"</label>",htmlToShow+='<a href="javascript:void(0)"  class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[437]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<div class="input-group">',htmlToShow+='<input required value="#000000" class="col-md-8 col-sm-8 col-xs-8 form-control colorPicker" id="ivirtxtColorValue">',htmlToShow+='<input required type="text" class="col-md-3 col-sm-3 col-xs-3 d-none" id="ivirtxtColor"></span>',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+='<legend class="mt-4">'+callParentNew("lcm")[424]+"</legend>",htmlToShow+='<div class="row">',htmlToShow+='<div class="form-group col-md-4 col-sm-4">',htmlToShow+='<label for="ivirHighlightCol" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[420]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[438]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+=' <select class="form-select stepperSelect dialogSlctFld" id="ivirHighlightCol">',htmlToShow+='  <option value="">'+callParentNew("lcm")[441]+"</option>";var a=getAllColumns(hiddenColumnIndex,!0);return htmlToShow+=a[2],htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-4 col-sm-4">',htmlToShow+='<label for="ivirHighlightCndtn" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[424]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[439]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<select class="form-select stepperSelect dialogSlctFld" id="ivirHighlightCndtn">',htmlToShow+='<option value="">'+callParentNew("lcm")[441]+"</option>",htmlToShow+="</select>",htmlToShow+="</div>",htmlToShow+='<div class="form-group col-md-4 col-sm-4">',htmlToShow+='<label for="ivirHltValue" class="form-label col-form-label pb-1 fw-boldest required">'+callParentNew("lcm")[414]+"</label>",htmlToShow+='<a href="javascript:void(0)" class="ms-2 align-middle icon-arrows-question" tabindex="-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="'+callParentNew("lcm")[440]+'"><span class="material-icons material-icons-style material-icons-3">help_outline</span></a>',htmlToShow+='<input required type="" maxlength="255" class="form-control dialogInptFld" id="ivirHltValue">',htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow+="</div>",htmlToShow}function getAllColumns(e,t,i){for(var a=ivirDataTableApi.columns(),n="",r="",l="",o=0;o<a[0].length;o++)if("true"!=isChkBox||0!=o){var s=$(ivirDataTableApi.columns(a[0][o]).header()).text().trim(),c=getColumnName(ivirDataTableApi.context[0].aoColumns[o].mData),d=ivirColumnTypeObj[c];(t&&-1===$.inArray(o,e)||!t&&-1===$.inArray(o,e)&&(0===ivirVisibleColumns.length||"group"===i&&groupingCol===o||-1!==$.inArray(o,ivirVisibleColumns)))&&(l+=" <option data-index="+o+' value="'+c+'" data-type="'+d+'">'+s+"</option>","n"==d?n+=" <option data-index="+o+' value="'+c+'" data-type="'+d+'">'+s+"</option>":r+=" <option data-index="+o+' value="'+c+'" data-type="'+d+'">'+s+"</option>")}return[n,r,l]}function ivirHighlightRow(e,t,i){($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&"undefined"==typeof ivirMainObj.highlight&&void 0!==e&&(e=undefined),i=i||!1;var a=[],n=[],r=[],l=ivirDataTableApi.rows(),o=l.data();if(!1===i)var s=$("#ivirHltName").val(),c=$("#ivirHighlightType").val(),d=$("#ivirbgColorValue").val(),p=$("#ivirtxtColorValue").val(),h=$("#ivirHighlightCol").find("option:selected").data("index"),u=getPropertyAccess($("#ivirHighlightCol").find("option:selected").val()),m=$("#ivirHighlightCndtn").val(),v=$("#ivirHltValue").val(),b=$("#ivirHighlightCol").find("option:selected").data("type");else{var f=ivirMainObj.highlight[e];s=f.n,c=f.t,d=f.bc,p=f.tc,h=f.cl,u=getPropertyAccess(ivirDataTableApi.context[0].aoColumns[h].mData),m=f.cn,v=f.v,b=f.colType}var g=h,w=!1,C=!1,y="";if("regex"==m){var x=v.replace(/\\/g,"\\");x=new RegExp(x,"i")}if(e===undefined){if(jQuery.isEmptyObject(ivirMainObj)){var k=ivirMainObj.highlight=[];w=!0,y=0}else if(ivirMainObj.highlight===undefined){k=ivirMainObj.highlight=[];y=0}else{w=!1,(k=ivirMainObj.highlight).length>=maxNoOfPills&&(C=!0),y=k.length}var T=new Object}else{if($("#newViewTabId").is(":visible")||isOpenSmartStepper)if(($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&"undefined"==typeof ivirMainObj.highlight)T=new Object;else T=ivirMainObj.highlight[e];else{clearIvirHighlight(e);var T=new Object}y=e}if(C?showAlertDialog("warning",appGlobalVarsObject.lcm[23]):(T.n=s,T.t=c,T.bc=d,T.tc=p,T.cl=h,T.cn=m,T.v=v,T.colType=b,e===undefined?(k.push(T),$("#newViewTabId").is(":visible")||isOpenSmartStepper||(w||0==$("#ivirFilteredAccordion").length?0==$("#ivirFilteredAccordion").length?createPills("all","first"):createPills("all","last"):$("#ivirFilteredAccordion").length>0&&upateThePills("highlight",y,s))):$("#newViewTabId").is(":visible")||isOpenSmartStepper||(t&&$("#highlightpillCB"+e).prop("checked",!0).attr("checked","checked"),$("#highlightpillCB"+e).parent().next().find(".ivirCndtnName").attr("title","Edit "+s).text(s))),$("#newViewTabId").is(":visible")||isOpenSmartStepper)ivirMainObj.highlight&&ivirMainObj.highlight.length>0&&$("#newViewhighlight").val(JSON.stringify(ivirMainObj.highlight[0]));else if(e===undefined||t){for(var O=function(e,t){-1==jQuery.inArray(e,a)&&a.push(e),-1==jQuery.inArray(t,r)&&r.push(t),n.push([e,t])},S=0;S<l[0].length;S++){var D=o[S];if(isNaN(parseInt(u))?graphCol=D[u]:D=D[Object.keys(D)[u]],D="object"==_typeof(D[u])&&null!=D[u]?D[u].display:null!=D[u]?D[u]:"",anchorRegexPatter.test(D)&&(D=$(D).text()),D=D.replace(",",""),v=v.replace(",",""),"equalto"==m)if("d"===b)(j=moment(v,"YYYY-MM-DD")).format("DD/MM/YYYY")===("object"==_typeof(o[S][u])&&null!=o[S][u]?o[S][u].display:null!=o[S][u]?o[S][u]:"")&&O(l[0][S],u);else v.toLowerCase()==D.toLowerCase()&&O(l[0][S],g);else if("contains"==m)-1!=D.toLowerCase().indexOf(v.toLowerCase())&&O(l[0][S],g);else if("notcontains"==m)-1==D.toLowerCase().indexOf(v.toLowerCase())&&O(l[0][S],g);else if("notequalto"==m){if("d"===b)(j=moment(v,"YYYY-MM-DD")).format("DD/MM/YYYY")!==D&&O(l[0][S],g);else v.toLowerCase()!=D.toLowerCase()&&O(l[0][S],g)}else if("lessthan"==m)if("d"===b){var j=moment(v,"YYYY-MM-DD");moment(D,"DD/MM/YYYY")<j&&O(l[0][S],g)}else parseInt(D,10)<parseInt(v,10)&&O(l[0][S],g);else if("lessthanequalto"==m)if("d"===b){j=moment(v,"YYYY-MM-DD");moment(D,"DD/MM/YYYY")<=j&&O(l[0][S],g)}else parseInt(D,10)<=parseInt(v,10)&&O(l[0][S],g);else if("greaterthan"==m)if("d"===b){j=moment(v,"YYYY-MM-DD");moment(D,"DD/MM/YYYY")>j&&O(l[0][S],g)}else parseInt(D,10)>parseInt(v,10)&&O(l[0][S],g);else if("greaterthanequalto"==m)if("d"===b){j=moment(v,"YYYY-MM-DD");moment(D,"DD/MM/YYYY")>=j&&O(l[0][S],g)}else parseInt(D,10)>=parseInt(v,10)&&O(l[0][S],g);else"regex"==m&&x.test(D)&&O(l[0][S],g)}if("row"==c)for(var A=0;A<a.length;A++)$(ivirDataTableApi.row(a[A]).node()).addClass("ivirCustomHighlight highlight"+y).css({"background-color":d,color:p});else if("column"==c){var N=ivirDataTableApi.column(h).nodes();if(-1!==jQuery.inArray(h,r)){$(ivirDataTableApi.columns(h).header()).addClass("ivirCustomHighlight highlight"+y);for(S=0;S<N.length;S++)$(N[S]).addClass("ivirCustomHighlightCell").css({"background-color":d,color:p})}}else if("cell"==c)for(S=0;S<n.length;S++)$(ivirDataTableApi.cell(n[S][0],n[S][1]).node()).addClass("ivirCustomHighlight highlight"+y).css({"background-color":d,color:p})}return setSmartViewHeight(),!0}function clearIvirHighlight(e){if("all"==e){if(ivirDataTableApi.columns(".ivirCustomHighlight")[0].length>0){var t=(n=ivirDataTableApi.columns(".ivirCustomHighlight")).nodes();$(n).removeClass("ivirCustomHighlight").css({"background-color":"inherit",color:"inherit"});for(var i=0;i<t.length;i++)$(t[i]).removeClass("ivirCustomHighlightCell").css({"background-color":"inherit",color:"inherit"})}ivirDataTableApi.cells(".ivirCustomHighlight")[0].length>0&&$(ivirDataTableApi.cells(".ivirCustomHighlight").nodes()).removeClass("ivirCustomHighlight").css({"background-color":"inherit",color:"inherit"}),ivirDataTableApi.rows(".ivirCustomHighlight")[0].length>0&&$(ivirDataTableApi.rows(".ivirCustomHighlight").nodes()).removeClass("ivirCustomHighlight").css({"background-color":"inherit",color:"inherit"})}else if(e!==undefined&&ivirMainObj.highlight&&ivirMainObj.highlight.length>0){var a=ivirMainObj.highlight[e].t;if("cell"==a)ivirDataTableApi.cells(".ivirCustomHighlight.highlight"+e)[0].length>0&&$(ivirDataTableApi.cells(".ivirCustomHighlight.highlight"+e).nodes()).removeClass("ivirCustomHighlight highlight"+e).css({"background-color":"inherit",color:"inherit"});else if("column"==a){if(ivirDataTableApi.columns(".ivirCustomHighlight.highlight"+e)[0].length>0){var n;t=(n=ivirDataTableApi.columns(".ivirCustomHighlight.highlight"+e)).nodes();$(n.header()).removeClass("ivirCustomHighlight highlight"+e);for(i=0;i<t.length;i++)$(t[i]).removeClass("ivirCustomHighlightCell").css({"background-color":"inherit",color:"inherit"})}}else"row"==a&&ivirDataTableApi.rows(".ivirCustomHighlight.highlight"+e)[0].length>0&&$(ivirDataTableApi.rows(".ivirCustomHighlight.highlight"+e).nodes()).removeClass("ivirCustomHighlight highlight"+e).css({"background-color":"inherit",color:"inherit"})}""!=fixedColumnsObj&&$(".DTFC_LeftBodyWrapper .ivirCustomHighlight,.DTFC_LeftBodyWrapper .ivirCustomHighlightCell").removeClass("ivirCustomHighlight").css({"background-color":"",color:""})}function createPills(e,t){if(ivirMainObj.highlight||ivirMainObj.group||ivirMainObj.filter){maxNoOfPills=1;var i,a,n="",r="";i=["highlight","group","filter"],a={highlight:"highlight",group:"table_rows",chart:"pie_chart",filter:"filter_alt"};var l="";l+='<div id="ivirFilteredAccordion">',l+='<div id="ivirPillsWrapper">',l+='<span tabindex="0" onclick="toggleIvirPills();" id="ivirCndtnToggleBtn" class="icon-arrows-keyboard-right"></span>',l+='<div id="ivirAllCndtns">';for(var o=0;o<i.length;o++){var s=i[o];ivirMainObj[s]&&(l+='<span id="ivir'+s+'CndtnPill" class="pillMainWrapper">',l+='<span title="'+r+'" class="material-icons material-icons-style ivirCndtnIcon">'+a[s]+"</span>",l+='<span class="h4 text-gray-500 my-2 ivirCndtnName">'+s+' <span class="label ivirCndtnLabel">'+ivirMainObj[s].length+"</span></span>",l+="</span>")}l+="</div>",l+='<div id="ivirAllCndtnPills" class="d-none">';for(o=0;o<i.length;o++){if(n=ivirMainObj[i[o]]){if(n.length>maxNoOfPills){try{n=n.sort(function(e,t){return e.checked===t.checked?0:e.checked?-1:t.checked?1:void 0})}catch(p){}n.splice(maxNoOfPills)}for(var c=0;c<n.length;c++){l+='<div id="ivir'+(r=i[o])+c+'CndtnPill" data-pill-type="'+r+'" class="d-flex flex-row-auto flex-center w-auto menu-item px-3">',l+='<span class="form-check form-check-custom form-check-solid menu-link px-3 justify-content-between materialCheckBox pillMainWrapper">',"first"==t&&0==c?l+='<input id="'+r+"pillCB"+c+'" checked data-index='+c+' data-type="'+r+'" class="form-check-input p-4 filled-in ivirFilterCheckBox" type="checkbox" value="" />':"last"==t&&c==n[c].length-1?l+='<input id="'+r+"pillCB"+c+'" checked data-index='+c+' data-type="'+r+'" class="form-check-input p-4 filled-in ivirFilterCheckBox" type="checkbox" value="" />':l+='<input id="'+r+"pillCB"+c+'" data-index='+c+' data-type="'+r+'" class="form-check-input p-4 filled-in ivirFilterCheckBox" type="checkbox" value="" />',l+='<a href="javascript:void(0)" title="Edit '+n[c].n+'" onclick="editThePill(\''+r+"',"+c+')" class="h4 text-gray-500 my-2 ivirCndtnName">'+n[c].n+"</a>",l+='<button title="Remove" type="button" onclick="deleteThePill(\''+r+"',"+c+')" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm deletePillBtn"><span class="material-icons material-icons-style pillRemove">clear</span></button>',l+="</span>",l+="</div>"}}}if(l+="</div></div></div>",$("#pillsWrapper").html(l),requestJSON){var d=0;$("#ivirAllCndtnPillsList").children().remove(),$.each($("#ivirAllCndtnPills").children("div"),function(e,t){d++,$("#ivirAllCndtnPillsList").append($(t).detach())}),$("#ivirAllCndtnPillsCount").text(d),$("#ivirAllCndtnPillsDiv").css("display","inline-block"),$("#ivirAllCndtnPillsDiv").hide(),$("#pillsWrapper").hide(),setSmartViewHeight()}else $("#pillsWrapper").show("slow")}}function upateThePills(e,t,i){var a,n="",r=e;if(a={highlight:"highlight",group:"table_rows",chart:"pie_chart",filter:"filter_alt"},n+='<div id="ivir'+r+t+'CndtnPill" data-pill-type="'+r+'" class="d-flex flex-row-auto flex-center w-auto menu-item px-3">',n+='<span class="form-check form-check-custom form-check-solid menu-link px-3 justify-content-between materialCheckBox pillMainWrapper">',n+='<input id="'+r+"pillCB"+t+'" checked data-index='+t+' data-type="'+r+'" class="form-check-input p-4 filled-in ivirFilterCheckBox" type="checkbox" value="" />',n+='<a href="javascript:void(0)" title="Edit '+i+'" onclick="editThePill(\''+r+"',"+t+')" class="h4 text-gray-500 my-2 ivirCndtnName">'+i+"</a>",n+='<button type="button" onclick="deleteThePill(\''+r+"',"+t+')" title="Remove" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm deletePillBtn"><span class="material-icons material-icons-style pillRemove">clear</span></button>',n+="</span>",n+="</div>",requestJSON?($("#ivirAllCndtnPillsList").append(n),$("#ivirAllCndtnPillsCount").text($("#ivirAllCndtnPillsList").children("div").length)):$("#ivirAllCndtnPills").append(n),0==$("#ivir"+r+"CndtnPill").length){var l="";l+='<span id="ivir'+r+'CndtnPill" class="pillMainWrapper" class="d-flex flex-row-auto flex-center w-auto menu-item px-3">',l+='<span title="'+r+'" class="material-icons material-icons-style shadow-sm rounded-3 p-2 d-none ivirCndtnIcon">'+a[r]+"</span>",l+='<span class="h4 text-gray-500 my-2 ivirCndtnName">'+r+' <span class="label ivirCndtnLabel">'+ivirMainObj[r].length+"</span></span>",l+="</span>",$("#ivirAllCndtns").append(l)}else $("#ivir"+r+"CndtnPill .ivirCndtnLabel").text(ivirMainObj[e].length)}function createChartPills(){var e="",t=ivirMainObj.chart;maxNoOfPills=5,"undefined"!=typeof t.length&&t.length>maxNoOfPills&&t.splice(maxNoOfPills);for(var i=0;i<t.length;i++){var a=t[i];e+='<div id="ivirchart'+i+'CndtnPill" class="d-flex flex-row-auto flex-center w-auto menu-item px-3 chartPills">',e+='<span class="form-check form-check-custom form-check-solid menu-link px-3 justify-content-between materialCheckBox pillMainWrapper">',requestJSON&&("undefined"==typeof a.checked||a.checked)||!requestJSON&&0==i?(e+='<input checked id="chartpillCB'+i+'" data-index='+i+' data-type="chart" class="form-check-input p-4 filled-in ivirChartCheckBox" type="checkbox" value="" />',$("#ivirChartWrapper #ivirChart"+i).show(),"undefined"==typeof a.checked&&(a.checked=!0)):(e+='<input id="chartpillCB'+i+'" data-index='+i+' data-type="chart" class="form-check-input p-4 filled-in ivirChartCheckBox" type="checkbox" value="" />',$("#ivirChartWrapper #ivirChart"+i).hide()),e+='<a href="javascript:void(0)" title="Edit '+a.n+"\" onclick=\"editThePill('chart',"+i+')" class="h4 text-gray-500 my-2 ivirCndtnName">'+a.n+"</a>",e+='<button type="button" onclick="deleteThePill(\'chart\','+i+')" title="Remove" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm deletePillBtn"><span class="material-icons material-icons-style pillRemove">clear</span></button>',e+="</span>",e+="</div>"}$("#ivirChartPills").addClass("pillsAdded").html(e),requestJSON?($("#ivirChartPillsList").children().remove(),$.each($("#ivirChartPills").children("div"),function(e,t){$("#ivirChartPillsList").append($(t).detach())}),$("#ivirChartPillsCount").text($("#ivirChartPillsList").children("div").length),$("#ivirAllCndtnPillsDiv").hide(),$("#ivirChartPills").hide()):$("#ivirChartPills").show("slow")}function upateTheChartPills(e,t){var i="";i+='<div id="ivirchart'+e+'CndtnPill" class="d-flex flex-row-auto flex-center w-auto menu-item px-3 chartPills">',i+='<span class="form-check form-check-custom form-check-solid menu-link px-3 justify-content-between materialCheckBox">',i+='<input checked id="chartpillCB'+e+'" data-index='+e+' data-type="chart" class="form-check-input p-4 filled-in ivirChartCheckBox" type="checkbox" value="" />',i+='<a href="javascript:void(0)" title="Edit '+t+"\" onclick=\"editThePill('chart',"+e+')" class="h4 text-gray-500 my-2 ivirCndtnName">'+t+"</a>",i+='<button type="button" onclick="deleteThePill(\'chart\','+e+')" title="Remove" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm deletePillBtn"><span class="material-icons material-icons-style pillRemove">clear</span></button>',i+="</span>",i+="</div>",requestJSON||$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+e).show(),requestJSON?($("#ivirChartPillsList").append(i),$("#ivirChartPillsdiv").show(),$("#ivirChartPillsCount").text($("#ivirChartPillsList").children("div").length)):$("#ivirChartPills").show().append(i)}function toggleIvirPills(){var e=$("#ivirAllCndtns"),t=$("#ivirAllCndtnPills");e.is(":visible")?($("#ivirCndtnToggleBtn").removeClass("icon-arrows-keyboard-right").addClass("icon-arrows-keyboard-down"),e.hide(),t.addClass("open")):($("#ivirCndtnToggleBtn").removeClass("icon-arrows-keyboard-down").addClass("icon-arrows-keyboard-right"),t.removeClass("open"),e.show()),setSmartViewHeight()}function applyThePill(e,t){if("highlight"==e)ivirHighlightRow(t,!0,!0);else if("group"==e){$("[id^='grouppillCB']").not("#grouppillCB"+t).prop("checked",!1).removeAttr("checked");var i=ivirMainObj[e][t].g;if(i)for(var a=0;a<i.length;a++)-1===$.inArray(i[a],allGrandTotal)&&allGrandTotal.push(i[a]);createIvirDataTable("groupApply",t,"",allGrandTotal)}else"filter"==e&&$("[id^='filterpillCB']").not("#filterpillCB"+t).prop("checked",!1).removeAttr("checked")}function editThePill(e,t){var i=[e,t];if("highlight"==e)getHighlightHtml(e,t,!0);else if("group"==e);else if("chart"==e){smartCharts($("#"+e+"pillCB"+t).is(":checked"),i,!0)}else"filter"==e&&ivirMoreFilters(t)}function deleteThePill(e,t){var i=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if("highlight"==e)clearIvirHighlight(t);else if("group"==e){if(ivirMainObj.group&&ivirMainObj.group.length>0){var a=ivirMainObj[e][t].g;if(a)for(var n=0;n<a.length;n++){var r=allGrandTotal.indexOf(a[n]);allGrandTotal.splice(r,1)}}ivirVisibleColumns.length>0&&ivirVisibleColumns.push(groupingCol),$("#"+e+"pillCB"+t).is(":checked")&&createIvirDataTable("clear",t,"",allGrandTotal)}else if("chart"==e){var l=!1;$("#chartpillCB"+t).is(":checked")&&(l=!0),$("#ivirChart"+t).remove()}$("#ivir"+e+t+"CndtnPill").remove(),reArrangeIndexes(e,t);var o=ivirMainObj[e];if(o){var s=o.splice(t,1);if("chart"!=e){0==o.length?(delete ivirMainObj[e],$("#ivir"+e+"CndtnPill").remove()):$("#ivir"+e+"CndtnPill .ivirCndtnLabel").text(ivirMainObj[e].length);var c=$("[data-pill-type='filter']");if(c.length&&c.find(".ivirFilterCheckBox").is(":checked"))try{advFiltersObjectToApply=ivirMainObj.filter[c.find(".ivirFilterCheckBox:checked").data("index")].data}catch(d){advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"}}else advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"};ivirDataTableApi.draw(),setFilterInfo(),""==$("#ivirAllCndtns").html()&&$("#pillsWrapper").html(""),0==$("#ivirAllCndtnPillsDiv .popover-content").children("div").length?($("#lnkallCndtnPill").popover("hide"),$("#ivirAllCndtnPillsDiv").hide()):$("#lnkallCndtnPill").popover("reposition")}else!i&&s&&1==s.length&&requestJSON&&"charts"==ivirMainObj.key&&deleteCommonChart(s[0]),0==o.length?(toggleGridView("grid"),$("#ivirCButtonsWrapper").hide(),$("#pinnedivirCButtonsWrapper").hide(),delete ivirMainObj[e]):l&&($("#chartpillCB0").prop("checked",!0).attr("checked","checked"),$("#ivirChart0").show()),0==$("#ivirChartPillsDiv .popover-content").children("div").length?($("#lnkChartPill").popover("hide"),$("#ivirChartPillsDiv").hide()):$("#lnkChartPill").popover("reposition"),adjustChartBasedWrapperHeight()}else advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"};"chart"==e&&0==i&&$("[data-dropdown-value=save]:eq(0)").click()}function reArrangeIndexes(e,t){var i=ivirMainObj[e];if(ivirMainObj[e]&&t!=i.length-1)for(var a=t,n=t+1;n<i.length;n++){var r=$("#ivir"+e+(a+1)+"CndtnPill"),l=n-1,o=e+"pillCB"+l;r.find("input.ivirFilterCheckBox,input.ivirChartCheckBox").attr("id",o).data("index",l).attr("data-index",l),r.find("input.ivirFilterCheckBox,input.ivirChartCheckBox").next("label").attr("for",o),r.find(".ivirCndtnName").attr("onclick",'editThePill("'+e+'",'+l+")"),r.find(".deletePillBtn").attr("onclick",'deleteThePill("'+e+'",'+l+")"),r.attr("id","ivir"+e+l+"CndtnPill"),a++,"chart"==e?$("#ivirChart"+n).attr("id","ivirChart"+l):"highlight"==e&&$(".ivirCustomHighlight.highlight"+n).removeClass("highlight"+n).addClass("highlight"+l)}}function validateFields(e){var t=!1;return $("#ivirHighlightWrapper .form-control:not('.colorPicker')").each(function(){var e=$(this);if(""==e.val()){if("SELECT"==e[0].nodeName)return ivirCustomErrMsg(e,errorMessages.emptySelect),t=!0,!1;if("INPUT"==e[0].nodeName)return ivirCustomErrMsg(e,errorMessages.emptyField),t=!0,!1}else if(e.hasClass("colorFld")||"INPUT"!=e[0].nodeName){if(e.attr("id")&&"ivirHltValue"==e.attr("id")){if("n"==$("#ivirHighlightCol").find("option:selected").data("type")&&isNaN(e.val()))return ivirCustomErrMsg(e,errorMessages.integerChk),t=!0,!1}}else if(!testRegex("validName",e.val()))return ivirCustomErrMsg(e,errorMessages.invalidName),t=!0,!1}),!t}function DownloadAndSave(e){$("#ivirDownloadWrapper div button .ivirDownload").removeClass("active"),$("#ivirDownloadWrapper div button").removeClass("active"),$("#ivirDownloadWrapper div button .ivirDownload").css("color",""),$("#ivirDownloadWrapper div button").css("color",""),$(e).addClass("active"),$(e).css("color","#3799dc ")}function DownloadFile(e){if($("#ivirDownloadWrapper div button").hasClass("active")){var t=ivirDataTableApi;return $(".CSV").hasClass("active")?t.button("1").trigger():$(".EXCEL").hasClass("active")?t.button("2").trigger():$(".PDF").hasClass("active")?t.button("3").trigger():$(".PRINT").hasClass("active")?t.button("4").trigger():$(".COPY").hasClass("active")?t.button("0").trigger():$(".HTML").hasClass("active")?t.button("5").trigger():$(".JSON").hasClass("active")&&t.button("6").trigger(),!0}return showAlertDialog("warning",errorMessages.downloadSelection),!1}function ivirChkHdrCheckbox(e){var t=$("#chkall");$(e).prop("checked")?$(e).parents("tr").hasClass("axSelected")||$(e).parents("tr").addClass("axSelected"):$(e).parents("tr").removeClass("axSelected");var i=!0;$("input[name=chkItem]:checkbox").each(function(){var e=$(this).prop("checked");if(e==undefined||0==e)return i=!1,!1}),i?(t.prop("checked",!0),$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=""})):(t.prop("checked",!1),$("input[name=chkItem]:checkbox:checked").length<1?$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=""}):$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=".axSelected"}))}function ivirCheckAll(e){1==$(e).prop("checked")?(chkItems=$("input[name=chkItem]:checkbox").each(function(){$(this).prop("checked",!0),$(this).parents("tr").hasClass("axSelected")||$(this).parents("tr").addClass("axSelected")}),$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=".axSelected"})):(chkItems=$("input[name=chkItem]:checkbox").each(function(){$(this).prop("checked",!1),$(this).parents("tr").removeClass("axSelected")}),$.each(ivirDataTableApi.settings()[0]._buttons[0].inst.c.buttons,function(e,t){t.exportOptions.rows=""}))}function toggleGridView(e,t){$(".task-button").removeClass("active");var i="";"chart"==e?($("#ivirFilteredAccordion").hide(),$(".chrtView").addClass("active"),$("#ivirCButtonsWrapper").show(),$("#pinnedivirCButtonsWrapper").show(),$("#ivirMainChartWrapper").show(),$("#searchSelectColumnButton").prop("disabled",!0),$("#ivirMainDataTableWrapper").hide(),$(ivirTable+"_paginate").hide(),$(ivirTable+"_length").hide(),$("#pillsWrapper").hide(),$("#ivirChartPills").show(),requestJSON&&($("#pillsWrapper").hide(),$("#ivirChartPills").hide(),$("#ivirAllCndtnPillsDiv").hide(),$("#ivirChartPillsDiv").show().removeClass("d-none"),ivirMainObj&&ivirMainObj.chart&&ivirMainObj.chart.length>0&&$("#ivirMainDataTableWrapper").show(),i+='<a title="Grid View" type="button" onclick="toggleGridView(\'grid\')" class="grdView task-button shadow animate blue"><span class="ivirCButton icon-software-layout-8boxes"></span></a>',$("#pinnedivirCButtonsWrapper").html(i))):"grid"==e?($(".grdView").addClass("active"),$("#ivirFilteredAccordion").show(),$("#ivirCButtonsWrapper").show(),$("#pinnedivirCButtonsWrapper").show(),$("#ivirMainChartWrapper").hide(),$("#searchSelectColumnButton").prop("disabled",!1),$(ivirTable+"_paginate").show(),$(ivirTable+"_length").show(),$("#ivirMainDataTableWrapper").show(),ivirDataTableApi.columns.adjust().draw(),$("#pillsWrapper").show(),$("#ivirChartPills").hide(),requestJSON&&($("#pillsWrapper").hide(),$("#ivirChartPills").hide(),$("#ivirAllCndtnPillsList").children("div").length&&$("#ivirAllCndtnPillsDiv").hide(),ivirMainObj&&ivirMainObj.chart&&ivirMainObj.chart.length>0?$("#ivirMainChartWrapper").show():$("#ivirChartPillsDiv").hide().addClass("d-none"),i+='<a title="Chart View" type="button" onclick="toggleGridView(\'chart\');" class="chrtView task-button shadow animate blue"><span class="ivirCButton icon-ecommerce-graph1"></span></a>',$("#pinnedivirCButtonsWrapper").html(i))):(e="showChartErrMsg")&&(0==$(t).data("count")?$(t).data("count",1):showAlertDialog("warning",errorMessages.noChartWhileGrpng));try{var a;null===(a=KTMenu)||void 0===a||a.init()}catch(n){}}function columnChart(e,t,i,a,n,r){var l=$(ivirDataTableApi.columns(r).header()).text().trim(),o=$("#ivirMainChartWrapper").outerHeight()-70,s=JSON.parse(t.split("~")[0])[0];toggleGridView("chart");var c="ivirChart"+a;a>maxNoOfPills-1&&($(".ivirChartCheckBox").prop("checked",!1).attr("checked","checked"),$(".chartWrapper").hide(),c="ivirChartCommon"),0==$("#"+c).length&&$("#ivirChartWrapper").append('<div class="chartWrapper" id="'+c+'"></div>'),requestJSON||$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+a).show();try{$(".viewtabEdit").parents("li a.active").find(".viewtabEdit").data("name")}catch(d){}e?($("#ivirChartWrapper #"+c).highcharts({colors:["#f8bd19","#e44a00","#008ee4","#33bdda","#6baa01","#583e78"],credits:{enabled:!1},chart:{type:n,height:o,options3d:{enabled:!0,alpha:0,beta:20,depth:50},events:{beforePrint:function(){this.exportSVGElements[0].box.hide(),this.exportSVGElements[1].hide()},afterPrint:function(){this.exportSVGElements[0].box.show(),this.exportSVGElements[1].show()}}},title:{text:i,align:"left"},xAxis:{categories:JSON.parse(JSON.stringify(JSON.parse(t.split("~")[0])).replace(/_+/g," "))},tooltip:{formatter:function(){return this.series.name+"<br>"+l+": <b>"+Highcharts.numberFormat(this.y,-1)+"</b>"}},yAxis:{min:0,title:{text:s}},series:JSON.parse(JSON.stringify(JSON.parse(t.split("~")[1])))}).highcharts().setSize(undefined,300,!1),adjustChartBasedWrapperHeight()):$("#ivirChartWrapper #"+c).html("<p class='ivirNoDataTag'>".concat(appGlobalVarsObject.lcm[0],"</p>"))}function pieChart(e,t,i,a,n,r){var l=$(ivirDataTableApi.columns(n).header()).text().trim(),o=$("#ivirMainChartWrapper").outerHeight()-70;toggleGridView("chart");var s="ivirChart"+a;a>maxNoOfPills-1&&($(".ivirChartCheckBox").prop("checked",!1).attr("checked","checked"),$(".chartWrapper").hide(),s="ivirChartCommon"),0==$("#"+s).length&&$("#ivirChartWrapper").append('<div class="chartWrapper" id="'+s+'"></div>'),requestJSON||$("#ivirChartWrapper .chartWrapper").hide(),$("#ivirChartWrapper #ivirChart"+a).show();try{$(".viewtabEdit").parents("li a.active").find(".viewtabEdit").data("name")}catch(c){}e?(sizeOfInner=r?80:0,$("#ivirChartWrapper #"+s).highcharts({colors:["#f8bd19","#e44a00","#008ee4","#33bdda","#6baa01","#583e78"],credits:{enabled:!1},chart:{type:"pie",height:o,options3d:{enabled:!0,alpha:25,beta:0},events:{beforePrint:function(){this.exportSVGElements[0].box.hide(),this.exportSVGElements[1].hide()},afterPrint:function(){this.exportSVGElements[0].box.show(),this.exportSVGElements[1].show()}}},title:{text:i,align:"left"},tooltip:{pointFormat:l+": <b>{point.y}</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",innerSize:sizeOfInner,depth:35,dataLabels:{enabled:!0,format:"{point.name}"},showInLegend:!0}},series:[{name:i,data:JSON.parse(JSON.stringify(JSON.parse(t)))}]}).highcharts().setSize(undefined,300,!1),adjustChartBasedWrapperHeight()):$("#ivirChartWrapper #"+s).html("<p class='ivirNoDataTag'>".concat(appGlobalVarsObject.lcm[0],"</p>"))}function commaSeparateNumber(e){for(;/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1,$2");return e}function ivirDuplicateCheck(e,t,i){e=e.toLowerCase();var a=ivirMainObj[e],n="filter"==e?$("#divModalAdvancedFilters .fldNme"):"chart"==e?$(".modal-body .fldNme"):$("#newViewTabId").find(".card-body .flex-column.current .fldNme");if(a&&n)for(var r=a.length-1;r>=0;r--)if(""!=n.val().trim()&&a[r].n==n.val().trim()){if(t&&i==r)continue;var l="";return"filter"==e?l=callParentNew("lcm")[231]:"chart"==e?l=callParentNew("lcm")[394]:"group"==e?l=callParentNew("lcm")[395]:"highlight"==e&&(l=callParentNew("lcm")[396]),ivirCustomErrMsg(n,errorMessages.duplicateFld.replace("{0}",l)),!1}return!0}function ivirChartNewDuplicateCheck(e,t,i){if(ivirMainViewObj){var a=$("#ivirgraph .fldNme"),n=callParentNew("lcm")[394];return!(!t&&ivirMainViewObj&&!_.isEmpty(_.find(getAllCommonCharts(),{n:a.val().trim()})))||(ivirCustomErrMsg(a,errorMessages.duplicateFld.replace("{0}",n)),!1)}}function getAllCommonCharts(){var e=ivirMainViewObj&&_.uniqBy(_.flatMap(_.filter(_.mapValues(ivirMainViewObj.views,"chart"))),function(e){return e.n})||[];return e.length&&ivirMainObj&&ivirMainObj.chart&&ivirMainObj.chart.length&&(e=_.uniqBy([].concat(_toConsumableArray(ivirMainObj.chart),_toConsumableArray(e)),function(e){return e.n})||[]),e.length?e:[]}function deleteCommonChart(e){_.each(ivirMainViewObj.views,function(t){t&&t.chart&&t.chart.length&&t.chart.length>0&&(t.chart=t.chart.map(function(t){return t.n!=e.n?t:""}).filter(function(e){return e}),0==t.chart.length&&delete t.chart)}),setTimeout(function(){$("#ivirChartPillsList .ivirChartCheckBox:first").prop("checked",!0).change(),$("#ivirChartPillsDiv .ivirChartCheckBox:first").prop("checked",!0).change()},0)}function testRegex(e,t){var i=regexes[e].replace(/\\/g,"\\");return!!(i=new RegExp(i,"i")).test(t)}function saveInSessionBeforeSave(){$("#IvirActions").val("");var e=!1;try{if("undefined"!=typeof Storage){var t=localStorage.ivInteractiveMainJson;if(t){e=!0;var i=JSON.parse(t);i[iName]=ivirMainObj,saveJsonToDB("set",JSON.stringify(i))}else e=!1}else e=!1}catch(n){e=!1,console.log(n)}if(!e){var a={};a[iName]=ivirMainObj,saveJsonToDB("set",JSON.stringify(a))}}function saveInSessionBeforeSaveNew(e,t,i,a){var n,r;if($("#IvirActions").val(""),ivirMainObj.applyTo=i,ivirMainObj.caption=t,ivirMainObj.groupName=e,"main"!=e||"main"!=t){SavePillsCheckedProperty(),ivirMainObj.params=$("#hdnparamValues").val().replace(/&grave;/g,"`"),ivirMainObj.paramsList=getParamsValueList(),ivirMainObj.paramsList&&(ivirMainObj.paramsList=JSON.parse(JSON.stringify(ivirMainObj.paramsList).replace(/&/g,"&amp;")));try{isListView&&$("#hdnLvChangedStructure").val()&&(ivirMainObj.visibleColumns[0].structure=CheckUrlSpecialChars($("#hdnLvChangedStructure").val()))}catch(l){}(ivirMainObj.hiddenColumns||ivirMainObj.visibleColumns)&&(viewLoadedColumns=!0),ivirMainObj.sorting&&(viewLoadedSort=!0),toolbarPinArr.length>0&&(ivirMainViewObj.toolbarPin=_toConsumableArray(new Set(toolbarPinArr)))}ivirMainViewObj.views||(ivirMainViewObj.views={}),ivirMainViewObj.views[e]=JSON.parse(JSON.stringify(ivirMainObj)),a?(ivirMainViewObj.views["@defaultView"]=e,currView=e):(null===(n=ivirMainViewObj)||void 0===n?void 0:null===(r=n.views)||void 0===r?void 0:r["@defaultView"])==e&&delete ivirMainViewObj.views["@defaultView"],SaveSmartviewJsonToDb("set",JSON.stringify(ivirMainViewObj),i,e)}function getViewName(){var htmlToShow="",username=eval(callParent("mainUserName"));htmlToShow=' <div class="form-group">',htmlToShow+='<label for="grpName" class="form-label col-form-label pb-1 fw-boldest required">Name</label>',htmlToShow+='<input required id="viewName" type="text" class="d-none form-control fldNme dialogInptFld" maxlength="20" value="vw'+(new Date).getTime()+'" />',htmlToShow+='<input required id="viewCaption" type="text" class="form-control fldNme dialogInptFld" maxlength="20" />',htmlToShow+="</div>",htmlToShow+='<div class="form-group">',htmlToShow+='<label for="grpColName" class="form-label col-form-label pb-1 fw-boldest required"> Apply To </label>',htmlToShow+='<select class="form-select stepperSelect dialogSlctFld" id="viewAplyTo">',htmlToShow+='<option value="'+username+'">'+username+"</option>",htmlToShow+='<option value="ALL">ALL</option>',htmlToShow+=" </select>",htmlToShow+="</div>";var myModal=new BSModal("getviewname","Add View Name",htmlToShow,function(){$("select.stepperSelect").select2({allowClear:!0,dropdownParent:document.getElementById("getviewname"),minimumResultsForSearch:Infinity,placeholder:appGlobalVarsObject.lcm[441]})},function(){});myModal.changeSize("sm"),myModal.okBtn.innerText=appGlobalVarsObject.lcm[399],myModal.okBtn.addEventListener("click",function(){saveViewActionRef("View","view","saveInSessionBeforeSaveNew",undefined,!1)})}function newViewTabClick(e){setTimeout(function(){bkpIvirMainObj=_.cloneDeep(ivirMainObj)},0);var t=!1,i="vw"+(new Date).getTime(),a="";"viewAddTab"==e.attr("id")||"IvirActions"==e.attr("id")&&"saveAs"==e.val()?(t=!0,isListView&&"main"!=loadViewName&&(oldLoadViewName=loadViewName,$(".lnkViewTab#main").click())):(i=e.data("name"),a=e.data("caption"),(ivirMainObj&&ivirMainObj.groupName&&ivirMainObj.groupName!=i||!ivirMainObj.groupName)&&ivirMainViewObj&&ivirMainViewObj.views&&ivirMainViewObj.views[i]&&(ivirMainObj=ivirMainViewObj.views[i])),oldLoadViewName||smartStepper(t,i,a)}function applyCheckedPillsOnLoad(){$.each(ivirMainObj,function(e,t){switch(e){case"filter":$.each(t,function(e,t){$(".ivirFilterCheckBox[data-type='filter'][data-index="+e+"]").trigger("click")});break;case"highlight":$.each(t,function(e,t){$(".ivirFilterCheckBox[data-type='highlight'][data-index="+e+"]").trigger("click")});break;case"group":$.each(t,function(e,t){$(".ivirFilterCheckBox[data-type='group'][data-index="+e+"]").trigger("click")});break;case"hiddenColumns":ivirshowHideColumns(t);break;case"sorting":ivirSortColumns(t)}})}function SavePillsCheckedProperty(){var e=$("[data-pill-type='filter'],[data-pill-type='highlight'],[data-pill-type='group']");e&&$.each(e,function(e,t){switch(t.dataset.pillType){case"filter":ivirMainObj.filter&&ivirMainObj.filter.length>0&&($(t).find(".ivirFilterCheckBox").is(":checked")?ivirMainObj.filter[$(t).find(".ivirFilterCheckBox").data("index")].checked=!0:ivirMainObj.filter[$(t).find(".ivirFilterCheckBox").data("index")].checked=!1);break;case"highlight":ivirMainObj.highlight&&ivirMainObj.highlight.length>0&&($(t).find(".ivirFilterCheckBox").is(":checked")?ivirMainObj.highlight[$(t).find(".ivirFilterCheckBox").data("index")].checked=!0:ivirMainObj.highlight[$(t).find(".ivirFilterCheckBox").data("index")].checked=!1);break;case"group":ivirMainObj.group&&ivirMainObj.group.length>0&&($(t).find(".ivirFilterCheckBox").is(":checked")?ivirMainObj.group[$(t).find(".ivirFilterCheckBox").data("index")].checked=!0:ivirMainObj.group[$(t).find(".ivirFilterCheckBox").data("index")].checked=!1)}})}function getSavedConditions(){var e=localStorage.ivInteractiveMainJson;if(e){var t;try{(t=JSON.parse(e))[iName]&&jQuery.isEmptyObject(ivirMainObj)&&(ivirMainObj=t[iName])}catch(i){}createIvirDataTable(),createPillsOnLoad()}else saveJsonToDB("get")}function getSavedConditionsNew(e){var t,i;(SaveSmartviewJsonToDb("get",arguments.length>1&&arguments[1]!==undefined?arguments[1]:"","",e),getAllCommonCharts().length>0&&requestJSON&&"charts"==e&&((ivirMainObj={}).key="charts",ivirMainObj.chart=getAllCommonCharts()),e)&&(null===(t=$(".nav-tabs a[id="+e+"]"))||void 0===t||null===(i=t.tab)||void 0===i||i.call(t,"show"));if("main"!=e&&requestJSON&&"charts"!=loadViewName){createPillsOnLoad(),applyCheckedPillsOnLoad(),scrollToActiveView(e);try{checkIfNextDBRowsExist()&&ivirMainObj&&(ivirMainObj.chart&&ivirMainObj.chart.length&&ivirMainObj.chart.length>0||ivirMainObj.highlight&&ivirMainObj.highlight.length&&ivirMainObj.highlight.length>0||ivirMainObj.sorting&&ivirMainObj.sorting.length&&ivirMainObj.sorting.length>0)&&(showChartsWithAllRecords=!0,ShowDimmer(!0),setTimeout(function(){getNextDtRecords(0)},100))}catch(a){}}}function createViewTabs(e){if($("#viewTabs").children().remove(),(viewKeys=Object.keys(e)).length>0&&(!isListView||1!=viewKeys.length||"main"!=viewKeys[0])&&($.isEmptyObject(e.main)&&(e.main={}),$.each(e,function(e,t){if("@defaultView"!=e){var i,a=t.caption||e;i='\n                <li class="nav-item">\n                    <a data-bs-toggle="tab" id="'.concat(e,'" class="nav-link fw-boldest shadow-sm fs-6 text-gray-800 p-4 lnkViewTab" data-caption="').concat(0,'" href="#').concat(e,'">\n                        <span>').concat(a,'</span>\n                        <span  data-name="').concat(e,'" data-caption="').concat(a,'" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Edit" class="material-icons material-icons-style material-icons-5 viewtabEdit viewtabDltBtn">edit</span>\n                        \n                    </a>\n                </li>\n            '),e==(currView||"main")&&!isListView||"charts"==e?$("#viewTabs").prepend($(i).find(".viewtabRemove, .viewtabEdit").addClass("d-none").parents("li")):e==(currView||"main")&&isListView?$("#viewTabs").prepend(i):$("#viewTabs").append(i)}}),$("#viewTabs").append('\n        <li class="nav-item">\n            <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="Add View" id="viewAddTab" class="nav-link fw-boldest shadow-sm fs-6 text-gray-800 px-3 py-4 lnkViewTab lnkViewTabAdd viewAddTab" href="" onclick="newViewTabClick($(this));">\n                <span class="material-icons material-icons-style material-icons-5">add</span>\n            </a>\n        </li>\n        '),e[currView||"main"])){if($(".nav-tabs a[id=".concat(currView||"main","]")).addClass("active"),""!=currView){try{$(".nav-tabs a[id=".concat(currView,"]")).parent("li.nav-item").after($(".nav-tabs a[id=".concat("main","]")).parent("li.nav-item"))}catch(t){}isListView&&currView&&$(".nav-tabs a[id=".concat("main","]")).addClass("d-none")}$.isEmptyObject(e.main)&&delete e.main}0!=$("#viewTabs").children("li").length?($("#dvViewtabs").is(":hidden")&&$("#dvViewtabs").show(),reAdjust()):$(".scroller").hide(),setSmartViewHeight(),$("#viewTabs li").length>0?($(".mainTabs").addClass("viewTabsAdded"),isListView&&$("[data-dropdown-value=design]:eq(0)").addClass("d-none")):($(".mainTabs").removeClass("viewTabsAdded"),isListView&&$("[data-dropdown-value=design]:eq(0)").removeClass("d-none"))}function clearExistingPills(){$("#ivirAllCndtnPillsList :input").length&&$($("#ivirAllCndtnPillsList :input").get().reverse()).each(function(e,t){"checkbox"==t.type&&deleteThePill(t.dataset.type,t.dataset.index,!0)}),ivirMainObj.highlight||ivirMainObj.group||ivirMainObj.filter||($("#ivirAllCndtnPillsDiv .popover-content").html(""),$("#ivirAllCndtnPillsList").html("")),$("#ivirChartPillsList :input").length&&$($("#ivirChartPillsList :input").get().reverse()).each(function(e,t){"checkbox"==t.type&&deleteThePill(t.dataset.type,t.dataset.index,!0)}),ivirMainObj.chart||($("#ivirChartPillsDiv .popover-content").html(""),$("#ivirChartPillsList").html(""))}function saveJsonToDB(e,t,i){"set"==e&&""!=t?$.ajax({url:"iview.aspx/SaveJsonInDB",type:"POST",cache:!1,async:!1,data:JSON.stringify({jsonString:t,isListView:isListView}),dataType:"json",contentType:"application/json",success:function(e){"Session Authentication failed..."==e.d?parent.window.location.href="../aspx/sess.aspx":"done"==e.d?(showAlertDialog("success",3030,"client"),localStorage.ivInteractiveMainJson=t):showAlertDialog("warning",3028,"client")},error:function(){showAlertDialog("warning","Error while saving the data.")}}):"get"==e&&$.ajax({url:"iview.aspx/GetJsonFromDB",type:"POST",async:!0,data:JSON.stringify({isListView:isListView}),dataType:"json",contentType:"application/json",success:function(e){try{if("success"==e.d.status){var t=localStorage.ivInteractiveMainJson,i=e.d.result;if(i&&""!==i){var a=!1;if(""!==(t=i)){localStorage.ivInteractiveMainJson=t;var n=JSON.parse(i);n[iName]&&(a=!0,jQuery.isEmptyObject(ivirMainObj)&&(ivirMainObj=n[iName]),allGrandTotal.length>0?createIvirDataTable(undefined,"","",allGrandTotal):createIvirDataTable())}}createPillsOnLoad()}else"Session Authentication failed..."==e.d.result?parent.window.location.href="../aspx/sess.aspx":showAlertDialog("warning",3028,"client")}catch(r){}!a&&allGrandTotal.length>0?createIvirDataTable(undefined,"","",allGrandTotal):a||createIvirDataTable()},error:function(){createIvirDataTable()}})}function SaveSmartviewJsonToDb(e,t,i,a){if("set"==e&&""!=t){var n;($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&(n=function(e){setTimeout(function(){var t=$(".viewtabEdit").parents("li a.active").find(".viewtabEdit").data("name")||"main";isListView&&t==e||$("#"+e).click()},0)});var r=JSON.parse(t);r.views&&Object.keys(r.views).forEach(function(e){r.views[e].applyTo!=i&&"@defaultView"!=e&&delete r.views[e]});var l=JSON.stringify(r);ASB.WebService.SaveSmartViews(iName,$("#hdnKey").val(),l,i,function(e){try{if("Session Authentication failed..."==e)parent.window.location.href="../aspx/sess.aspx";else if(e&&(res=JSON.parse(e))&&res.result&&res.result.length&&res.result[0]&&"Saved"==res.result[0].value){var i=JSON.parse(t).views;if(a){"undefined"==typeof i[a]?showAlertDialog("success",3033,"client"):showAlertDialog("success",3030,"client"),loadViewName=a,oldLoadViewName&&(oldLoadViewName=""),showAlertDialog("info","Please reload the view to see the changes");try{(callParentNew("newViewTabId","id")||callParentNew("design","id")||callParentNew("Charts","id")).dispatchEvent(new CustomEvent("close"))}catch(l){}}var r=JSON.parse(t).views;r&&createViewTabs(r),ivirMainObj.groupName&&($(".nav-tabs a[id="+ivirMainObj.groupName+"]").tab("show"),$("#"+a).length>0&&scrollToActiveView(ivirMainObj.groupName),n&&n(ivirMainObj.groupName)),0==$("#viewTabs").children("li").length&&($("#dvViewtabs").hide(),$(".scroller").hide())}else showAlertDialog("warning",3028,"client")}catch(o){showAlertDialog("warning",3028,"client")}},function(e){})}else if("get"==e){var o=!1;try{if(""!=t){var s=t;if(s&&""!==s){var c=JSON.parse(s);try{var d,p;if(c&&("main"==a&&$.isEmptyObject(null===(d=ivirMainObj)||void 0===d?void 0:d.visibleColumns)||!$("#newViewTabId").is(":visible")&&!isOpenSmartStepper))o=!0,ivirMainObj=ivirMainObj&&requestJSON&&"charts"!=a?JSON.parse(JSON.stringify((null==c?void 0:null===(p=c.views)||void 0===p?void 0:p[a])||{})):{},ivirMainViewObj=JSON.parse(JSON.stringify(c));else ivirMainViewObj=JSON.parse(JSON.stringify(c))}catch(h){}isMobile||c.toolbarPin==undefined||(toolbarPinArr=c.toolbarPin,constructPinnedToolbar()),allGrandTotal.length>0?createIvirDataTable(undefined,"","",allGrandTotal):createIvirDataTable(),ivirMainViewObj.views&&createViewTabs(ivirMainViewObj.views)}}}catch(h){}!o&&allGrandTotal.length>0?createIvirDataTable(undefined,"","",allGrandTotal):o||createIvirDataTable()}}function createPillsOnLoad(){if(jQuery.isEmptyObject(ivirMainObj))return!1;createPills("all","first"),$(".ivirFilterCheckBox").prop("checked",!1).removeAttr("checked");var e=ivirMainObj.chart;if(e)for(var t=0;t<e.length;t++)requestJSON?ivirCreateChart(t,!0,!1,!0):ivirCreateChart(t,!1,!1,!0),createChartPills(),requestJSON?ivirMainObj.groupName&&"charts"!=ivirMainObj.groupName&&(isChartCreationOnLoad=!0,$("#ivirChartPillsList .ivirChartCheckBox:first").change(),$("#ivirChartPillsDiv .ivirChartCheckBox:first").change(),isChartCreationOnLoad=!1):$("#ivirChartPills .ivirChartCheckBox:first").change(),toggleGridView("grid");setSmartViewHeight()}function checkForPillDependentFlds(e,t,i){if(!i&&0===ivirVisibleColumns.length)return!0;var a=ivirMainObj[e][t],n=[];if(ivirMainObj[e]&&ivirMainObj[e].length>0)if("group"==e){n.push(a.cl);var r=a.g;if(r)for(var l=0;l<r.length;l++){var o=r[l];-1!=o&&-1===$.inArray(o,n)&&n.push(o)}var s=a.t;if(s)for(var c=1;c<s.length;c+=2){var d=s[c];-1!=d&&-1===$.inArray(d,n)&&n.push(d)}}else"chart"==e&&(n=[a.cl,a.v]);if(i)return n;var p=n.length;for(l=0;l<p;l++)if(-1===$.inArray(FieldName.indexOf(n[l]),ivirVisibleColumns))return $("#"+e+"pillCB"+t).prop("checked",!1),!1,$("#IvirActions").val("SHcolumns").change(),showAlertDialog("warning",errorMessages.dependentColumns),pillDependentCols.index=t,pillDependentCols.data=n,pillDependentCols.type=e,!1;return!0}function getFiltersPillIndex(){var e=$("#newViewTabId .filter-body-cont").parent(),t=-1;if(e.length>0)return-1==(t=e.find(".filter-body-cont").data("pillindex"))?undefined:t}function showDataTableLoading(){ShowDimmer(!0)}function hideDataTableLoading(){$("body").removeClass("stay-page-loading"),ShowDimmer(!1)}$(document).on("change","#searchSelectColumn",function(e){var t=$(this),i=ivirTable+"_filter",a="",n=$(i+" .ivirSearchFld"),r=$(i+" #customSearchInput"),l=t.data("index");if(a=!r.length>0?n.val()||"":r.val()||"",n.val(""),r.val(""),"all"==t.val())$(i+" #customSearchInput").hide(),$(i+" .ivirSearchFld").show(),""!=a&&($(i+" .ivirSearchFld").val(a),ivirDataTableApi.search("").columns().search("").draw(),ivirDataTableApi.search(a).draw());else{if($(i+" .ivirSearchFld").hide(),0==$(i+" #customSearchInput").length){var o='<input type="search" value="'+a+'" class="form-control input-sm firstTime" id="customSearchInput" placeholder="Search...">';$(i+" label").append(o)}else $(i+" #customSearchInput").val(a).show();""!=a&&(ivirDataTableApi.search("").columns().search("").draw(),ivirDataTableApi.columns(l).search(a).draw())}}),$(document).on("keydown",".ivirSearchFld",function(e){$("#ivirCButtonsWrapper").is(":visible")&&!$("#ivirCButtonsWrapper button.active").hasClass("grdView")&&toggleGridView("grid")}),$(document).on("keyup","#customSearchInput",function(e){var t=this.value,i=$("#searchSelectColumn").data("index");ivirDataTableApi.columns(i).search(t).draw()}),$(document).on("change",".DTFC_LeftWrapper table tr input[name='chkItem']",function(e){var t=$(this),i=t.parents("tr").index();t.is(":checked")?$(".dataTables_scrollBody table tbody tr").eq(i).addClass("axSelected").find("input[name='chkItem']").prop("checked",!0):$(".dataTables_scrollBody table tbody tr").eq(i).removeClass("axSelected").find("input[name='chkItem']").prop("checked",!1)}),$(document).on("click",".rightClickMenu ul li",function(){var e=$(this);e.data("value");e.hasClass("icon-arrows-check")?e.data("isChecked",!0):e.data("isChecked",!1),e.find("i").toggleClass("icon-arrows-check")}),saveViewActionRef=function(e,t,i,a,n){if(("group"==t||"highlight"==t)&&!ivirDuplicateCheck(t,n,r=a==undefined?undefined:a[1]))return!1;if("chart"==t){var r=a==undefined?undefined:a[1];if(ivirMainObj&&"charts"!=ivirMainObj.key&&!ivirChartNewDuplicateCheck(t,n,r))return!1}if("highlight"==t&&!validateFields(t))return!1;if(a){var l=a[0],o=a[1];if("highlight"==l||"group"==l||"chart"==l){if(!i(o,$("input#"+l+"pillCB"+o).is(":checked"))){if("chart"!=l)return!1;try{callParentNew("Charts","id").dispatchEvent(new CustomEvent("close"))}catch(s){}}"chart"==t&&$("[data-dropdown-value=save]:eq(0)").click()}else i()}else if("group"==t||"chart"==t||"column"==t||"download"==t){if(i())return!1;"chart"==t&&$("[data-dropdown-value=save]:eq(0)").click()}else if("view"==t){if(""==$("#viewCaption").val())return ivirCustomErrMsg($("#viewCaption"),errorMessages.emptyField),!1;if("main"==$("#viewName").val().toLowerCase()&&!isListView||requestJSON&&"charts"==$("#viewName").val().toLowerCase())return ivirCustomErrMsg($("#viewName"),callParentNew("lcm")[483]),!1;if(!validateViewName())return!1;if("Edit View"!=e&&!checkDuplicateViewName())return!1;if(!(toolbarPinArr.length>0||"main"==$("#viewName").val().toLowerCase()&&isListView||ivirMainObj.params||$("#hdnparamValues").val().replace(/&grave;/g,"`")||ivirMainObj.chart||ivirMainObj.filter||ivirMainObj.sorting||ivirMainObj.group||ivirMainObj.visibleColumns||ivirMainObj.hiddenColumns||ivirMainObj.highlight||ivirMainObj.design))return showAlertDialog("warning",3011,"client",appGlobalVarsObject.lcm[335]+' "'+($("#viewCaption").val()||"")+'" '+appGlobalVarsObject.lcm[301].toLowerCase()+" "),!1;window[i]($("#viewName").val(),$("#viewCaption").val(),$("#viewAplyTo option:selected").val(),$("#asDefaultView").prop("checked"))}else i();setSmartViewHeight()},cancelViewActionRef=function(e){"Edit View"!=e||_.isEmpty(ivirMainObj)||_.isEmpty(bkpIvirMainObj)||(ivirMainObj=_.cloneDeep(bkpIvirMainObj))},onContentReadyRef=function onContentReadyRef(task,showValuesOnOpen,isEditPill){if(disableBackDrop("bind"),isEditPill||checkForPillsLength(task),highlightTheFirstFld(),ivirbindEvents(task),"group"==task&&($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&(showValuesOnOpen=ivirMainObj.group&&ivirMainObj.group.length>0?[task,0]:undefined),"column"==task)requestTstructFieldsObj(),isListView?$(".lstColSelWrapper").each(function(e,t){$(t).find(".ivirLabelWrapper input:checkbox:not(:checked)").length>0?$(t).find("input.showAllColumns[data-isgrid]").prop("checked",!1):$(t).find("input.showAllColumns[data-isgrid]").prop("checked",!0)}):$("#ivirshowHideColumnWrapper .ivirLabelWrapper input:checkbox:not(:checked)").length>0?$("#showAllColumns").prop("checked",!1):$("#showAllColumns").prop("checked",!0);else if("design"==task){var iframe=document.createElement("iframe");$(iframe).attr("id","columnDesigner"),$(iframe).addClass("col-xs-12 col-sm-12 col-md-12 col-lg-12 h-250px"),$(iframe).css("padding","0px"),$(iframe).attr("frameborder","0"),$(iframe).attr("allowtransparency","True"),$("#ivirDesignColumnWrapper")[0].appendChild(iframe);var iframeWindow=iframe.contentWindow;$(iframeWindow.document.getElementsByTagName("body")).attr("oncontextmenu","return false;").addClass("topSplitDivision").append("<div id='GridView2Wrapper' />"),iframeWindow.dwbiName=iName,loadAndCall({files:{css:["/Css/thirdparty/bootstrap/3.3.6/bootstrap.min.css","/ThirdParty/DataTables-1.10.13/media/css/jquery.dataTables.min.css","/ThirdParty/DataTables-1.10.13/extensions/Responsive/css/responsive.bootstrap.min.css","/ThirdParty/DataTables-1.10.13/extensions/FixedHeader/css/fixedHeader.dataTables.min.css","/Css/listViewDesigner.min.css?v=1"],js:["/Js/thirdparty/jquery/3.1.1/jquery.min.js","/Js/noConflict.min.js","/ThirdParty/lodash.min.js","/Js/common.min.js?v=117","/ThirdParty/DataTables-1.10.13/media/js/jquery.dataTables.min.js","/ThirdParty/DataTables-1.10.13/media/js/dataTables.bootstrap.min.js","/ThirdParty/DataTables-1.10.13/extensions/FixedHeader/js/dataTables.fixedHeader.min.js","/ThirdParty/DataTables-1.10.13/extensions/ColReorderWithResize/ColReorderWithResize.min.js?v=1","/ThirdParty/DataTables-1.10.13/extensions/Extras/moment.min.js","/ThirdParty/DataTables-1.10.13/extensions/Extras/datetime-moment.js","/Js/iviewColumnBuilder.min.js?v=14"]},callBack:function(){iframeWindow.axDevIvDrawTable(FieldName.map(function(e,t){var i,a,n,r,l;return{f_name:FieldName[t],f_caption:HeaderText[t],column_width:(null===(i=ivirMainObj)||void 0===i?void 0:null===(a=i.design)||void 0===a?void 0:null===(n=a.filter(function(e){return e.name==FieldName[t]}))||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.width)||(null===(l=ivHeadRows[FieldName[t]])||void 0===l?void 0:l["@width"])||minCellWidth.toString(),hidden:HideColumn[t],isquerycol:!1}}).filter(function(e){return"rowno"!=e.f_name})||[],iName)},win:iframeWindow})}else if("sort"==task)$("#ivirSortColumnWrapper .ivirLabelWrapper:first").addClass("labelSelected"),($("#newViewTabId").is(":visible")||isOpenSmartStepper)&&ivirMainObj.sorting&&ivirMainObj.sorting.length>0&&$("#ivirSortColumnWrapper .checkbox input[type='checkbox']").each(function(e,t){$(this).prop("checked",!1),$(this).parent().find("button span").removeClass("active");e=$(this).data("index");var i=FieldName[e],a=ivirMainObj.sorting.filter(function(e){return e[0]==i});a&&1==a.length&&2==a[0].length&&($(this).prop("checked",!0),$(this).parent().find("button span[data-order="+a[0][1]+"]").addClass("active"))});else if("highlight"==task)$(document).find("#ivirtxtColor").spectrum({color:"#000000",clickoutFiresChange:!1,beforeShow:function(e){$("#ivirbgColor").spectrum("set",$("#ivirbgColorValue").val())},change:function(e){$("#ivirtxtColorValue").val(e.toHexString())}}),$(document).find("#ivirbgColor").spectrum({color:"#000000",clickoutFiresChange:!1,beforeShow:function(e){$("#ivirtxtColor").spectrum("set",$("#ivirtxtColorValue").val())},change:function(e){$("#ivirbgColorValue").val(e.toHexString())}}),$("#ivirbgColor, #ivirtxtColor").parent().find(".sp-replacer").addClass("input-group-text"),highlightBindEvents();else if("chart"==task)$("#ivirChartName").focus();else if("view"==task){var username=eval(callParent("mainUserName"));$("#viewAplyTo").val(username),hasBuildAccess||$("#viewAplyTo").prop("disabled",!0),$("#viewCaption").focus()}if(showValuesOnOpen){var ivirMainTypeObj=ivirMainObj[showValuesOnOpen[0]][showValuesOnOpen[1]];if("highlight"==showValuesOnOpen[0]){var name=ivirMainTypeObj.n,highlightType=ivirMainTypeObj.t,bgColor=ivirMainTypeObj.bc,txtColor=ivirMainTypeObj.tc,column=ivirMainTypeObj.cl,condition=ivirMainTypeObj.cn,value=ivirMainTypeObj.v;$("#ivirHltName").val(name),$("#ivirHighlightType").val(highlightType),$("#ivirbgColorValue").val(bgColor),$("#ivirtxtColorValue").val(txtColor),$("#ivirHighlightCol option[data-index="+column+"]").prop("selected",!0).change(),$("#ivirHighlightCndtn").val(condition),$("#ivirHltValue").val(value),$(document).find("#ivirtxtColor").spectrum({color:txtColor,clickoutFiresChange:!1,change:function(e){$("#ivirtxtColorValue").val(e.toHexString())}}),$(document).find("#ivirbgColor").spectrum({color:bgColor,clickoutFiresChange:!1,change:function(e){$("#ivirbgColorValue").val(e.toHexString())}}),$("#ivirbgColor, #ivirtxtColor").parent().find(".sp-replacer").addClass("input-group-text")}else if("group"==showValuesOnOpen[0]){var name=ivirMainTypeObj.n,column=ivirMainTypeObj.cl,totalArray=ivirMainTypeObj.t,grndTotalArray=ivirMainTypeObj.g,totalCndtns=1;if($("#grpName").val(name),$("#grpColName option[data-index="+column+"]").prop("selected",!0).change(),totalArray)for(var i=1;i<totalArray.length;i+=3){var columnIndex=totalArray[i],functionType=totalArray[i-1];1!==i&&$("#ivirTotalCndtn"+(totalCndtns-1)+" .ivirTotalCndtnBtn").click(),$("#ivirTotalCndtn"+totalCndtns+" .totalAggrFunction option[value='"+functionType+"']").prop("selected",!0).change(),$("#ivirTotalCndtn"+totalCndtns+" .totalSource option[data-index='"+columnIndex+"']").prop("selected",!0).change(),"-1"!=grndTotalArray[totalCndtns-1]&&$("#ivirTotalCndtn"+totalCndtns+" .grndTtlCB input").prop("checked",!0),totalCndtns++}}else if("chart"==showValuesOnOpen[0]){var name=ivirMainTypeObj.n,column=ivirMainTypeObj.cl,value=ivirMainTypeObj.v,chartType=ivirMainTypeObj.t;$("#ivirChartName").val(name).prop("disabled",!0),$("#ivirChartCol option[data-index="+FieldName.indexOf(column)+"]").prop("selected",!0).change(),$("#ivirChartVal option[data-index="+FieldName.indexOf(value)+"]").prop("selected",!0).change(),$("#ivirChartsRow .ivirChartButton").removeClass("active"),$("#ivirChartsRow").find("[data-type='"+chartType+"']").addClass("active")}}},onCloseRef=function(e){$("#IvirActions").val(""),ivirRemovebindEvents(e),highlightUnBindEvents(),"group"==e?tmpGroupObj={}:"column"==e?pillDependentCols={}:"design"==e&&$(".designForceHide").removeClass("d-none designForceHide"),isOpenSmartStepper=!1},$(document).on("change",".totalAggrFunction",function(e){var t=$(this),i=t.val(),a=t.data("lastSelected");if(a&&"count"==a?($(".totalAggrFunction").append('<option value="count">Count</option>'),t.find('option[value="count"]').last().remove()):t.data("lastSelected",i),t.parents(".ivirTotalCndtn").find(".grndTtlCB input").prop({checked:!1,disabled:!0}),""!=i){"count"==i&&$(".totalAggrFunction").not(this).find('option[value="count"]').remove();var n=[];if("ivirTotalCndtn1"==t.parents(".ivirTotalCndtn ").attr("id"))n=[tmpGroupObj.groupIndex];else{var r=tmpGroupObj.groupIndex,l=tmpGroupObj.indexeSelected;r&&l==undefined?n.push(r):l&&(-1==$.inArray(r,l)&&l.push(r),n=l)}var o=getAllColumns([].concat(_toConsumableArray(n),_toConsumableArray(hiddenColumnIndex)),!0);"sum"==i||"max"==i||"min"==i||"avg"==i?t.parents(".ivirTotalCndtn").find("select.totalSource").append(o[0]).trigger("change"):(t.parents(".ivirTotalCndtn").find("select.totalSource").append(o[0]).trigger("change"),t.parents(".ivirTotalCndtn").find("select.totalSource").append(o[1]).trigger("change"))}}),$(document).on("change",".totalSource",function(e){var t=$(this).parents(".ivirTotalCndtn").find(".grndTtlCB input");if("n"==$(this).find("option:selected").data("type")){var i=$(this).find("option:selected").data("index");t.data("index",i).prop("disabled",!1)}else t.prop("disabled",!0)}),$(document).on("change",".ivirChartCheckBox",function(e){var t=$(this),i=t.data("index"),a=t.attr("id");try{ivirMainObj.chart[i].checked=t.is(":checked")}catch(n){}if(t.is(":checked")){if(t.attr("checked","checked"),!checkForPillDependentFlds("chart",i))return t.prop("checked",!1),t.removeAttr("checked"),!1;requestJSON||($(".ivirChartCheckBox").not("#"+a).prop("checked",!1).removeAttr("checked"),$("#ivirChartWrapper .chartWrapper").hide()),$("#ivirChartWrapper #ivirChart"+i).show(),ivirCreateChart(i,!0,!0)}else t.removeAttr("checked"),requestJSON?$("#ivirChartWrapper #ivirChart"+i).hide():t.prop("checked",!0).attr("checked","checked");adjustChartBasedWrapperHeight(),isChartCreationOnLoad||$("[data-dropdown-value=save]:eq(0)").click()}),$(document).on("change",".ivirFilterCheckBox",function(e){var t=$(this),i=t.data("type");if(t.is(":checked")){if("group"==i){if(!checkForPillDependentFlds("group",t.data("index")))return t.prop("checked",!1),t.removeAttr("checked"),!1;$("#chartActionLi").addClass("subHeader")}else"filter"==i&&(advFiltersObjectToApply=ivirMainObj.filter[t.data("index")].data,ivirDataTableApi.draw(),setFilterInfo());t.attr("checked","checked"),applyThePill(i,t.data("index"))}else if(t.removeAttr("checked"),"highlight"==i)clearIvirHighlight(t.data("index"));else if("group"==i){var a=t.data("index"),n=ivirMainObj[i][a].g;if(n)for(var r=0;r<n.length;r++){var l=allGrandTotal.indexOf(n[r]);allGrandTotal.splice(l,1)}ivirVisibleColumns.length>0&&ivirVisibleColumns.push(groupingCol),createIvirDataTable("clear",a,"",allGrandTotal),$("#chartActionLi").removeClass("subHeader")}else"filter"==i&&(advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"},ivirDataTableApi.draw(),setFilterInfo())}),$(function(){$.fn.popover.Constructor.prototype.reposition=function(){var e=this.tip(),t="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,i=this.getPosition(),a=e[0].offsetWidth,n=e[0].offsetHeight,r=t,l=this.getPosition(this.$viewport);t="bottom"===t&&i.bottom+n>l.bottom?"top":"top"===t&&i.top-n<l.top?"bottom":"right"===t&&i.right+a>l.width?"left":"left"===t&&i.left-a<l.left?"right":t,e.removeClass(r).addClass(t);var o=this.getCalculatedOffset(t,i,a,n);this.applyPlacement(o,t)}}),function(e,t,i,a){"use strict";var n=e("html");n.on("click.ui.dropdown",".js-dropdown",function(t){t.preventDefault();var a=e(this);a.hasClass("is-open")&&setTimeout(function(){a.find(".dropDownButton__list").hide()},250),e(i).unbind("keydown.upDownEvents"),a.hasClass("is-open")||highlightAndBindUpDown(a,"",".js-dropdown ul li"),a.toggleClass("is-open")}),n.on("click.ui.dropdown",".js-dropdown [data-dropdown-value]",function(t){t.preventDefault();var i=e(this);if(i.hasClass("subHeader"))t.stopPropagation();else{var a=i.parents(".js-dropdown");a.find(".js-dropdown__input").data("index",i.data("index")).val(i.data("dropdown-value")).change(),a.hasClass("ivirActionDrpDwn")||a.find(".js-dropdown__current").attr("title","Search "+i.text()).text(i.text()),svHtmlGeneratorRef(i,a.find(".js-dropdown__input"))}}),n.on("click.ui.dropdown",function(t){e(t.target).parents().hasClass("js-dropdown")||(e(i).unbind("keydown.upDownEvents"),e(".js-dropdown").removeClass("is-open"),e(".js-dropdown").find(".dropDownButton__list").css({display:"none"})),e(t.target).hasClass("rightClickMenuIcn")||e(".rightClickMenu").hide()})}(jQuery,window,document),$(window).resize(delay(function(){$(".dataTables_scrollHead table thead tr th:last-child").visible(!0)?$(".dataTables_scrollHead").off("keydown"):$(".dataTables_scrollHead").on("keydown",function(e){9==(e.keyCode||e.which)&&e.preventDefault()})},100));var createdCell=createCustomElement=function(e,t,i,a,n){var r=!(arguments.length>5&&arguments[5]!==undefined)||arguments[5];"undefined"!=typeof rowRefreshIndex&&(a=rowRefreshIndex),isSpecialRow=!1;var l=dtColumns[n].name;"inmemdb"==iName&&(l=getColumnName(l));var o=FieldName[FieldName.indexOf(l)],s=getPropertyAccess(o);if(""!=(t=processMask({td:e,cellData:t=processCellData({td:e,cellData:t,rowData:i,row:a,col:n,colID:o,rowDataAccess:s}),rowData:i,row:a,col:n,colID:o,rowDataAccess:s})))if(0==n)$(e).html(generateCellCheckbox({td:e,cellData:t,rowData:i,row:a,col:n,colID:o,rowDataAccess:s}));else{var c,d,p,h=!0;"check box"==(null===(c=ivHeadRows)||void 0===c?void 0:null===(d=c[o])||void 0===d?void 0:null===(p=d["@ctype"])||void 0===p?void 0:p.toLowerCase())&&(h=!1,$(e).html(generateFieldCheckbox({td:e,cellData:t,rowData:i,row:a,col:n,colID:o,rowDataAccess:s}))),isSpecialRow?h&&$(e).html(t):$(e).html(generateCellHyperlink({td:e,cellData:t,rowData:i,row:a,col:n,colID:o,rowDataAccess:s})),applyConditionalFormatting({td:e,rowData:i,colID:o}),cellHeaderConf.root_class_index&&$(e).html(generateExpColTree({td:e,cellData:t,rowData:i,row:a,col:n,colID:o,rowDataAccess:s})),""!=HeaderText[FieldName.indexOf(l)]&&"$nbsp;"!=HeaderText[FieldName.indexOf(l)]&&enableCardsUi&&!cardTemplatingHTML&&($(e).children().wrap('<div class="cardLabelContent"></div>'),$(e).prepend("<label>"+HeaderText[FieldName.indexOf(l)]+":</label>"))}else $(e).html("");iviewWrap?$(e).css({"word-break":"break-word"}):$(e).css({"white-space":"nowrap"});try{var u,m="";try{u=ivTemplates.filter(function(e,t){return getCaseInSensitiveJsonProperty(e,"ELEMENTS")[0].toLowerCase()==o.toLowerCase()})}catch(v){}m=injectProductColumnTemplate(iName,o),u&&u.length&&!m&&(m=getCaseInSensitiveJsonProperty(u[0],"CVALUE")[0]),m&&r&&renderColumnTemplete({hbHTML:m,td:e,cellData:t,rowData:i,row:a,col:n,colID:o,rowDataAccess:s})}catch(v){}try{createdCellEndCustom(e,t,i,a,n)}catch(v){}return $(e).attr("data-field-name",o),e};function injectProductColumnTemplate(e,t){return"ad___acs"!=e&&"ad___cfd"!=e||"caption"!=t?"ad___acs"!=e&&"ad___cfd"!=e||"dmy"!=t?"ad___acr"==e&&"dmy"==t?'\n        <div class="col-12">\n            <div class="col-12 d-flex flex-row">                    \n                    <div class="">\n                            <a href="javascript:void(0);" class="btn btn-light-primary fw-boldest btn-sm px-5" onclick="loadAxRuleEngineForm(\'false\',\'{{axpdef_rulesdefid}}\');">\n                                Edit\n                            </a>                        \n                    </div>\n            </div>\n        </div>\n        ':"":'\n        <div class="col-12">\n            <div class="col-12 d-flex flex-row">\n                {{#is name}}\n                    <div class="">\n                        {{#is runtimetstruct \'==\' \'T\'}}\n                            <a href="javascript:void(0);" class="btn btn-light-primary fw-boldest btn-sm px-5" onclick="callAxpertConfigStudio(\'designform\',\'{{name}}\',\'{{caption}}\');">\n                                Edit\n                            </a>\n                        {{else}}\n                            <a href="javascript:void(0);" class="btn btn-light-primary fw-boldest btn-sm px-5" onclick="callAxpertConfigStudio(\'editfield\',\'{{name}}\',\'{{fname}}\');">\n                                Edit\n                            </a>\n                            \x3c!--<a href="javascript:void(0);" class="btn btn-light-primary fw-boldest btn-sm px-5" onclick="showAlertDialog(\'info\', \'Popup \' + $(this).text() + \' Page\');">\n                                Add Rules\n                            </a>--\x3e\n                        {{/is}}\n                    </div>\n                {{else}}\n                {{/is}}\n            </div>\n        </div>\n        ':'\n        <div class="col-12">\n            <div class="col-12 d-flex flex-row">\n                {{#is name}}\n                    <div class="fs-5">\n                        {{caption}}({{name}})\n                    </div>\n                {{else}}\n                    <div class="fs-5">\n                        - {{caption}} -\n                    </div>\n                {{/is}}\n            </div>\n        </div>\n        '}function refreshRow(e,t){try{if(t=t||e.data(),isCheckedRowRefresh=!1,"true"==isChkBox)try{isCheckedRowRefresh=$(e.node()).find("td:eq(0) input:checkbox").prop("checked")||!1}catch(n){}e.data(t).invalidate(),rowRefreshIndex=e.index();var i=ivirDataTableApi.row.add(t).draw();$(e.node()).html($(i.node()).html()),i.remove().draw();try{var a;null===(a=KTMenu)||void 0===a||a.init()}catch(r){}}catch(n){}}function renderRowTemplete(e,t,i,a){var n=FieldName.reduce(function(e,a){return Object.assign(e,_defineProperty({},a,(cellVal=$(t).find('td[data-field-name="'.concat(a,'"]')).html(),"undefined"!=typeof cellVal?cellVal:i[getPropertyAccess(a)])))},{});n.axRenderProject=callParentNew("thmProj")||proj,n.axRenderIName=iName,n.axRenderRowNo=a+1;try{axPreTemplate(n,t,i,a)}catch(l){}var r="";try{r=Handlebars.compile(e)(n)}catch(o){console.log("Row Templete",o)}r&&$(t).html(r).css({"background-color":"initial"}).addClass("rowTemplate");try{axPostTemplate(n,t,i,a)}catch(l){}}function renderColumnTemplete(e){var t=e.hbHTML,i=e.td,a=e.cellData,n=e.rowData,r=e.row,l=e.col,o=e.colID,s=e.rowDataAccess,c=FieldName.reduce(function(e,t,i){return Object.assign(e,_defineProperty({},t,(cellVal=createdCell($("<td></td>"),n[getPropertyAccess(t)],n,r,i,!1).html(),"undefined"!=typeof cellVal?cellVal:n[getPropertyAccess(t)])))},{});c.axRenderThis=$(i).html(),c.axRenderProject=callParentNew("thmProj")||proj,c.axRenderIName=iName,c.axRenderRowNo=r+1;try{axPreColumnTemplate(c,i,a,n,r,l,o,s)}catch(p){}var d="";try{d=Handlebars.compile(t)(c)}catch(h){console.log(o+" Column Templete",h)}d&&$(i).html(d).addClass("columnTemplate");try{axPostColumnTemplate(c,i,a,n,r,l,o,s)}catch(p){}}function constuctDataButton(e){var t="";if(requestJSON){t+='<div class="btn '.concat("old"==iviewButtonStyle?"btn-sm":"btn-icon",' btn-white btn-color-gray-600 btn-active-primary shadow-sm me-2 js-dropdown ivirActionDrpDwn tb-btn" ').concat("old"!=iviewButtonStyle?'data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="'.concat(callParentNew("lcm")[405],'"'):"",">"),t+='<input type="hidden" name="IvirActions" id="IvirActions" class="js-dropdown__input" value="">',t+=' <div id="ivirActionButton" class="c-button c-button--dropdown js-dropdown__current '.concat("old"==iviewButtonStyle?"menu-link text-gray-600 text-hover-white p-0 menu-dropdown":"pt-2",'" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end" data-kt-menu-flip="top-end">').concat("old"==iviewButtonStyle?'<span class="menu-title">'.concat(callParentNew("lcm")[406],'</span><span class="menu-arrow"></span>'):'<span class="material-icons material-icons-style">list_alt</span>',"</div>");var i="modern"==iviewButtonStyle?"w-100 w-sm-350px":"w-200px",a="modern"==iviewButtonStyle?"col-4":"menu-item px-3",n="modern"==iviewButtonStyle?"d-flex flex-column flex-center text-center text-gray-800 text-hover-primary bg-hover-light rounded p-3 mb-3":"menu-link px-3",r="modern"==iviewButtonStyle?"":"me-3";t+='<ul class="dropDownButton__list menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bolder py-3 '+i+'" data-popper-placement="bottom-end" data-kt-menu="true">',"modern"==iviewButtonStyle&&(t+='<div class="card"><div class="card-body py-5"><div class="mh-450px scroll-y me-n5 pe-5"><div class="row g-2">'),"inmemdb"!=iName&&("hidden"!=$("#hdnIsParaVisible").val()&&(t+='<li class="dropDownButton__item '+a+'" data-dropdown-value="paramFilter" title="'+callParentNew("lcm")[478]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">search</span>'+callParentNew("lcm")[478]+"</a></li>"),t+='<li id="chartActionLi" class="dropDownButton__item '+a+'" data-dropdown-value="chart" title="'+callParentNew("lcm")[402]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">add_chart</span>'+callParentNew("lcm")[402]+"</a></li>"),t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="moreFilters" title="'+callParentNew("lcm")[409]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">filter_alt</span>'+callParentNew("lcm")[409]+"</a></li>",t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="clearFilters" title="'+callParentNew("lcm")[443]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">filter_alt_off</span>'+callParentNew("lcm")[443]+"</a></li>","inmemdb"!=iName&&(t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="sort" title="'+callParentNew("lcm")[403]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">sort</span>'+callParentNew("lcm")[403]+"</a></li>",enableCardsUi||(t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="rowGrouping" title="'+callParentNew("lcm")[404]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">table_rows</span>'+callParentNew("lcm")[404]+"</a></li>",t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="SHcolumns" title="'+callParentNew("lcm")[401]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">view_week</span>'+callParentNew("lcm")[401]+"</a></li>",isListView&&(t+='<li class="dropDownButton__item '+a+'" data-dropdown-value="design" title="Design"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">design_services</span>Design</a></li>')),t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="highlighting" title="'+callParentNew("lcm")[396]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">highlight</span>'+callParentNew("lcm")[396]+"</li>",t+='<li class="dropDownButton__item d-none '+a+'" data-dropdown-value="save" title="'+callParentNew("lcm")[400]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">save</span>'+callParentNew("lcm")[400]+"</a></li>",t+='<li class="dropDownButton__item '+a+'" data-dropdown-value="saveAs" title="'+callParentNew("lcm")[482]+'"><a href="javascript:void(0);" class="'+n+'"><span class="material-icons '+r+'">add</span>'+callParentNew("lcm")[482]+"</a></li>"),"modern"==iviewButtonStyle&&(t+="</div></div></div></div>"),t+="</ul>",t+="</div>",$("#filterWrapper").html(t)}else{if(t+='<div class="js-dropdown ivirActionDrpDwn">',t+='<input type="hidden" name="IvirActions" id="IvirActions" class="js-dropdown__input" value="">',t+='<a href="javascript:void(0)" title="'+callParentNew("lcm")[406]+'" id="ivirActionButton" class="js-dropdown__current btn btn-white btn-sm btn-color-gray-600 btn-active-primary shadow-sm me-2 menu menu-dropdown menu-link" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-start""><span class="menu-title">'+callParentNew("lcm")[406]+'</span><span class="menu-arrow"></span></a>',t+='<ul class="dropDownButton__list menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg-light-primary fw-bold w-200px py-3" data-kt-menu="true" data-popper-placement="top-end">',"inmemdb"!=iName){t+='<li class="dropDownButton__item subHeader menu-item px-3" data-dropdown-value="save" title="'+callParentNew("lcm")[406]+'"><span class="menu-content text-muted pb-2 px-3 fs-7">'+callParentNew("lcm")[406]+"</span></li>",t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="save" title="'+callParentNew("lcm")[400]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">save</span>'+callParentNew("lcm")[400]+"</span></li>",enableCardsUi||(t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="SHcolumns" title="'+callParentNew("lcm")[401]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">view_week</span>'+callParentNew("lcm")[401]+"</span></li>");var l="";"group"!=e&&"groupApply"!=e||(l="subHeader"),t+='<li id="chartActionLi" class="dropDownButton__item menu-item px-3 '+l+'" data-dropdown-value="chart" title="'+callParentNew("lcm")[402]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">add_chart</span>'+callParentNew("lcm")[402]+"</span></li>"}t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="moreFilters" title="'+callParentNew("lcm")[409]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">filter_list</span>'+callParentNew("lcm")[409]+"</span></li>",t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="clearFilters" title="'+callParentNew("lcm")[443]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">filter_list_off</span>'+callParentNew("lcm")[443]+"</span></li>","inmemdb"!=iName&&(t+='<li class="dropDownButton__item dropdown-itemz subHeader menu-item px-3" data-dropdown-value="data" title="'+callParentNew("lcm")[405]+'"><span class="menu-content text-muted pb-2 px-3 fs-7">'+callParentNew("lcm")[405]+"</span></li>",t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="sort" title="'+callParentNew("lcm")[403]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">sort</span>'+callParentNew("lcm")[403]+"</span></li>",t+='<li class="dropDownButton__item dropdown-itemz subHeader menu-item px-3" data-dropdown-value="save" id="Format_header" title="'+callParentNew("lcm")[423]+'"><span class="menu-content text-muted pb-2 px-3 fs-7">'+callParentNew("lcm")[423]+"</span></li>",enableCardsUi||(t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="rowGrouping" title="'+callParentNew("lcm")[404]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">table_rows</span>'+callParentNew("lcm")[404]+"</span></li>"),t+='<li class="dropDownButton__item dropdown-itemz menu-item px-3" data-dropdown-value="highlighting" title="'+callParentNew("lcm")[396]+'"><span class="menu-link px-3"><span class="material-icons material-icons-style material-icons-2 me-3">highlight</span>'+callParentNew("lcm")[396]+"</span></li>"),t+="</ul>",t+="</div>",$("#filterWrapper").html(t)}requestJSON&&appGlobalVarsObject._CONSTANTS.compressedMode&&($(".toolbarRightMenu").find(".tb-btn").addClass("btn-sm"),$(".toolbarRightMenu").find(".tb-btn .material-icons.material-icons-style").addClass("material-icons-2"));try{var o;null===(o=KTMenu)||void 0===o||o.init()}catch(s){}}function deleteViewtab(e){if(!hasBuildAccess&&"ALL"==ivirMainViewObj.views[e].applyTo)return showAlertDialog("warning",callParentNew("lcm")[484]),!1;var t=$("a#"+e).hasClass("active");t&&clearExistingPills(),$("#IvirActions").val("");try{var i=ivirMainViewObj.views[e].applyTo,a=e;delete ivirMainViewObj.views[e],ivirMainObj={},SaveSmartviewJsonToDb("set",JSON.stringify(ivirMainViewObj),i,a)}catch(n){console.log(n)}t?getSavedConditionsNew("main",JSON.stringify(ivirMainViewObj)):($("a#"+e).closest("li").remove(),reAdjust()),0==$("#viewTabs").children("li").length&&($("#dvViewtabs").hide(),$(".scroller").hide()),setSmartViewHeight()}function loadViewTab(e){var t=ivirMainViewObj.views[e].params.replace(/`/g,"&grave;"),i=ivirMainViewObj.views[e].paramsList||"";i&&(i=JSON.parse(JSON.stringify(i).replace(/&amp;/g,"&")));var a="";if(isListView&&ivirMainViewObj.views[e]&&ivirMainViewObj.views[e].visibleColumns&&ivirMainViewObj.views[e].visibleColumns.length>0&&ivirMainViewObj.views[e].visibleColumns[0].structure&&(a=ivirMainViewObj.views[e].visibleColumns),""!=t&&t!=undefined){if(SetParamValues(t,i),"main"!=e&&"charts"!=e){var n=ivirMainViewObj.views[e];n&&n.chart&&n.chart.length&&n.chart.length>0&&$("#hdnWebServiceViewName").val(e)}setTimeout(function(){$("#button1").trigger("click")},0),loadViewName=e}else if(isListView&&a){try{var r=_.map(a[0].dcs,function(e){return e.fields}).reduce(function(e,t){return e=[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]).join(",");$("#hdnLvSelectedCols").val(r),$("#hdnLvSelectedHyperlink").val(a[0].hyperlink),$("#hdnLvChangedStructure").val(ReplaceUrlSpecialChars(a[0].structure))}catch(l){}setTimeout(function(){$("#button1").trigger("click")},0),loadViewName=e}else clearExistingPills(),getSavedConditionsNew(e,JSON.stringify(ivirMainViewObj))}function pinItemToTaskbar(e){var t=$(e).clone();if(t.find("a > i").remove(),t.hasClass("dropdown-submenu")){if(t.removeClass("dropdown-submenu"),t.children("a").append('<span class="menu-arrow"></span>'),"filterWrapper"==t.attr("id")||"modern"!=iviewButtonStyle&&"ivirCButtonsWrapper"==t.attr("id")?t.find("ul").hasClass("dropdown-menu")&&t.find("ul").removeClass("dropdown-menu"):(t.addClass("dropdown"),t.find("ul").removeAttr("style"),t.find("a#tasks")&&t.find("li").addClass("liTaskItems")),"ivirCButtonsWrapper"==t.attr("id")){var i=t.find("ul  a:not(.active):eq(0)");$(i).find(".customIcon").removeClass("customIcon"),$(i).html($(i).html().replace($(i).text(),"")),t.html(i.clone())}}else t.addClass("actionWrapper");t.attr("id")&&t.attr("id","pinned"+t.attr("id")),$.each(t.find("*"),function(e,t){$(t).attr("id")&&$(t).attr("id","pinned"+$(t).attr("id"))}),$("#pinnediconsUl").append(t),"pinnedivirCButtonsWrapper"==t.attr("id")&&"modern"==iviewButtonStyle&&($("#ivirMainDataTableWrapper").is(":visible")?toggleGridView("grid"):toggleGridView("chart")),setPinedIconContainerWidth()}function constructPinnedToolbar(){if(!toolbarPinArr.length)return!1;$("#pinnediconsUl").children().remove();for(var e=0;e<toolbarPinArr.length;e++)$("#"+toolbarPinArr[e])&&($("#"+toolbarPinArr[e]).hasClass("dropdown-submenu")?(pinItemToTaskbar($("#"+toolbarPinArr[e])),$("#"+toolbarPinArr[e]).addClass("pinned"),$("#"+toolbarPinArr[e]).find("a > i").attr("title","Unpin from taskbar")):(pinItemToTaskbar($("#"+toolbarPinArr[e]).parent("li")),$("#"+toolbarPinArr[e]).parent("li").addClass("pinned"),$("#"+toolbarPinArr[e]).find("i").attr("title","Unpin from taskbar")))}function mergerSmartviewSettings(e){if(""!=e){jsonObj=JSON.parse(e),jsonObj.all&&jsonObj.all.views&&$.each(jsonObj.all.views,function(e,t){"ALL"!=t.applyTo&&delete jsonObj.all.views[e]});var t=callParentNew("mainUserName"),i=$.extend(!0,{},jsonObj.all,jsonObj[t]);return JSON.stringify(i)}}function setFilterInfo(){var e="";!(processObj=Object.keys(advFiltersObjectToApply).length>0?advFiltersObjectToApply:generateSearchString("JSON"))||$.isEmptyObject(processObj)||processObj.somedummyfilterjsobjectkey||(e='\n        <div id="myFiltersPillInfo" class="badge badge-primary cursor-pointer" onclick="openFilters = true; ivirMoreFilters();">\n            <span id="myFilterPillValues">\n                <span class="myFilterPillTooltipNew">\n                    '.concat(appGlobalVarsObject.lcm[409],'\n                </span>\n            </span>\n        </div>\n        <span data-caption="main" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="').concat(appGlobalVarsObject.lcm[443],'" onclick="clearFilters();" class="icon-arrows-remove" style="position:relative; top:3px;">\n        </span>\n        <span class="myFilterPillTooltipText">\n            ').concat(Object.keys(processObj).map(function(e){if("somedummyfilterjsobjectkey"!=e&&processObj[e]){var t=processObj[e],i="";return dateOptionsId.indexOf(t)>-1&&(t=dateOptions[dateOptionsId.indexOf(t)]),"object"==_typeof(t)&&"undefined"!=typeof t.min&&"undefined"!=typeof t.max&&(t="".concat(t.min," to ").concat(t.max)),i=requestJSON?t.toString().replace(/`/g,","):t.toString().replace(/\\|/g,","),'\n                    <span data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="'.concat(i,'">\n                        <span>\n                            ').concat(HeaderText[FieldName.indexOf(e)],"\n                        </span>: ").concat(i,"\n                    </span>\n                    ")}return""}).join(".&nbsp;"),"\n            </span>\n        ")),$("#dvSelectedFilters").is(":visible")?$(".paramPillContent").removeClass("d-none"):$(".paramPillContent").addClass("d-none"),e&&$("#dvSelectedFilters").is(":visible")?$(".paramPillContent, .filterPillContent").addClass("half"):$(".paramPillContent, .filterPillContent").removeClass("half"),$(".filterPillContent").html(e),$("#myFiltersPillInfo").data("filterJsonObj",processObj)}function clearFilters(){advFiltersObjectToApply={somedummyfilterjsobjectkey:"dummy"},ivirDataTableApi.draw(),setFilterInfo(),$("[id^='filterpillCB']").prop("checked",!1).removeAttr("checked")}function adjustChartBasedWrapperHeight(){if($("#ivirChartWrapper .chartWrapper:visible").length>0){$(".iviewTableWrapperNew").addClass("chartsAdded");var e=0;try{$(".ivcaptions").length&&(e=$(".ivcaptions").toArray().reduce(function(e,t){return e+$(t).outerHeight(!0)},0))}catch(a){}var t=0;try{$(".mainTabs").length&&(t=$(".mainTabs").outerHeight(!0))}catch(a){}var i=Math.round($(window).height()-($("#breadcrumb-panel").height()+e+t));$(".iviewTableWrapperNew.chartsAdded").css({height:i+"px"})}else $(".iviewTableWrapperNew").removeClass("chartsAdded"),$(".iviewTableWrapperNew").css({height:""})}function forceColumnWidth(){visibleTableWidth=0,$("#GridView1 tfoot tr td").css({width:"","max-width":""}),$(".dataTables_scrollHead table.gridData thead tr:last th").toArray().forEach(function(e,t){var i,a,n,r,l=$(e).data("headerName"),o=(parseInt((null===(i=ivirMainObj)||void 0===i?void 0:null===(a=i.design)||void 0===a?void 0:null===(n=a.filter(function(e){return e.name==l}))||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.width)||ivHeadRows[l]["@width"]||(isListView&&"rowno"==l?listViewCheckBoxSize:minCellWidth))||0)+widthIncrement;visibleTableWidth+=o,$(".dataTables_scrollHead table.gridData thead tr:last th[data-header-name=".concat(l,"], .dataTables_scrollBody table.gridData thead tr:last th[data-header-name=").concat(l,"], .dataTables_scrollFoot table.gridData tfoot tr td:eq(").concat(t,")")).css({width:"".concat(o,"px"),"max-width":"".concat(o,"px")})}),$(".gridData").css({width:"".concat(visibleTableWidth,"px")})}Handlebars.registerHelper("onclick",function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var n=i.pop(),r="undefined"!=typeof i[0]?i[0]:"",l="undefined"!=typeof i[1]?i[1]:",",o="undefined"!=typeof i[2]?i[2]:"";null==n||null===(e=n.data)||void 0===e||e.root;return generateCellOnClick($("<td></td>"),r,l,o)||""}),Handlebars.registerHelper("get",function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var n=i.pop(),r="undefined"!=typeof i[0]?i[0]:"",l=(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.root)||[];return(null==l?void 0:l[r])||""}),Handlebars.registerHelper("set",function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var n=i.pop(),r="undefined"!=typeof i[0]?i[0]:"",l="undefined"!=typeof i[1]?i[1]:"",o=(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.root)||[];return!(void 0===o||!r)&&(o[r]=l,!0)});var subHeadGroup={};function saveSubHeadInfo(e,t,i){"subhead"==(null==t?void 0:t.axrowtype)?subHeadGroup[i]=t:i-1==Object.keys(subHeadGroup).getMaxVal()&&null!=subHeadGroup[Object.keys(subHeadGroup).getMaxVal()]&&(subHeadGroup[i]=null)}function getLayoutHTML(e){switch(e){case"card":return'\n            <style>\n                table#GridView1 {\n                    width: 70% !important;\n                    margin: 0 auto;\n                }\n\n                tr.rowTemplate {\n                    box-shadow: none !important;\n                }\n\n                @media (max-width: 960px) {\n                    table#GridView1 {\n                        width: 85% !important;\n                    }\n                }\n\n                @media (max-width: 768px) {\n                    table#GridView1 {\n                        width: 85% !important;\n                    }\n                }\n\n                @media (max-width: 600px) {\n                    table#GridView1 {\n                        width: 95% !important;\n                    }\n                }\n\n                @media (max-width: 480px) {\n                    table#GridView1 {\n                        width: 95% !important;\n                    }\n                }\n\n                @media (max-width: 320px) {\n                    table#GridView1 {\n                        width: 95% !important;\n                    }\n                }\n            </style>\n            <div class="container show" style="width: 100%; padding: 0px 30px;">\n                <div class="row">\n\n                    <section class="panel panel-primary card">\n                        <div class="pull-right panel-header">\n                            <div class="section-apt-status" style="padding: 15px;">\n                                {{#is axp_status}}\n                                    {{#is axp_status \'toLower\' \'active\'}}\n                                    <span class="apt-status-color" style="padding: 12px; border-radius: 50%; background: green; display: inline-block;"></span>\n                                    {{/is}}\n                                    {{#is axp_status \'toLower\' \'delayed\'}}\n                                    <span class="apt-status-color" style="padding: 12px; border-radius: 50%; background: red; display: inline-block;"></span>\n                                    {{/is}}\n                                    {{#is axp_status \'toLower\' \'progress\'}}\n                                    <span class="apt-status-color" style="padding: 12px; border-radius: 50%; background: orange; display: inline-block;"></span>\n                                    {{/is}}\n                                    <span class="apt-status-text" style="display: inline-block; padding: 6px 12px; vertical-align: super; font-size: 16px; font-style: italic;">{{axp_status}}</span>\n                                {{/is}}                        \n\n                                {{#is axrowoptions}}\n                                <ul class="header-dropdown" style="list-style: none; display: inline-block;">\n                                    <li class="dropdown">\n                                        <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"\n                                            role="button" aria-haspopup="true" aria-expanded="true">\n                                            <i class="material-icons">more_vert</i>\n                                        </a>\n                                        <ul class="dropdown-menu pull-right">\n                                            {{#each (split axrowoptions \'~\')}}\n                                            <li><a href="javascript:void(0);"\n                                                    onclick="{{onclick (split this \',\' \'2\') (split this \',\' \'0\') ../axRenderRowNo}}"><i\n                                                        class="material-icons" style="margin-right: 5px;">{{split this \',\'\n                                                        \'3\'}}</i><span style="position: relative; top: -5px;">{{split this \',\'\n                                                        \'1\'}}</span></a></li>\n                                            {{/each}}\n                                        </ul>\n                                    </li>\n                                </ul>\n                                {{/is}}\n                            </div>\n                        </div>\n                        <div class="panel-body clearfix">\n\n                            {{#is axp_icon_img}}\n                            <div class="pull-left"\n                                style="position: relative; padding: 10px; width: 95px; height: 130px; margin-left: -10px;">\n                                <img src="../{{axRenderProject}}/Images/{{axp_icon_img}}" alt="image" style="max-width: 75px; position: absolute; bottom: 50%; left: 50%; transform: translate(-50%, 50%);" />\n                            </div>\n\n                            {{else}}\n                                {{#is axp_icon}}\n                                <div class="pull-left section-apt-icon"\n                                    style="border-radius: 50px; background-color: blue; position: absolute; padding: 35px; margin-right: 25px; display: inline-block; top: 50%; transform: translate(0, -50%);">\n                                    <span class="apt-icon"\n                                        style="color: white; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); font-size: 20px;">{{axp_icon}}</span>\n                                    <div class="clearfix"></div>\n                                </div>\n                                {{/is}}\n                            {{/is}}\n\n\n                            <div class="section-apt-text" style="padding: 0 10px; margin-left: 85px;">\n                                <h2>{{{axp_title}}}</h2>\n\n                                <p>{{axp_description}}</p>\n                            </div>\n\n                        </div>\n                    </section>\n\n                </div>\n            </div>\n            ';case"tile":return'\n            <style>\n                table#GridView1 {\n                    width: 100% !important;\n                    margin: 0 auto;\n                    display: inline-block;\n                }\n\n                table#GridView1 tbody {\n                    display: flex;\n                    flex-wrap: wrap;\n                    align-content: flex-start;\n                }\n\n                tr.rowTemplate {\n                    box-shadow: none !important;\n                    width: 33.333333% !important;\n                    margin: 0 !important;\n                    display: inline-block;\n                }\n\n                @media (max-width: 960px) {\n                    tr.rowTemplate {\n                        width: 33.333333% !important;\n                    }\n                }\n\n                @media (max-width: 768px) {\n                    tr.rowTemplate {\n                        width: 50% !important;\n                    }\n                }\n\n                @media (max-width: 600px) {\n                    tr.rowTemplate {\n                        width: 50% !important;\n                    }\n                }\n\n                @media (max-width: 480px) {\n                    tr.rowTemplate {\n                        width: 100% !important;\n                    }\n                }\n\n                @media (max-width: 320px) {\n                    tr.rowTemplate {\n                        width: 100% !important;\n                    }\n                }\n            </style>\n            <div class="container show" style="width: 100%; padding: 0px 30px;">\n                <div class="row">\n                <section class="panel panel-primary card" style="max-width: 100%">\n                        <div class="pull-right" style="padding: 15px 10px;/* position: relative; */">\n                            {{#is axrowoptions}}\n                            <ul class="header-dropdown" style="list-style: none;/* display: inline-block; */padding: 0;/* margin-top: 20px; */position: relative;top: 10px;">\n                            <li class="dropdown">\n                                <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"\n                                role="button" aria-haspopup="true" aria-expanded="true">\n                                <i class="material-icons">more_vert</i>\n                                </a>\n                                <ul class="dropdown-menu pull-right">\n                                {{#each (split axrowoptions \'~\')}}\n                                <li><a href="javascript:void(0);" onclick="{{onclick (split this \',\' \'2\') (split this \',\' \'0\') ../axRenderRowNo}}"><i class="material-icons" style="margin-right: 5px;">{{split this \',\'\n                                    \'3\'}}</i><span style="position: relative; top: -5px;">{{split this\n                                    \',\'\n                                    \'1\'}}</span></a></li>\n                                {{/each}}\n                                </ul>\n                            </li>\n                            </ul>\n                            {{/is}}\n                        </div>\n                        <div style="padding: 10px 15px 0px;">\n                            <div class="">\n                                {{#is axp_icon_img}}\n                                <div class="left" style="position: relative; padding: 2px; display: inline-block;">\n                                <img src="../{{axRenderProject}}/Images/{{axp_icon_img}}" alt="Not Found" style="max-width: 70px;" />\n                                </div>\n                                {{else}}\n                                    {{#is axp_icon}}\n                                    <div class="section-apt-icon text-center"\n                                        style="border-radius: 50%;background-color: blue;position: relative;padding: 35px;/* margin-right: 25px; */display: inline-block;/* left: -50%; *//* transform: translate(-50%, -50%); */">\n                                    <span class="apt-icon"\n                                            style="color: white; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); font-size: 20px;">{{axp_icon}}</span>\n                                    <div class="clearfix"></div>\n                                    </div>\n                                    {{/is}}\n                                {{/is}}\n                                <div class="section-apt-title" style="display: inline-block;padding: 0 15px;position: relative;vertical-align: top;">\n                                <h2 style="/* display: inline-block; */">\n                                    {{{axp_title}}}\n                                </h2>\n                            </div>\n                            </div>     \t                \t\n                        </div>\n                        <div class="panel-body">\n                            <hr style="margin: 0px 0px 10px;"/>\n                            <div class="section-apt-text" style="padding: 0 10px;">\n                                <p>{{axp_description}}</p>\n                            </div>\n                            {{#is axp_status}}\n                                <hr style="margin: 0px 0 10px;"/>\n                                <div class="left" style="padding: 5px;display: inline-block;/* background-color: #f5f5f5; *//* border: 1px solid #ccc; *//* border-radius: 5px; */">\n                                {{#is axp_status \'toLower\' \'active\'}}\n                                <span class="apt-status-color" style="padding: 12px; border-radius: 50%; background: green; display: inline-block;"></span>\n                                {{/is}}\n                                {{#is axp_status \'toLower\' \'delayed\'}}\n                                <span class="apt-status-color" style="padding: 12px; border-radius: 50%; background: red; display: inline-block;"></span>\n                                {{/is}}\n                                {{#is axp_status \'toLower\' \'progress\'}}\n                                <span class="apt-status-color" style="padding: 12px; border-radius: 50%; background: orange; display: inline-block;"></span>\n                                {{/is}}\n                                <span class="apt-status-text" style="display: inline-block; padding: 6px 12px; vertical-align: super; font-size: 16px; font-style: italic;">{{axp_status}}</span>     \n                                </div>\n                            {{/is}}\n                        </div>\n                    </section>\n                </div>\n            </div>\n            ';case"":default:return e}}function parseJSON(e){try{return JSON.parse(e)}catch(t){return!1}}function smartStepper(e,t,i){var a,n,r,l,o,s,c,d,p,h;ShowDimmer(!0);var u=Object.keys(newBtnGroup).map(function(e){return newBtnGroup[e]}).filter(function(e){return e.visible});"main"==t&&"main"==i&&isListView&&(u=u.filter(function(e){return"design"==e.name}));var m='saveViewActionRef("'.concat(e?"Add View":"Edit View",'", "view", "saveInSessionBeforeSaveNew", ').concat(h,", ").concat(!e,")"),v='<div class="stepper stepper-pills card bg-transparent border-0 h-100">        \n        <div class="card-header d-block p-0 bg-transparent border-0">\n            <div class="stepper-nav bg-white rounded-2 flex-center flex-wrap">\n                '.concat(u.map(function(e,t){return'<div class="stepper-item mx-2 my-4 '.concat(0==t?"current":"",'" data-kt-stepper-element="nav" data-kt-stepper-action="step" data-kt-stepper-action="click" data-svname="').concat(e.name,'">\n                        <div class="stepper-line w-40px"></div>\n                        <div class="stepper-icon w-40px h-40px">\n                            <span class="stepper-check material-icons material-icons-style material-icons-2">').concat(e.icon,'</span>\n                            <span class="stepper-number material-icons">').concat(e.icon,'</span>\n                        </div>\n                        <div class="stepper-label">\n                            <h3 class="stepper-title">\n                                ').concat(e.caption,"\n                            </h3>                       \n                        </div>\n                    </div>")}).join(""),'                \n            </div>\n        </div>\n        <div class="card-body p-0">\n            <div class="form w-lg-75 w-md-50 w-sm-100 mx-auto" novalidate="novalidate">\n                <div class="mb-5">\n                    ').concat(u.map(function(t,i){return'<div class="flex-column '.concat("column"==t.task&&!isListView||"sort"==t.task?"w-lg-50 w-md-75 w-sm-100 mx-auto":"column"==t.task&&isListView?"w-lg-75 w-md-75 w-sm-100 mx-auto":""," ").concat(0==i?"current":"",'" data-kt-stepper-element="content" data-svname="').concat(t.name,'">\n                                ').concat(t.html(!e),"\n                            </div>")}).join(""),"                    \n                </div>                \n            </div>\n        </div>        \n    </div>\n    "),b='<label class="input-group border-bottom required"> \n        <input required id="viewName" type="text" class="d-none form-control" maxlength="20" tabindex="-1" value="'.concat(t,'" ').concat(t&&!e?'disabled="disabled"':"",' />\n\n        <input required id="viewCaption" type="text" class="form-control form-control-transparent ps-12" maxlength="20" tabindex="-1" placeholder="Enter View Name..." title="Enter View Name..." value="').concat(i,'" ').concat(i&&!e?'disabled="disabled"':"",' /> \n\n        <span class="material-icons material-icons-style material-icons-2 material-icons-lg-3 cursor-default position-absolute top-50 translate-middle-y ms-4 z-index-3">\n            edit\n        </span>\n    </label>\n    \n    <label class="input-group gap-5 ').concat(hasBuildAccess?"":"d-none",'">                    \n        <label class="form-label col-form-label pb-1 fw-boldest text-gray-500 fst-italic">for</label>\n        <select class="form-select form-select-white border-bottom dialogSlctFld" id="viewAplyTo" placeholder="Apply To">\n            <option value=').concat(callParentNew("mainUserName"),">").concat(callParentNew("mainUserName"),'</option>\n            <option value="ALL">ALL</option>\n        </select>\n    </label>\n\n    <label class="input-group gap-5 w-600px ').concat(isListView?"":"d-none",'">\n        \x3c!--<div class="vr h-25px bg-dark my-3"></div>--\x3e   \n        <label class="form-label col-form-label pb-1 fw-boldest text-gray-500 fst-italic">set as</label>\n        <div class="form-check form-switch form-check-custom form-check-solid--- px-1">\n            <label for="asDefaultView" class="form-check-label form-label col-form-label pb-1 fw-boldest opacity-100 noempty nopurpose col-form-label-sm fs-6">\n                Default View\n            </label>\n            <input type="checkbox" id="asDefaultView" title="" style="" name="asDefaultView" class="form-check-input opacity-100 tem custInpChk w-50px h-25px ms-2" ').concat((null===(a=ivirMainObj)||void 0===a?void 0:a.groupName)!==currView||""==currView||e?"":' checked="checked" '," />\n        </div>\n    </label>\n    "),f="".concat(e||"main"==t?"":'<span class="btn btn-icon btn-light btn-active-light-danger shadow-sm me-2" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="modal" data-bs-original-title="Delete View" onclick="deleteViewtab(\''.concat(t,'\')">\n        <span class="material-icons material-icons-style">\n            delete\n        </span>\n    </span>'),'\n    \n    <span class="btn btn-icon btn-light btn-active-light-primary shadow-sm sv-btn-reset" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" data-bs-original-title="').concat(appGlobalVarsObject.lcm[393],'">\n        <span class="material-icons material-icons-style">\n            auto_mode\n        </span>\n    </span>\n    '),g='<button type="button" class="btn btn-light-primary btn-active-primary shadow-sm sv-btn-apply">\n        '.concat(appGlobalVarsObject.lcm[442],"\n    </button>\n    "),w=new BSModal("newViewTabId","",v,function(i){u.map(function(t,i){return"filter"==t.task?initMoreFiltersAddOns():("group"!=t.task&&"highlight"!=t.task||e?"column"==t.task&&isListView&&ivirMainObj.visibleColumns&&$("#selColHypOpts").val(ivirMainObj.visibleColumns[0].hyperlink).trigger("change"):ivirMainObj[t.task]&&(h=[t.task,0]),onContentReadyRef(t.task,h,!e))}).join(""),d=document.querySelector("#newViewTabId"),p=new KTStepper(d);var a="".concat(appGlobalVarsObject.lcm[442]," ").concat(p.steps[p.getCurrentStepIndex()-1].getElementsByClassName("stepper-title")[0].innerText);document.getElementsByClassName("sv-btn-apply")[0].innerText=a,p.on("kt.stepper.click",function(e){e.goTo(e.getClickedStepIndex()),a="".concat(appGlobalVarsObject.lcm[442]," ").concat(e.steps[e.getCurrentStepIndex()-1].getElementsByClassName("stepper-title")[0].innerText),document.getElementsByClassName("sv-btn-apply")[0].innerText=a});try{var n;if($("select.stepperSelect").select2({allowClear:!0,dropdownParent:document.getElementById("newViewTabId"),placeholder:appGlobalVarsObject.lcm[441],tags:!0,tokenSeparators:["`"]}),$("select#viewAplyTo").select2({allowClear:!0,minimumResultsForSearch:Infinity,placeholder:appGlobalVarsObject.lcm[441],width:"resolve"}),!e){var r=ivirMainViewObj.views[t].applyTo;r&&$("select#viewAplyTo").val(r).trigger("change"),$("select#viewAplyTo").prop("disabled",!0).next(".select2").find(".select2-selection").addClass("bg-white")}null===(n=KTApp)||void 0===n||n.initBootstrapTooltips(),$(document).off("click",".sv-btn-apply").on("click",".sv-btn-apply",function(){var t,i,a,n=null===(t=newBtnGroup[p.steps[p.currentStepIndex-1].dataset.svname])||void 0===t?void 0:t.task;saveViewActionRef("".concat(e?"Add View":"Edit View"),"".concat(n),null===(i=newBtnGroup[p.steps[p.currentStepIndex-1].dataset.svname])||void 0===i?void 0:i.apply,e?h:[n,0],!e),showAlertDialog("info","".concat(null===(a=newBtnGroup[p.steps[p.currentStepIndex-1].dataset.svname])||void 0===a?void 0:a.caption," applied. Please ").concat(appGlobalVarsObject.lcm[400]," to see the changes."))}).off("click",".sv-btn-reset").on("click",".sv-btn-reset",function(){var e,t;null===(e=newBtnGroup[p.steps[p.currentStepIndex-1].dataset.svname])||void 0===e||e.clear(),showAlertDialog("success","".concat(null===(t=newBtnGroup[p.steps[p.currentStepIndex-1].dataset.svname])||void 0===t?void 0:t.caption," ").concat(appGlobalVarsObject.lcm[393],"."))})}catch(l){}setTimeout(function(){ShowDimmer(!1)},0)},function(e){oldLoadViewName&&$(".lnkViewTab#".concat(oldLoadViewName)).click(),oldLoadViewName="",setTimeout(function(){var e;onCloseRef(null===(e=newBtnGroup[p.steps[p.currentStepIndex-1].dataset.svname])||void 0===e?void 0:e.task),p=undefined},0)});w.changeSize("fullscreen"),w.scrollableDialog(),w.okBtn.innerText=appGlobalVarsObject.lcm[400],w.okBtn.setAttribute("onclick","".concat(m)),w.okBtn.removeAttribute("data-bs-dismiss"),w.cancelBtn.classList.add("d-none"),(n=w.modalFooter.classList).add.apply(n,_toConsumableArray("hstack gap-2".split(" ")));var C=document.createElement("div");(r=C.classList).add.apply(r,_toConsumableArray("d-flex col-11 gap-5".split(" "))),w.modalHeader.prepend(C),w.headerExtras=C,w.headerExtras.innerHTML=b,null===(l=w.modalHeader.getElementsByClassName("btn-close"))||void 0===l||l[0].setAttribute("onclick",'cancelViewActionRef("'.concat(e?"Add View":"Edit View",'")'));var y=document.createDocumentFragment();w.footerExtras=y;var x=document.createElement("div");(o=x.classList).add.apply(o,_toConsumableArray("vr h-30px bg-dark m-3".split(" "))),w.modalFooter.prepend(x),w.footerExtras.buttonSeparator=x;var k=document.createElement("div");(s=k.classList).add.apply(s,_toConsumableArray("d-flex gap-2".split(" "))),w.modalFooter.prepend(k),w.footerExtras.buttonApply=k,w.footerExtras.buttonApply.innerHTML=g;var T=document.createElement("div");(c=T.classList).add.apply(c,_toConsumableArray("d-flex gap-2 me-auto".split(" "))),w.modalFooter.prepend(T),w.footerExtras.buttonDeleteReset=T,w.footerExtras.buttonDeleteReset.innerHTML=f}function smartCharts(){var e=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0],t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined,i=arguments.length>2&&arguments[2]!==undefined&&arguments[2],a=new BSModal(appGlobalVarsObject.lcm[410],appGlobalVarsObject.lcm[410],getChartHtml(!e),function(){var e;$("select.chartSelect").select2({allowClear:!0,dropdownParent:document.getElementById(appGlobalVarsObject.lcm[410]),placeholder:appGlobalVarsObject.lcm[441]}),onContentReadyRef("chart",t,i),null===(e=KTApp)||void 0===e||e.initBootstrapTooltips()},function(){onCloseRef("chart")});a.changeSize("fullscreen"),a.scrollableDialog(),a.okBtn.innerText=appGlobalVarsObject.lcm[399],a.okBtn.removeAttribute("data-bs-dismiss"),a.okBtn.addEventListener("click",function(){saveViewActionRef("Charts","chart",newBtnGroup.charts.apply,t,i)})}function getRowGroupingCondtionHtml(){return'\n    <div class="col-md-4 col-sm-12">\n        <div class="form-group">\n            <label for="totalAggrFunction" class="form-label col-form-label pb-1 fw-boldest">Function</label>\n            <select class="form-select stepperSelect totalAggrFunction">\n                <option value="">'.concat(appGlobalVarsObject.lcm[441],'</option>\n                <option value="sum">Sum</option>\n                <option value="count">Count</option>\n                <option value="max">Max</option>\n                <option value="min">Min</option>\n                <option value="avg">Average</option>\n            </select>\n        </div>\n    </div>\n    <div class="col-md-4 col-sm-12">\n        <div class="form-group">\n            <label for="totalSource" class="form-label col-form-label pb-1 fw-boldest">Source</label>\n            <a href="javascript:void(0);" class="ms-2 align-middle icon-arrows-question" tabindex="-1"\n                data-bs-toggle="tooltip" data-bs-placement="right" data-bs-dismiss="click"\n                data-bs-original-title="Please select the column, which will be used by the function for computation.">\n                <span class="material-icons material-icons-style material-icons-3">help_outline</span>\n            </a>\n            <select class="form-select stepperSelect totalSource">\n                <option value="">').concat(appGlobalVarsObject.lcm[441],'</option>\n            </select>\n        </div>\n    </div>\n    <div class="d-flex flex-row-auto flex-center gap-3 col-md-4 firstRow grpaddDltBtnWrapper">\n        <label class="form-label col-form-label pb-1 fw-boldest labelP">Grand Total</label>\n        <div class="checkbox grndTotalWrapper">\n            <label class="form-check form-check-sm form-check-custom form-check-solid grndTtlCB">\n                <input disabled type="checkbox" value="" class="form-check-input">\n            </label>\n        </div>\n        <button type="button" title="Add" onclick="ivirAddTotalCndtn(2);"\n            class="btn btn-sm btn-icon btn-active-light-primary shadow-sm ivirTotalCndtnBtn">\n            <i class="material-icons material-icons-style material-icons-1 ivirTotalCndtnIcon">add</i>\n        </button>\n    </div>\n    ')}function smartDesign(e){var t,i='<label class="input-group border-bottom required d-none"> \n    <input required id="viewName" type="text" class="d-none form-control" maxlength="20" tabindex="-1" value=""} />\n\n    <input required id="viewCaption" type="text" class="form-control form-control-transparent ps-12" maxlength="20" tabindex="-1" placeholder="Enter View Name..." title="Enter View Name..." value="main"} /> \n\n    <span class="material-icons material-icons-style material-icons-2 material-icons-lg-3 cursor-default position-absolute top-50 translate-middle-y ms-4 z-index-3">\n        edit\n    </span>\n</label>\n\n<label class="input-group gap-5 '.concat(hasBuildAccess?"":"d-none",'">                    \n    <label class="form-label col-form-label pb-1 fw-boldest text-gray-500 fst-italic">Design for</label>\n    <select class="form-select form-select-white border-bottom dialogSlctFld" id="viewAplyTo" placeholder="Apply To">\n        <option value=').concat(callParentNew("mainUserName"),">").concat(callParentNew("mainUserName"),'</option>\n        <option value="ALL">ALL</option>\n    </select>\n</label>'),a=new BSModal("design","",e,function(){onContentReadyRef("design",undefined,!1),$("select#viewAplyTo").select2({allowClear:!0,dropdownParent:document.getElementById("design"),minimumResultsForSearch:Infinity,placeholder:appGlobalVarsObject.lcm[441],width:"resolve"})},function(){onCloseRef("design")});a.changeSize("fullscreen"),a.scrollableDialog(),a.cancelBtn.classList.add("d-none"),a.okBtn.innerText=appGlobalVarsObject.lcm[399],a.okBtn.removeAttribute("data-bs-dismiss"),a.okBtn.addEventListener("click",function(){saveViewActionRef("Design","design",newBtnGroup.design.apply,undefined,!1)});var n=document.createElement("div");(t=n.classList).add.apply(t,_toConsumableArray("d-flex col-6 gap-5".split(" "))),a.modalHeader.prepend(n),a.headerExtras=n,a.headerExtras.innerHTML=i}function loadAxRuleEngineForm(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";createAxRulesPopup("true"==e?"tstruct.aspx?act=open&transid=axrlr&AxPop=true":"tstruct.aspx?act=load&transid=axrlr&axpdef_rulesdefid="+t+"&AxPop=true")}function createAxRulesPopup(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];try{var i="loadPopUpPage",a='<iframe id="'.concat(i,'" name="').concat(i,'" class="col-12 flex-column-fluid w-100 h-100 p-0 my-n1" src="').concat(t?"":e,'" frameborder="0" allowtransparency="True"></iframe>'),n=new BSModal(i,"",a,function(a){if(t)try{n.modalBody.querySelector("#".concat(i)).contentWindow.location.href=e}catch(r){}},function(t){!(e.indexOf("AxPop=true")>-1)||"Iview"!=window.document.title&&"Listview"!=window.document.title||(window.location.href=window.location.href)});n.changeSize("fullscreen"),n.hideHeader(),n.hideFooter(),n.showFloatingClose(),n.modalBody.classList.add("p-0","overflow-hidden")}catch(r){showAlertDialog("error",r.message)}}function processMask(e){e.td;var t,i,a=e.cellData,n=(e.rowData,e.row,e.col,e.colID),r=(e.rowDataAccess,a);if((t=ivHeadRows[n]["@mask"])&&t.maskchar)if("Mask all characters"==t.masking&&t.maskroles&&((null===(i=AxRole)||void 0===i?void 0:i.split(","))||[]).some(function(e){var i;return((null===(i=t.maskroles)||void 0===i?void 0:i.split(","))||[]).indexOf(e)>-1}))r=t.maskchar.repeat(r.toString().length);else if("Show few characters"==t.masking){var l=+t.firstcharmask,o=+t.lastcharmask;l&&(r.toString().length<l&&(l=r.toString().length),r=RevMaskCharacter(r.toString(),t.maskchar,l)),o&&(r.toString().length<o&&(o=r.toString().length),r=MaskCharacter(r.toString(),t.maskchar,r.toString().length-o))}return r}