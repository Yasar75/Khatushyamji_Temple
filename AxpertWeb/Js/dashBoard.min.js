/*www.agilecloud.biz/minZIP?v=3.5*/var details={},dtsearchparams=[],searchlistval=[],tblFilterParams=[],mdftblFilterParams=[],groupType="",widgetGroup=[],unFilter=!1,tableWidgetsCount={},isWgtZoomIn=!1,tDataG,chartHeight=300,mappingdata=[],xxx=[],chartUid="";function ChangeDir(t){$j("#form1").attr("dir",t)}function getFilterParamsData(ddlParams,fltParams){$j.ajax({url:"dashBoard.aspx/GetFilterParamsData",type:"POST",cache:!1,async:!1,data:JSON.stringify({sqlQuery:""}),dataType:"json",contentType:"application/json",success:function success(data){try{if(tblFilterParams=$j.parseJSON(data.d),tblFilterParams.Table0.length>0&&fltParams.split(",")[0]==ddlParams.split(",")[0])for(ftlist=0;ftlist<ddlParams.split(",").length;ftlist++){$.each(tblFilterParams.Table0,function(ind,item){var paramddl=ddlParams.split(",")[ftlist].toUpperCase(),itemName=void 0!==eval("item."+paramddl)?eval("item."+paramddl):eval("item."+paramddl.toLowerCase());$("#"+ddlParams.split(",")[ftlist]+" li:contains("+itemName+")").each(function(){$(this).text()==itemName&&$(this).remove()}),($.inArray(paramddl,Object.keys(item))>-1||$.inArray(paramddl.toLowerCase(),Object.keys(item))>-1)&&$("#"+ddlParams.split(",")[ftlist]).append('<li data-target="'+ddlParams.split(",")[ftlist]+ind+'" data-type="tstruct" class="collection-item filterli">'+itemName+"</li>")});break}}catch(Exception){console.log("Get Filter Params Data-"+Exception.message)}}})}function startDBLoader(){$.LoadingOverlay("show")}function closeDBLoader(){$.LoadingOverlay("hide",!0)}function ChangeTheme(){var theme="";if(theme=eval(callParent("currentThemeColor")),""!=theme)$j("#themecss").attr("href","../App_Themes/"+theme+"/Stylesheet.min.css?v=23");else{var themeref="";window.opener&&(themeref=$j("#themecss",window.opener.document).attr("href"),""!=themeref&&$j("#themecss").attr("href",themeref)),parent.parent.document&&(themeref=$j("#themecss",parent.parent.document).attr("href"),""!=themeref&&$j("#themecss").attr("href",themeref)),""!=themeref&&themeref!=undefined||(themeref="../App_Themes/"+axTheme+"/Stylesheet.min.css?v=23",$j("#themecss").attr("href",themeref))}}function collapseDBTB(t){$("#HPBToolBox").addClass("animate fadeOutLeft")}function chartResize(t,e,a,i,l){var s=t.parents(".widgetWrapper").find(".wrapperForWidgets"),n=parseInt(s.attr("data-highcharts-chart"));s!=undefined&&n!=undefined&&n>=0?"setWidth"==e?setTimeout(function(){Highcharts.charts[n].setSize(a,i,l)},50):"reflow"==e&&Highcharts.charts[n].reflow():s!=undefined&&s.css("height",i)}function WidgetResize(){var t=$(".rightPartODshBrd").offset(),e=$(".rightPartODshBrd").outerWidth(),a=$(".rightPartODshBrd").outerHeight();$(".widgetWrapper.widgetExpanding")[0]&&$(".widgetWrapper.widgetExpanding").css({top:t.top+"px",left:t.left+3+"px",width:e-10+"px","max-width":e+"px",height:a-15+"px"}),$("div.blurMe")[0]&&$("div.blurMe").css({top:t.top+"px",left:t.left+3+"px",width:e-10+"px","max-width":e+"px",height:a-15+"px"})}function makeshowwidget(t){if(0==$("#"+t).length)return!1;var e=$("#"+t).find(".widgetWrapper");if(0==e.length)return!1;e.each(function(){var t=$(this).data("id");ajaxCallObj.getAxpertWidgetDetails(t)})}function renameTheTabId(t){return"AxDTabs"+t.replace(/ /g,"")}function makefilterpanel(){$j.ajax({async:!0,crossDomain:!0,url:apiBase+"getdashboardfilters",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:{session_id:sId,utl:utls,username:username,authorization:parent.nodeAccessToken,appSKey:appsessionKey},success:function(t){if(!t.status)return valSessByApi(t),!1;var e=t.data,a=e.metaData;for(i=0;i<a.length;i++)mappingdata[a[i].name]=i;if(e.rows.length>0){var l,s,n="",r="";l=e.rows.length,s=e.rows;var o={};for(ftleng=0;ftleng<l;ftleng++)if(o.MOE=s[ftleng][mappingdata.MOE],o.PNAME=s[ftleng][mappingdata.PNAME],o.PCAPTION=s[ftleng][mappingdata.PCAPTION],o.DATATYPE=s[ftleng][mappingdata.DATATYPE],"select"==o.MOE.toLowerCase()||"autocomplete"==o.MOE.toLowerCase()){n+=o.PNAME+",",r+=o.PNAME+",";var c='<ul class="collection with-header"><li class="collection-header"><span class="toolBxPanelSrchSpn"><input placeholder="'+o.PCAPTION+'" class="toolBxPanelSrch"><i class="searchIcon icon-magnifier"></i></span></li><ul id="'+o.PNAME+'" class="collectionListUl"></ul></ul>';$("#toolBxPanel").append(c)}else if("character"==o.DATATYPE.toLowerCase()){c='<ul class="collection with-header"><li class="collection-header"><span class="toolBxPanelSrchSpn"><input id='+o.PNAME+' placeholder="'+o.PCAPTION+'" class="toolBxPanelSrch filtertext"><i class="searchIcon icon-magnifier"></i></span></li></ul>';$("#toolBxPanel").append(c)}else if("date"==o.DATATYPE.toLowerCase()){c='<ul class="collection with-header"><li class="collection-header"><span class="toolBxPanelSrchSpn"><input id='+o.PNAME+' placeholder="'+o.PCAPTION+'" class="toolBxPanelSrch datepicker filtertext"></span></li></ul>';$("#toolBxPanel").append(c)}else $("#toolBxPanel").append('<ul class="collection with-header"><li class="collection-header"><span class="toolBxPanelSrchSpn"><input id='+o.PNAME+' placeholder="'+o.PCAPTION+'" class="toolBxPanelSrch allownumericwithdecimal filtertext"><i class="searchIcon icon-magnifier"></i></span></li></ul');""!=n&&getFilterParamsData(r,n=n.slice(0,-1))}else $("#HPBToolBox").hide(),$("#HPBdesignerCanvas").removeClass("col s9").addClass("col s12")}})}function filterParams(){tableWidgetsCount={};try{var t="",e="",a="";$("#toolBxPanel .selected").each(function(){var i=$(this),l=i.val(),s=i.prop("tagName");if(s!=undefined&&"INPUT"==s)return inpID=i.attr("id"),t+=inpID+":"+l+"~",void(e+=l);var n=i.prop("tagName");if(n==undefined||"LI"!=n);else if(inpID=i.parents(".collectionListUl").attr("id"),a!=inpID){a=inpID;var r="";$("#"+inpID+" li.selected").each(function(){r+=$(this).text()+","}),t+=inpID+":"+r.slice(0,-1)+"~",e+=r.slice(0,-1)}});var l=chartUid.slice(0,-1).split(";");if(""!=e){for(startDBLoader(),unFilter=!0,i=0;i<l.length;i++)ajaxCallObj.getAxpertWidgetDetails(l[i],t.slice(0,-1));setTimeout(function(){closeDBLoader()},500)}else if(1==unFilter){for(startDBLoader(),i=0;i<l.length;i++)l[i]&&ajaxCallObj.getAxpertWidgetDetails(l[i],t.slice(0,-1));unFilter=!1,setTimeout(function(){closeDBLoader()},500)}else showAlertDialog("warning","Require at least one filter value")}catch(s){}}function adjustTheKpis(t){var e=tableWidgetsCount[t];if(e)if((e=parseInt(e))<=4){var a=100/e;$("#"+t+" div[data-type='table']").css("width",a+"%"),$("#"+t+" div[data-type='kpi']").css("width",a+"%")}else{var i=Math.floor(e/4),l=e%4;if(0==l)$("#"+t+" div[data-type='table']").css("width","25%"),$("#"+t+" div[data-type='kpi']").css("width","25%");else{$("#"+t+" div[data-type='table']:lt("+4*i+")").css("width","25%"),$("#"+t+" div[data-type='kpi']:lt("+4*i+")").css("width","25%");var s=100/l;$("#"+t+" div[data-type='table']:gt("+(4*i-1)+")").css("width",s+"%"),$("#"+t+" div[data-type='kpi']:gt("+(4*i-1)+")").css("width",s+"%")}}}$j(function(){function editQLLinks(t,e){if(""!=$j("#txtAddu").val()){for(var a=!1,i=$j("#divQuickLinks p a").length,l=$j("#divQuickLinks p a"),s=0;s<i;s++)l.get(s).text.toLowerCase()==$j("#txtAddu").val().toLowerCase()&&e!=$j("#txtAddu").val().toLowerCase()&&(a=!0);0==a?($("#linkEditDialog").dialog("close"),$j.ajax({url:"dashBoard.aspx/UpdateQL",type:"POST",cache:!1,data:JSON.stringify({linkUrl:$j("#sel1u").find(":selected").val(),linkname:$j("#txtAddu").val(),linkId:t}),dataType:"json",contentType:"application/json",success:function(e){if("Quicklink updated successfully"==e.d){var a="<p class='links' id="+t+">";a+="<a href='javascript:void(0);' class=\"line-truncateQL\" title='"+$j("#txtAddu").val()+"' onclick=\"javascript:parent.LoadIframe('"+$j("#sel1u").find(":selected").val()+"')\">"+$j("#txtAddu").val()+"</a>",a+="<img src='../images/deletedb.png' alt='"+t+"' title='"+$j("#txtAddu").val()+"' id='DelLinks' style='margin-left: 10px;'/><img src='../images/edit.png' alt='"+t+"' title='"+$j("#txtAddu").val()+"' id='EditLinks' />",a+="</p>",$j("#divQuickLinks #"+t).empty(),$j("#divQuickLinks #"+t).append(a)}showAlertDialog("success",e.d)}})):showAlertDialog("error",1052,"client")}else showAlertDialog("warning",1053,"client")}function addQLLink(){if(""!=$j("#txtAdd").val()){for(var t=!1,e=$j("#divQuickLinks p a").length,a=$j("#divQuickLinks p a"),i=0;i<e;i++)a.get(i).text.toLowerCase()==$j("#txtAdd").val().toLowerCase()&&(t=!0);0==t?($("#linksdialog").dialog("close"),$j.ajax({url:"dashBoard.aspx/AddQL",type:"POST",cache:!1,data:JSON.stringify({linkName:$j("#txtAdd").val(),linkUrl:$j("#sel1").find(":selected").val()}),dataType:"json",contentType:"application/json",success:function(t){if("Some error occured please try again later."!=t.d){var e=$j.parseJSON(t.d);if(0!=e.Table.length){0==$j("#divQuickLinks p").length&&$j("#divQuickLinks").empty();var a="<p class='links' id="+e.Table[0].ID+">";a+="<a href='javascript:void(0);' class=\"line-truncateQL\" title='"+$j("#txtAdd").val()+"' onclick=\"javascript:parent.LoadIframe('"+$j("#sel1").find(":selected").val()+"')\">"+$j("#txtAdd").val()+"</a>",a+="<img src='../images/deletedb.png' alt='"+e.Table[0].ID+"' title='"+$j("#txtAdd").val()+"' id='DelLinks' style='margin-left: 10px;' /><img src='../images/edit.png' alt='"+e.Table[0].ID+"' title='"+$j("#txtAdd").val()+"' id='EditLinks' />",a+="</p>",$j("#divQuickLinks").append(a)}showAlertDialog("success",1054,"client")}else showAlertDialog("error",t.d)}})):showAlertDialog("error",1052,"client")}else showAlertDialog("warning",1053,"client")}function SaveaddQLLink(){if(""!=$j("#txtAdd").val()){for(var t=!1,e=$j("#divQuickLinks p a").length,a=$j("#divQuickLinks p a"),i=0;i<e;i++)a.get(i).text.toLowerCase()==$j("#txtAdd").val().toLowerCase()&&(t=!0);0==t?$j.ajax({url:"dashBoard.aspx/AddQL",type:"POST",cache:!1,data:JSON.stringify({linkName:$j("#txtAdd").val(),linkUrl:$j("#sel1").find(":selected").val()}),dataType:"json",contentType:"application/json",success:function(t){var e=$j.parseJSON(t.d);if(0!=e.Table.length){0==$j("#divQuickLinks p").length&&$j("#divQuickLinks").empty();var a="<p class='links' id="+e.Table[0].ID+">";a+="<a href='javascript:void(0);' class=\"line-truncateQL\" title='"+$j("#txtAdd").val()+"' onclick=\"javascript:parent.LoadIframe('"+$j("#sel1").find(":selected").val()+"')\">"+$j("#txtAdd").val()+"</a>",a+="<img src='../images/deletedb.png' alt='"+e.Table[0].ID+"' title='"+$j("#txtAdd").val()+"' id='DelLinks' style='margin-left: 10px;' /><img src='../images/edit.png' alt='"+e.Table[0].ID+"' title='"+$j("#txtAdd").val()+"' id='EditLinks' />",a+="</p>",$j("#divQuickLinks").append(a),$("#txtAdd").val("")}showAlertDialog("success",1054,"client")}}):showAlertDialog("error",1052,"client")}else showAlertDialog("warning",1053,"client")}function searchfilter(t,e){var a=[];return $.each(dtsearchparams,function(i,l){l.WIDGETNAME==t&&l.PNAME==e&&a.push(l)}),a}function isFirstAutoInput(t){var e="",a=t.closest("div").prevAll("div");$.each(a,function(t,a){if("SELECT"==a.lastChild.nodeName||$(a.lastChild).hasClass("fltAutoInput")){var i=$(a.lastChild).attr("id"),l=$(a.lastChild).val();e+=i+"="+l+";"}}),filterSelection(e)}function findNextPrevVars(t){var e="",a=t.parent().closest("ul").prevAll("ul").children("ul");$.each(a,function(t,a){if("SELECT"==a.lastChild.nodeName||$(a.lastChild).hasClass("fltAutoInput")){var i=$(a.lastChild).attr("id"),l=$(a.lastChild).val();e+=i+"="+l+";"}}),""!=t.text()&&(e+=t.attr("id")+"=");var i="";t.find("li.selected").each(function(){i+=$(this).text()+","}),filterSelection(e+=i.slice(0,-1));var l=t.parent().closest("ul").nextAll("ul").children("ul");$.each(l,function(t,e){"UL"==e.nodeName?$("#"+$(e).attr("id")+" li").remove():$(e.lastChild).hasClass("fltAutoInput")&&$("#"+$(e.lastChild).attr("id")).val("")});var s=t.parent().closest("ul").nextAll("ul").children("ul").attr("id");s!=undefined&&bindNextControl(s)}function filterSelection(strValues){if(strValues&&(strValues=GetFormattedStrvalues(strValues)),mdftblFilterParams=[],""!=strValues){var arrValues=strValues.split(";"),flag="";for(i=0;i<arrValues.length;i++)""!=arrValues[i]&&$.each(tblFilterParams.Table0,function(ind,items){eval("items."+arrValues[i].split("=")[0].toUpperCase())==arrValues[i].split("=")[1]&&mdftblFilterParams.push(items)})}return mdftblFilterParams}function GetFormattedStrvalues(t){var e="",a=t.split(";");return $.each(a,function(t){var i=a[t].split("="),l=i[0],s=i[1].split(",");$.each(s,function(t){e+=l+"="+s[t]+";"})}),e}function bindNextControl(nxtId){$.each(mdftblFilterParams,function(ind,item){$("#"+nxtId+" li:contains("+eval("item."+nxtId.toUpperCase())+")").each(function(){$(this).text()==eval("item."+nxtId.toUpperCase())&&$(this).remove()}),$.inArray(nxtId.toUpperCase(),Object.keys(item))>-1&&$("#"+nxtId).append('<li data-target="'+nxtId.toUpperCase()+ind+'" data-type="tstruct" class="collection-item filterli">'+eval("item."+nxtId.toUpperCase())+"</li>")})}!function(){details.qltemplate="",details.tasktemplate="",details.messtemplate="",details.datatemplate="";var arrtlink=[],chartType=[],chartTitle=[],chartLink=[],tData="",rvalue=[],colora=[],colorb=[],colorc=[],colorafrom=[],colorato=[],colorbfrom=[],colorbto=[],colorcfrom=[],colorcto=[],isTable=!1,rtQuery="",uid="",chartQuery="",chartUid="";function gettabledata(t,e,a,i,l){for(var s=e.split(";"),n=s.length,r=0;r<n;r++){var o=s[r];if(o&&""!=o){if(s[r+1]==undefined||""==s[r+1]);else;ajaxCallObj.getAxpertWidgetDetails(o)}}}function parseHyperLink(t){try{if(!t)return"noLinks";var e;t=t.split("%")[0];var a={columns:[],data:{}};if(""==t)return"noLinks";e=t.split("~"),linksArrayLength=e.length;for(var i=0;i<linksArrayLength;i++){var l=e[i].split("^"),s=l[1],n={},r=l[0].split("="),o="col"+r[0].substr(1);a.columns.push(parseInt(r[0].substr(1)));var c=r[1],d=c.charAt(0);if(-1!==c.indexOf("{"))var p=c.substr(1,c.indexOf("{")-1);else p=c.substr(1);if("i"==d)url="ivtoivload.aspx?ivname="+p,n.url=url;else if("t"==d){var u=c.slice(-1);url="o"==u?"tstruct.aspx?transid="+p+"&hltype=open":"l"==u?"tstruct.aspx?transid="+p+"&hltype=load":"tstruct.aspx?transid="+p,n.url=url}var h=c.substring(c.indexOf("{")+1,c.indexOf("}"));if(h&&""!=h){var f=(h=h.split(",")).length,v=[];for(i=0;i<f;i++){var m=h[i].split(":");v.push([m[0],m[1]])}}else v=[];n.params=v,s&&""!=s&&(n.openType=s),a.data[o]=n}return a}catch(g){showAlertDialog("warning",1047,"client")}}function reaArrangeTableWidgets(t){$(".smallKpiTableWrapper").mCustomScrollbar({axis:"yx",theme:"minimal-dark",scrollInertia:500,mouseWheel:{scrollAmount:50},autoExpandScrollbar:!1,updateOnContentResize:!0});var e=$(".listUlDb li a.active").attr("href");!0!==t&&adjustTheKpis(e.substr(1)),closeDBLoader(),parent.closeFrame()}function chartLoadIframe(t){window.parent.resetLeftMenu(""),window.parent.LoadIframe(t)}function LoadWindow(t){window.open(t,"_blank","scrollbars=1,resizable=1,height=400,width=550")}function getHypDetails(t,e){if(null!=t){var a=[],i="",l="",s="",n="",r="";-1!=t.indexOf("%")&&(t=t.split("%")[0]),-1!=t.indexOf("^")&&(i=t.split("^")[1],t=t.split("^")[0]),-1!=t.indexOf("}")&&(l=t[t.length-1]),a=a.concat(t.split("~"));for(var o=0;o<a.length;o++)if(""!=a[o].toString()){var c=[];if((c=c.concat(a[o].toString().split("="))).length>0){c[0].toString().substring(1);var d=c[1].toString();s=d.substring(0,1);var p=d.indexOf("{"),u=d.indexOf("}");if("d"!=s)if(-1!=p){n=d.substring(1,p);var h=d.substring(p+1,u);""!=h&&(r=GetParamDetails(h))}else n=d.substring(1);else r=d.substring(p+1,u)}}return"i"==s.toLowerCase()?"ivtoivload.aspx?ivname="+n+";"+i+";"+r:"t"==s.toLowerCase()?"o"==l.toLowerCase()?"tstruct.aspx?transid="+n+"&hltype=open;"+i+";"+r:"l"==l.toLowerCase()?"tstruct.aspx?transid="+n+"&hltype=load;"+i+";"+r:"tstruct.aspx?transid="+n+";"+i+";"+r:"d"==s.toLowerCase()?e+"~"+r:";"+i+";"+r}}function GetParamDetails(t){var e="",a=[];a=a.concat(t.split(","));for(var i=0;i<a.length;i++)if(""!=a[i]){var l=[];(l=l.concat(a[i].split(":"))).length>0&&(e+="&"+l[0].toLowerCase())}return e}function linkClick(t,e,a){try{if(""!=t&&";;"!=t)if(""==t.split(";")[2])"w"==t.split(";")[1].toLowerCase()?LoadWindow(t.split(";")[0]):chartLoadIframe(t.split(";")[0]);else{var i=[];t.split(";")[2]!=undefined?(i=i.concat(t.split(";")[2].split("&")),-1!=$.inArray(e.toLowerCase(),i)?"w"==t.split(";")[1].toLowerCase()?LoadWindow(t.split(";")[0]+"&"+e+"="+a):chartLoadIframe(t.split(";")[0]+"&"+e+"="+a):""!=i&&("w"==t.split(";")[1].toLowerCase()?LoadWindow(t.split(";")[0]+"&"+i[1]+"="+e):chartLoadIframe(t.split(";")[0]+"&"+i[1]+"="+e))):drillDownhyperlink(t)}}catch(l){}}function drillDownhyperlink(hypLink){if(""!=hypLink){var curTab=hypLink.split("~")[0],openTab=hypLink.split("~")[1],curTabID=$(".widgetgroup .widgetWrapper[data-id = '"+curTab.toLowerCase()+"']").parents("div:eq(2)").attr("id"),openTabID=$(".widgetgroup .widgetWrapper[data-id = '"+openTab.toLowerCase()+"']").parents("div:eq(2)").attr("id");curTabID!=openTabID&&($("#"+curTabID).removeClass("active").css("display","none"),$("#"+openTabID).addClass("active").removeAttr("style"),$(".listUlDb li a[href='#"+curTabID+"']").removeClass("active"),$(".listUlDb li a[href='#"+openTabID+"']").addClass("active"),$("ul.tabs").tabs()),$(".widgetgroup .widgetWrapper[data-id = '"+openTab.toLowerCase()+"'] .wgtBtn i").removeClass("icon-expand").addClass("icon-contract"),$(".widgetgroup .widgetWrapper[data-id = '"+openTab.toLowerCase()+"']").removeClass("none"),WidgetExpand($(".widgetgroup .widgetWrapper[data-id = '"+openTab.toLowerCase()+"'] .wgtBtn i"))}else showAlertDialog("warning",eval(callParent("lcm[125]")))}makefilterpanel(),$(document).on("click","#toolBxPanel li.filterli",function(){$(this).hasClass("selected")?$(this).removeClass("selected"):$(this).addClass("selected"),findNextPrevVars($(this).parents(".collectionListUl")),$(".wgtIcon.icon-contract").trigger("click"),filterParams()}),$(document).on("change","#toolBxPanel input.filtertext",function(){""!=$(this).val()?$(this).addClass("selected"):$(this).removeClass("selected"),filterParams()});var orgWidth="100%";function WidgetExpand(t){var e=$(t).parents(".widgetWrapper"),a=e.offset();e.css({top:a.top+"px",left:a.left+"px","max-width":e.outerWidth()+"px"});var i=t.parents(".rightPartODshBrd").offset(),l=(parseInt($(".rightPartODshBrd").scrollTop()),$(".rightPartODshBrd").outerHeight()),s=$(".rightPartODshBrd").outerWidth();t.parents(".widgetgroup").prepend("<div class='blurMe'></div>"),$("div.blurMe").css({top:i.top+"px",width:s+"px",height:l+"px"});var n=$("div.blurMe").outerWidth(),r=$("div.blurMe").outerHeight();orgWidth=t.parents(".widgetWrapper").attr("style"),t.parents(".widgetWrapper").addClass("widgetExpanding").css({top:i.top+"px",left:i.left+5+"px",width:n-10+"px","max-width":n+"px",height:r-15+"px"}),chartResize(t,"setWidth",n-10,r-40,!0)}$(document).on("click",".tabs.listUlDb li",function(){var t=$(this);if(t.hasClass("firstTimeTab")){t.removeClass("firstTimeTab"),adjustTheKpis(e=t.find("a").attr("href").substr(1)),makeshowwidget(e),$("#"+e+" .wgtBtn").each(function(){chartResize($(this),"reflow")})}else{var e=t.find("a").attr("href").substr(1);$("#"+e+" .wgtBtn").each(function(){chartResize($(this),"reflow")})}}),$(document).on("click",".wgtBtn",function(){if($(this).find(".wgtIcon").hasClass("icon-expand"))$(this).find(".wgtIcon").removeClass("icon-expand").addClass("icon-contract"),$(this).attr("title","Zoom Out"),$(this).find(".wgtIcon").attr("title","Zoom Out"),WidgetExpand($(this)),$("body").on("keydown.graphPopup",function(t){9==t.which&&t.preventDefault()});else{$(this).find(".wgtIcon").removeClass("icon-contract").addClass("icon-expand"),$(this).find(".wgtIcon").parents(".widgetWrapper").removeClass("widgetExpanding").removeAttr("style"),$("div.blurMe").remove(),$(this).attr("title","Zoom In"),$(this).find(".wgtIcon").attr("title","Zoom In");var t=orgWidth.slice(orgWidth.indexOf("max-width:")).replace("max-width:","").replace("px","").split(";")[0].trim();chartResize($(this).find(".wgtIcon"),"setWidth",t-20,300,!1),$("body").off("keydown.graphPopup")}})}(),$(document).on("click","#btnClear",function(){$(this).closest("div").find("table").find("input[type=text]").val("")}),$(document).on("click","#btnGo",function(){var t="";$(this).closest("div").find("table").find(".schparms").find("input").each(function(e,a){t+="&"+a.name+"="+a.value});var e=$(this).closest("span").attr("id").split("{")[0];window.location.href="ivtoivload.aspx?ivname="+e+t}),$(document).on("click","#addLink",function(){var elements=$j("#mn123 [onclick]",window.parent.document),strHTML='<div class="form-group"><label for="inpuytName">Name</label><input id="txtAdd" type="text" class="form-control"></div><div class="form-group"><label for="sel1">Select Page</label><select class="form-control" id="sel1">';if(elements.length>0){for(var vals=[],eleUrl=[],i=0,l=elements.length;i<l;i++)vals.push(elements[i].innerText),eleUrl.push(elements[i].outerHTML);for(var i=0;i<vals.length;i++){var value=eleUrl[i],url=value.substring(value.indexOf("(")+1,value.lastIndexOf(")"));strHTML+="<option value ="+url.replace("&quot;","").replace("&quot;","")+">"+vals[i]+"</option>"}}else{var cutMsg=eval(callParent("lcm[0]"));strHTML+="<option>"+cutMsg+"</option>"}strHTML+="</select></div>",$("#linksdialog").dialog({autoOpen:!1,modal:!0,buttons:{Save:function(){addQLLink()},"Save and Add":function(){SaveaddQLLink()}}}),$("#linksdialog").html(strHTML),$(".ui-dialog-titlebar-close").html("<p class='icon-arrows-remove'></p>"),$("#linksdialog").dialog("open")}),$(document).on("click","#EditLinks",function(){var alt=$j(this).attr("alt"),text=$j(this).attr("title"),slval=$j(this).parent("p").find("a").attr("onclick").split("('")[1].split("')")[0],elements=$j("#mn123 [onclick]",window.parent.document),strHTML='<div class="form-group"><label for="inpuytName">Name</label><input id="txtAddu" type="text" value="'+$j(this).attr("title")+'" class="form-control"></div><div class="form-group"><label for="sel1u">Select Page</label><select class="form-control" id="sel1u">';if(elements.length>0){for(var vals=[],eleUrl=[],i=0,l=elements.length;i<l;i++)vals.push(elements[i].innerText),eleUrl.push(elements[i].outerHTML);for(var i=0;i<vals.length;i++){var value=eleUrl[i],url=value.substring(value.indexOf("(")+1,value.lastIndexOf(")")).replace("&quot;","").replace("&quot;","");strHTML+=url==slval?"<option value ="+url+" selected="+slval+">"+vals[i]+"</option>":"<option value ="+url+">"+vals[i]+"</option>"}}else{var cutMsg=eval(callParent("lcm[0]"));strHTML+="<option>"+cutMsg+"</option>"}strHTML+="</select></div>",$("#linkEditDialog").dialog({autoOpen:!1,modal:!0,buttons:{Update:function(){editQLLinks(alt,text)}}}),$("#linkEditDialog").html(strHTML),$(".ui-dialog-titlebar-close").html("<p class='icon-arrows-remove'></p>"),$("#linkEditDialog").dialog("open")}),$(document).on("click","#DelLinks",function(){var alt=$j(this).attr("alt"),delmsg=eval(callParent("lcm[127]"));$j.ajax({url:"dashBoard.aspx/DeleteQL",type:"POST",cache:!1,data:JSON.stringify({linkId:alt}),dataType:"json",contentType:"application/json",success:function(t){"Quicklink deleted successfully"==t.d&&($j("#divQuickLinks #"+alt).remove("p"),0==$j("#divQuickLinks p").length&&$j("#divQuickLinks").append(delmsg)),showAlertDialog("success",t.d)}})}),$(".autocompleted").keyup(function(t){if(9==t.which){var e=$(this).attr("id"),a=$(this).closest("div").parent("div").parent("div").children().find("p").text();searchlistval=searchfilter(a,e)}}),$(".autocompleted").keypress(function(t){if(9==t.which){var e=$(this).attr("id"),a=$(this).closest("div").parent("div").parent("div").children().find("p").text();searchlistval=searchfilter(a,e)}}),$(".autocompleted").click(function(t){var e=$(this).attr("id"),a=$(this).closest("div").parent("div").parent("div").children().find("p").text();searchlistval=searchfilter(a,e)}),$(".autocompleted").autocomplete({minLength:1,selectFirst:!0,autoFocus:!0,source:function(t,e){var a=[];$(searchlistval).each(function(e,i){i.SQLTEXT.substr(0,t.term.length)==t.term&&a.push(i)}),e($.map(a,function(t){return{label:t.SQLTEXT,value:t.SQLTEXT}}))}}),$(function(){$(".datepicker").datepicker({}).attr("readonly","readonly"),$(".allownumericwithdecimal").on("keypress keyup blur",function(t){$(this).val($(this).val().replace(/[^0-9\.]/g,"")),46==t.which&&-1==$(this).val().indexOf(".")||!(t.which<48||t.which>57)||t.preventDefault()})}),$(document).ready(function(){$(".collapse").on("shown.bs.collapse",function(){$(this).parent().find(".glyphicon.glyphicon-menu-down icon-arrows-down").removeClass("glyphicon glyphicon-menu-down icon-arrows-down").addClass("glyphicon glyphicon-menu-up icon-arrows-up")}).on("hidden.bs.collapse",function(){$(this).parent().find(".glyphicon.glyphicon-menu-up icon-arrows-up").removeClass("glyphicon glyphicon-menu-up icon-arrows-up").addClass("glyphicon glyphicon-menu-down icon-arrows-down")}),checkSuccessAxpertMsg(),$("ul.tabs").tabs()}),$(".fltAutocomplete").autocomplete({minLength:1,selectFirst:!0,autoFocus:!0,source:function source(request,response){isFirstAutoInput($(this.element));var aFilter=[],inputId=$(this.element).attr("id");$(mdftblFilterParams).each(function(iIndex,sElement){$.inArray(inputId.toUpperCase(),Object.keys(sElement))>-1&&eval("sElement."+inputId.toUpperCase()).toLowerCase().indexOf(request.term.toLowerCase())>=0&&-1==$.inArray(eval("sElement."+inputId.toUpperCase()),aFilter)&&aFilter.push(eval("sElement."+inputId.toUpperCase()))}),response($.map(aFilter,function(t){return{label:t,value:t}}))},open:function(t,e){var a=$(this).closest(".ui-dialog");a.length>0&&$(".ui-autocomplete.ui-front").zIndex(a.zIndex()+1)},select:function(t,e){$(this).val(e.item.label),findNextPrevVars($(this))}})}),$(document).ready(function(){parent.closeFrame();var t=$(".myPatients.card-2").first();$("<div></div>").insertBefore(t),$(".highcharts-button").each(function(t){$(this).prev().html().length>0&&$(this).prev().find(".highcharts-series").html().length>0?$(this).css("display","block"):$(this).css("display","none")})}),$(document).on("click",".highcharts-container",function(){$("#globalSearchinp",window.parent.document).blur()}),$(document).on("keyup",".toolBxPanelSrch",function(t){if(t.which<=111&&t.which>=48||8==t.which){var e=$(this),a=e.val().toLowerCase();""!=a?(e.parents(".collection").find(".collectionListUl .collection-item").each(function(t,e){var i=$(this);-1==i.text().toLowerCase().indexOf(a)?i.hide():i.show()}),e.parents(".collection").find(".collectionListUl .collection-item:visible:first").addClass("activeLi")):e.parents(".collection").find(".collectionListUl .collection-item").removeClass("activeLi").show()}}),$(document).on("keydown",".toolBxPanelSrch",function(t){var e=$(this).parents(".collection").find(".collectionListUl .collection-item.activeLi");if(e.length>0)if(38==t.keyCode){t.preventDefault();var a=e.prevAll("li.collection-item:visible").first();a.hasClass("collection-item")&&(e.removeClass("activeLi"),a.addClass("activeLi"))}else if(40==t.keyCode){t.preventDefault();var i=e.nextAll("li.collection-item:visible").first();i.hasClass("collection-item")&&(e.removeClass("activeLi"),i.addClass("activeLi"))}else 13==t.keyCode&&e.dblclick()}),$(document).on("click","#collapseDBTB",function(){$("#HPBToolBox").addClass("animated fadeOutLeft"),setTimeout(function(){$("#HPBToolBox").hide(),$("#openDBTBWrapper").show(),$("#HPBdesignerCanvas").css("width","100%"),$(".tabs.listUlDb li a.active").click(),WidgetResize(),$("#HPBdesignerCanvas .wgtBtn").each(function(){chartResize($(this),"reflow")})},500)}),$(document).on("click","#openDBTB",function(){$("#HPBdesignerCanvas").removeAttr("style"),$("#openDBTBWrapper").hide(),$(".tabs.listUlDb li a.active").click(),$("#HPBToolBox").show().removeClass("animated fadeOutLeft").addClass("animated fadeInLeft"),WidgetResize(),$("#HPBdesignerCanvas .wgtBtn").each(function(){chartResize($(this),"reflow")})}),$(window).on("resize.windowRszEvt",function(){$($(".rightPartODshBrd").find(".icon-contract")).each(function(){$(".icon-contract").parent(".wgtBtn").click()})});