/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/var gridClassName="",AxCurrGridRowNo="",editElementObject="",editDivId="",AxEditActiveDcNo="",AxEditActiveRowNo="",isAttachMentExist=!1,editLayouTmplate={},oldEditValues="",lastEditAction="",fromNextPrevious=!1,isGrdEditDirty,lastFocusabbleElem,inlineShiftKeyPressed=!1,focusOnDeleteButton=!1,divEditClass="",gridDivHtml={},formGridRowDele={},isLoadDataRow=!1;function addTheValuesToGrid(e,t,i,d){globalOnlySave=!1,void 0!==d&&""!==d||(d=!1),globalOnlySave=d;var a="wrapperForEditFields"+e,l=$j("#"+a+" .editWrapTr").attr("id");AxCurrGridRowNo=parseInt(GetFieldsRowNo(l),10);var r=createGridHtmlFromEdit(e),o='<td class="text-center"><span class="tem1"><div class="form-check form-check-sm form-check-custom ms-2"><input class="form-check-input border-gray-500 fgChk gridRowChk" type="checkbox" name="grdchkItemTd'+e+'" id="grdchkItemTd'+GetFieldsRowNo(l)+"F"+e+'" onclick="javascript:CheckboxGridRow(this,'+e+","+GetFieldsRowNo(l)+',event);"></div></span></td>',s="";if(i==undefined||""===i){0==(y=GetDcClientRows(e).getMaxVal())&&(y=1);var n=GetRowNoHelper(y);globalClickTheEditRow=n,s=n;var c="<td "+(0==gridColOptVisibility("uniqueThHead",e)?'style="display:none;"':gridColOptVisibility("uniqueThHead",e)||IsTabDc(e)?"":'style="display:none;"')+'><label id="lblSlNo'+GetFieldsRowNo(l)+"F"+e+'" class="form-control w-100 border bg-transparent overflow-hidden resize-none  slno">'+($j("#gridHd"+e+" tbody tr").length+1)+"</label></td>";$j(".wrapperForGridData"+e+" tbody").append("<tr id='sp"+e+"R"+GetFieldsRowNo(l)+"F"+e+"'>"+o+c+r+"</tr>"),isMobileGridRowEdit=!1,UpdateFieldArray(axpIsRowValid+e+n+"F"+e,GetDbRowNo(n,e),"","parent","AddRow"),changeEditLayoutIds(n,e),AddRow(e,"AddRow"),checkTableBodyWidths(e),$j("#wrapperForEditFields"+e+" .addServiceCallMade").length>0?$j("#wrapperForEditFields"+e+" .addServiceCallMade").removeClass("addServiceCallMade"):ShowDimmer(!1),AxEditActiveRowNo=parseInt(n,10)+1}else{var p=getFirstFocusElement("#wrapperForEditFields"+e),f=$("#wrapperForEditFields"+e+" .previousNextEditButton .prevRec"),h=$("#wrapperForEditFields"+e+" .previousNextEditButton .nextRec"),u=$("#wrapperForEditFields"+e).find(":focusable:not('button')").last();0==u.length&&(u=$("#wrapperForEditFields"+e).find(":focusable:not('button')"));var m=$("#bootstrapModal .modal-header button.close"),v=$("#editUpdateButton"+e),g=$("#newRecordBtn"+e);$(p).off("keydown.grdFrstElemKD"),$(f).off("keydown.prevBtnKD"),$(document).off("keydown.cancelBtnKD","#editCancelButton"+e),$(h).off("keydown.nextElemKD"),$(u).add(p).off("keydown.lastElemKDandFirstElemKD"),$("#wrapperForEditFields"+e).off("keydown.shortCutsKD"),$(m).off("keydown.closeBttnKD"),$("#myGridDCAdd"+e).off("keydown.gridDCAdd"),$(g).off("keydown.saveNewBtnKD"),$(v).off("keydown.saveBtnKD"),$j(".wrapperForGridData"+e+" tbody tr.inEditMode").find(".glyphicon").removeClass("disabled").removeAttr("disabled"),$j(".wrapperForGridData"+e+" tbody tr.inEditMode").find(".gridEditDeleteBtns").removeClass("disabled").removeAttr("disabled"),$j(".wrapperForGridData"+e+" tbody tr.inEditMode").removeClass("inEditMode");c="<td "+($("#uniqueThHead"+e).is(":visible")||IsTabDc(e)?"":'style="display:none;"')+'><label id="lblSlNo'+GetFieldsRowNo(l)+"F"+e+'" class="form-control w-100 border bg-transparent overflow-hidden resize-none  slno">'+(i+1)+"</label></td>";$j(".wrapperForGridData"+e+" tbody tr").eq(i).html(o+""+c+r),$j("#dummyWrapperForEditFields"+e).length>0?($j("#wrapperForEditFields"+e).replaceWith($j("#dummyWrapperForEditFields"+e).detach()),$j("#dummyWrapperForEditFields"+e).attr("id","wrapperForEditFields"+e).removeClass("hide"),$j("#dummyWrapperForEditFields"+e+" #dummynewRecordBtn"+e).attr("id","newRecordBtn"+e),isMobile&&$j("#dummyWrapperForEditFields"+e+" #dummyEditUpdateButton"+e).attr("id","editUpdateButton"+e)):$j("#wrapperForEditFields"+e).html(editElementObject),UpdateFieldArray(axpIsRowValid+e+GetFieldsRowNo(l)+"F"+e,GetDbRowNo(GetFieldsRowNo(l),e),"","parent","AddRow");var F=new Array;if(F.push("#"+editDivId),AssignJQueryEvents(F),editElementObject="",axInlineGridEdit&&showAttachmentPopover(),$j("#wrapperForEditFields"+e).find(".editLayoutFooter button").prop("disabled",!1),s=GetFieldsRowNo(l),isMobile){var y;0==(y=GetDcClientRows(e).getMaxVal())&&(y=1);n=GetRowNoHelper(y);var w=GetRowNoHelper(y-1);globalClickTheEditRow=n,changeEditLayoutIds(w,e);var b=GetGridFields(e);$("#newRecordBtn"+e).attr("onclick","addTheValuesToGrid("+e+",this)"),isMobileGridRowEdit=!0,AddRow(e,"AddRow"),checkTableBodyWidths(e),AxEditActiveRowNo=parseInt(n,10)}}rowFrmNo=GetFieldsRowFrameNo(l);var x="dc"+e+"_image"+rowFrmNo,E=$("input#"+x).val();$("input#"+x).siblings(".grdattch").find(".attach-files").remove(),void 0!==E&&""!=E&&ConstructAttachHTML(E,x),$j(".wrapperForGridData"+e).find("[class^=axpAttach]").each(function(){var e=$(this).attr("id"),t=$("input#"+e).val();void 0!==t&&""!=t&&ConstructAxpAttachHTML(t,e)}),showAttachmentPopover(),s!=getNewEditRowNo(e)&&(onlyPreviousButton(e),!0===$("#bootstrapModal [id*=newRecordBtn]").hasClass("closeEventCall")?($("#bootstrapModal [id*=newRecordBtn]").removeClass("closeEventCall"),createBlurEventOnLastElem(e,"close")):createBlurEventOnLastElem(e),setModalFooterInEdit(e));b=GetGridFields(e);if(CheckAxpvalid(e,s,b),axpBtnClickEvent(l),isAttachMentExist=!1,AxCurrGridRowNo="",TstructTabEventsInPopUP(e),"true"!=dcGridOnSave&&1==globalOnlySave)return gridEditValidator=!0,$("#editCancelButton"+e).click(),!1;createAutoComplete("#wrapperForEditFields".concat(e," .fldFromSelect")),$j("#wrapperForEditFields".concat(e)).find(".dropdown-main").remove(),$j("#wrapperForEditFields".concat(e)).find(".dropdown-display-label").remove(),$j("#wrapperForEditFields".concat(e)).find(".dropdown-mul optgroup").remove(),jQuery.each($j("#wrapperForEditFields".concat(e)).find(".dropdown-mul"),function(e,t){var i=JSON.parse('{"data":[]}');$(t).data("dropdown").destroy(),$(t).dropdown({data:i.data,limitCount:40,multipleMode:"label",choice:function(){}})}),isGrdEditDirty=!1,$("#bootstrapModalData input,select,textarea").off("change.dirty"),$("#bootstrapModalData input,select,textarea").on("change.dirty",function(){isGrdEditDirty=!0}),FocusOnFirstField(e),gridEditValidator=!0,CheckShowHideFldsGrid(e),customAlignTstructFlds([],e,parseInt(s));try{AxAfterPopupAddRow(e,GetFieldsRowNo($j("#"+a+" .editWrapTr").attr("id")))}catch(C){}return!0}function hideSlNOandED(e,t){$("#uniqueEditDeleteAct"+e).length>0&&$("#uniqueEditDeleteAct"+e).is(":hidden")&&(t==undefined||""===t?$(".wrapperForGridData"+e+" table tbody tr:last td:eq("+$("#uniqueEditDeleteAct"+e).index()+")").hide():$(".wrapperForGridData"+e+" table tbody tr:eq("+t+") td:eq("+$("#uniqueEditDeleteAct"+e).index()+")").hide()),$("#uniqueThHead"+e).length>0&&$("#uniqueThHead"+e).is(":hidden")&&(t==undefined||""===t?$(".wrapperForGridData"+e+" table tbody tr:last td:eq("+$("#uniqueThHead"+e).index()+")").hide():$(".wrapperForGridData"+e+" table tbody tr:eq("+t+") td:eq("+$("#uniqueThHead"+e).index()+")").hide())}function createInpLabel(e,t,d,a,l,r,o,s,n,c,p){var f="";if(l)if(""!=p&&p.split(" ").indexOf("none")>-1)f+="<td style='display:none;' class='"+p+"'>";else if(axInlineGridEdit&&"axpBtnCustom"!=a){var h=GetFieldsName(e),u=$j.inArray(h,FNames);f+="<td "+("F"===GetFieldProp(u,"allowEmpty")?"data-fld-mandatory":"")+" class='"+p+"'>"}else f+="<td class='"+p+"'>";else f+="<td style='display:none;'>";if("gridattach"==a){$j("#"+e).next("[id *= 'GridAttach']");var m="",v=$j("#hdnScriptsUrlpath");filePath=v.val()+"axpert/"+sid+"/";var g=GetFieldsRowFrameNo(e),F=GetFieldsRowNo(e);if("listView"!=c&&!axInlineGridEdit&&"form"!=AxpGridForm){var y=d.split(",");for(i=0;i<y.length;i++)if(""!=y[i]){m+='<div id="Link_'+g+"_"+unescape(y[i]).replace(/\s/g,"♠").replace(/\(/g,"♦").replace(/\)/g,"♣")+"\"  class='atchfile'>";var w=y[i];m+="<a onclick=\"DeleteFileFromRow('"+e+"','"+F+"','"+(w=w.replace(/'/g,"♠"))+'\')"><i class="glyphicon glyphicon-remove close icon-arrows-remove attachmentcrossicon"></i></a>',m+='<a href="javascript:void(0)" id=\'grdAtt_hlnk_'+g+"' class='grdAttach handCur' onclick='ShowGridAttLink(\""+filePath+w+"\")'>"+y[i]+"</a>",m+="</div>"}}if(e.toLowerCase().startsWith("axpfile_")?f+="<textarea style='display:none;' tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  axpAttach labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"'  data-type='"+a+"' data-hidden='"+r+"' id='"+e+"'  readonly>"+d+"</textarea>":f+="<textarea style='display:none;' tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"'  data-type='"+a+"' data-hidden='"+r+"' id='"+(axInlineGridEdit?"grdA":"")+e+"'  readonly>"+d+"</textarea>",axInlineGridEdit||!axInlineGridEdit&&"form"!=AxpGridForm){y=""==d.trim()?"":d.split(",");var b=GetFieldsName(e),x=e.substr(b.length);f+='<div><input type="hidden" id="'+b+x+'" tabindex="-1" name="'+x+'" value="'+d+'" class="grdAttach handCur">',e.toLowerCase().startsWith("axpfile_")?f+='<div class="form-group form-control p-0 grdattch" id="GridAxpFile'+b+x+'"><div id="dropzone_'+b+x+'" class="dropzone dropzone-queue min-h-1px border-0 px-3 py-2"><div class="d-flex flex-row-auto dropzone-panel mb-lg-0 m-0"><a id="'+b+x+'" class="dropzone-select fs-7 gridattach text-truncate me-1"><span class="material-icons material-icons-style material-icons-2 float-start mx-2">upload_file</span> Drop files here or click to upload</a><span class="material-icons material-icons-style material-icons-2 ms-auto pe-9 fileuploadmore d-none" data-bs-toggle="popover" data-bs-sanitize="false" data-bs-placement="bottom" data-bs-html="true">more</span><a class="dropzone-remove-all btn btn-sm btn-light-primary d-none">Remove All</a></div><div class="dropzone-items wm-200px d-none"><div class="dropzone-item" style="display: none"><div class="dropzone-file overflow-hidden"><div class="dropzone-filename" title="some_image_file_name.jpg"><span data-dz-name>some_image_file_name.jpg</span></div><div class="dropzone-error" data-dz-errormessage></div></div><div class="dropzone-progress d-none"><div class="progress"><div class="progress-bar bg-primary" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" data-dz-uploadprogress></div></div></div><div class="dropzone-toolbar"><span class="dropzone-delete" data-dz-remove><span class="material-icons material-icons-style material-icons-2 float-end dropzoneItemDelete">delete_outline</span></span></div></div></div></div></div>':f+='<div class="form-group form-control p-0 grdattch" id="GridAttach'+b+x+'"><div id="dropzone_'+b+x+'" class="dropzone dropzone-queue min-h-1px border-0 px-3 py-2 dropzoneGrid"><div class="d-flex flex-row-auto dropzone-panel mb-lg-0 m-0"><a id="'+b+x+'" class="dropzone-select fs-7 gridattach text-truncate me-1"><span class="material-icons material-icons-style material-icons-2 float-start mx-2">upload_file</span> Drop files here or click to upload</a><span class="material-icons material-icons-style material-icons-2 ms-auto pe-9 fileuploadmore d-none" data-bs-toggle="popover" data-bs-sanitize="false" data-bs-placement="bottom" data-bs-html="true">more</span><a class="dropzone-remove-all btn btn-sm btn-light-primary d-none">Remove All</a></div><div class="dropzone-items wm-200px d-none"><div class="dropzone-item" style="display: none"><div class="dropzone-file overflow-hidden"><div class="dropzone-filename" title="some_image_file_name.jpg"><span data-dz-name>some_image_file_name.jpg</span></div><div class="dropzone-error" data-dz-errormessage></div></div><div class="dropzone-progress d-none"><div class="progress"><div class="progress-bar bg-primary" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" data-dz-uploadprogress></div></div></div><div class="dropzone-toolbar"><span class="dropzone-delete" data-dz-remove><span class="material-icons material-icons-style material-icons-2 float-end dropzoneGridItemDelete">delete_outline</span></span></div></div></div></div></div>',y!=undefined&&0!=y.length&&(f+="<div id='"+e+"attach' class='attach-files'>"+m+"</div>")}else f+=m}else if("axpBtn"==a)f+='<a href="javascript:void(0)" style="cursor :pointer" class="Grdlnk axpBtn rejectEdit" id="'+e+'" name="'+e+'">'+d+"</a>",f+="<textarea tabindex='-1' style='display:none;' class='form-control w-100 border bg-transparent overflow-hidden resize-none  labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+a+"' data-hidden='"+r+"' id='txt_axpBtn_"+e+"'  readonly>"+d+"</textarea>";else if("axpBtnCustom"==a)f+='<a href="javascript:void(0)" style="cursor :pointer" class="Grdlnk axpBtnCustom rejectEdit" id="'+e+'" name="'+e+'" '+$("#"+e).attr("onclick")+">"+d+"</a>",f+="<textarea tabindex='-1' style='display:none;' class='form-control w-100 border bg-transparent overflow-hidden resize-none  labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+a+"' data-hidden='"+r+"' id='txt_axpBtnCustom_"+e+"'  readonly>"+d+"</textarea>";else if("select"==a){var E="";f+="<textarea tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  selectTextArea labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+a+"' data-hidden='"+r+"' id='txtA~"+e+"'  readonly>"+(E=""==d?"":t)+"</textarea>"}else if("numeric"==a){if(""==d){h=GetFieldsName(e),u=$j.inArray(h,FNames);d=NumericFldOnBlur("0",u)}f+="<textarea tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  labelInp "+n+"' maxlength='"+o+"' style='"+s+"' data-style='"+s+"' data-type='"+a+"' data-hidden='"+r+"' id='"+e+"'  readonly>"+d+"</textarea>"}else if("fromselect-select"==a||"fromselect-select~isrefreshsave"==a){E="";var C=a.split("~")[0],k="";axInlineGridEdit&&"fromselect-select~isrefreshsave"==a&&(k="~"+a.split("~")[1]),E=""==d?"":t,f+="<textarea tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  selectTextArea labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+C+k+"' data-hidden='"+r+"' id='"+e+"'  readonly "+(void 0!==$("#"+e).data("addoption")?" data-addoption='"+$("#"+e).data("addoption")+"'":"")+">"+E+"</textarea>"}else if("fromselect-pick"==a||"fromselect-pick~isrefreshsave"==a){E="",C=a.split("~")[0],k="";axInlineGridEdit&&"fromselect-select~isrefreshsave"==a&&(k="~"+a.split("~")[1]),E=""==d?"":t,f+="<textarea tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  selectTextArea labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+C+k+"' data-hidden='"+r+"' id='"+e+"'  readonly "+(void 0!==$("#"+e).data("addoption")?" data-addoption='"+$("#"+e).data("addoption")+"'":"")+">"+E+"</textarea>"}else if("multigroupselect"==a||"multigroupselect~isrefreshsave"==a){E="",C=a.split("~")[0],k="";axInlineGridEdit&&"multigroupselect~isrefreshsave"==a&&(k="~"+a.split("~")[1]),E=""==d?"":t;h=GetFieldsName(e),u=$j.inArray(h,FNames);f+="<textarea tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  selectTextArea labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+C+k+"' data-sep='"+FldMgsSeparator[u]+"' data-hidden='"+r+"' id='"+e+"'  readonly>"+E+"</textarea>"}else f+="<textarea tabindex='-1' class='form-control w-100 border bg-transparent overflow-hidden resize-none  labelInp "+n+"' maxlength='"+o+"'  data-style='"+s+"' data-type='"+a+"' data-hidden='"+r+"' id='"+e+"'  readonly>"+d+"</textarea>";return"select"==a&&(f+='<select id="'+e+'" title="" name="'+e+'" class="combotem Family  form-control d-none">'+$j("#"+e).html()+"</select>"),f+="</td>"}function deleteAttachMent(e){$j(e).parent(".attachmentWrapper").find("a[onclick^='DeleteFileFromRow']").click()}function clearTheAttachments(e,t){var i=parseInt(t,10)+1,d=GetRowNoHelper(i),a='<span id="grdAtt_img_'+d+"F"+e+'"  tabindex="0" title="Attach Files" class="fa fa-paperclip" onclick="ShowGridAttachPopUp(this);" class="grdAttach handCur">';a+='<a href="0" id="grdAtt_hlnk_'+d+"F"+e+'" tabindex="-1" class="grdAttach handCur"></a>',$j("#"+("wrapperForEditFields"+e)+" .gridElement [id^=GridAttach]").html(a)}function slNoGenerator(e,t,i){if("next"==t){if($j(".wrapperForGridData"+e+" tbody tr").length>0){var d="lblSlNo"+GetRowNoHelper(AxCurrGridRowNo)+"F"+e;return"<td><label id='"+d+"'></label></td>"}return idOfSlNo="lblSlNo001F"+e,"<td><label id='"+d+"'>1</label></td>"}if("reset"==t)return"<td><label id='"+$j(".wrapperForGridData"+e+" tbody tr").eq(i).find("td:first label").attr("id")+"'>"+(i+1)+"</label></td>";if("remove"==t){var a=i;$j(".wrapperForGridData"+e+" tbody tr").each(function(e,t){e>i&&(a++,$j(this).find("td:first label").text(a))})}}function changeEditLayoutIds(e,t,i){var d="wrapperForEditFields"+t,a=0;a=parseInt(e)+1;var l=GetRowNoHelper(a);if(AxCurrGridRowNo=$j("#"+d+" .editWrapTr").attr("id"),"tabListView"==i){var r=AxCurrGridRowNo.lastIndexOf("F");e=AxCurrGridRowNo.substr(r-3,3),a=parseInt(e)+1,l=GetRowNoHelper(a)}$j("#"+d+" .editWrapTr").attr("id","sp"+t+"R"+l+"F"+t),$j("#"+d+" .gridElement").find("select,input,label,img,.Grdlnk,textarea,.grdAttach,.pickimg,.grdRefer,a, div[id^=GridAttach],div.autoclear i,div.edit i,div[id^=autoadv],div[id^=autoadv] i,div.dropzone").each(function(e,i){var d=$j(this);if(d[0].id.substr(d[0].id.lastIndexOf("F")-3,3)!=l&&!d[0].id.toLowerCase().startsWith("gridaxpfile_hlnk_")){if(d.hasClass("grdAttach")){var r=l+"F"+t,o="",s=GetFieldsName(d[0].id);o+='<input type="hidden" id="'+s+r+'" tabindex="-1" class="grdAttach handCur">',s.toLowerCase().startsWith("axpfile_")?o+='<div class="form-group form-control p-0 grdattch" id="GridAxpFile'+s+r+'"><div id="dropzone_'+s+r+'" class="dropzone dropzone-queue min-h-1px border-0 px-3 py-2"><div class="d-flex flex-row-auto dropzone-panel mb-lg-0 m-0"><a id="'+s+r+'" class="dropzone-select fs-7 gridattach text-truncate me-1"><span class="material-icons material-icons-style material-icons-2 float-start mx-2">upload_file</span> Drop files here or click to upload</a><span class="material-icons material-icons-style material-icons-2 ms-auto pe-9 fileuploadmore d-none" data-bs-toggle="popover" data-bs-sanitize="false" data-bs-placement="bottom" data-bs-html="true">more</span><a class="dropzone-remove-all btn btn-sm btn-light-primary d-none">Remove All</a></div><div class="dropzone-items wm-200px d-none"><div class="dropzone-item" style="display: none"><div class="dropzone-file overflow-hidden"><div class="dropzone-filename" title="some_image_file_name.jpg"><span data-dz-name>some_image_file_name.jpg</span></div><div class="dropzone-error" data-dz-errormessage></div></div><div class="dropzone-progress d-none"><div class="progress"><div class="progress-bar bg-primary" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" data-dz-uploadprogress></div></div></div><div class="dropzone-toolbar"><span class="dropzone-delete" data-dz-remove><span class="material-icons material-icons-style material-icons-2 float-end dropzoneItemDelete">delete_outline</span></span></div></div></div></div></div>':o+='<div class="form-group form-control p-0 grdattch" id="GridAttach'+s+r+'"><div id="dropzone_'+s+r+'" class="dropzone dropzone-queue min-h-1px border-0 px-3 py-2 dropzoneGrid"><div class="d-flex flex-row-auto dropzone-panel mb-lg-0 m-0"><a id="'+s+r+'" class="dropzone-select fs-7 gridattach text-truncate me-1"><span class="material-icons material-icons-style material-icons-2 float-start mx-2">upload_file</span> Drop files here or click to upload</a><span class="material-icons material-icons-style material-icons-2 ms-auto pe-9 fileuploadmore d-none" data-bs-toggle="popover" data-bs-sanitize="false" data-bs-placement="bottom" data-bs-html="true">more</span><a class="dropzone-remove-all btn btn-sm btn-light-primary d-none">Remove All</a></div><div class="dropzone-items wm-200px d-none"><div class="dropzone-item" style="display: none"><div class="dropzone-file overflow-hidden"><div class="dropzone-filename" title="some_image_file_name.jpg"><span data-dz-name>some_image_file_name.jpg</span></div><div class="dropzone-error" data-dz-errormessage></div></div><div class="dropzone-progress d-none"><div class="progress"><div class="progress-bar bg-primary" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" data-dz-uploadprogress></div></div></div><div class="dropzone-toolbar"><span class="dropzone-delete" data-dz-remove><span class="material-icons material-icons-style material-icons-2 float-end dropzoneGridItemDelete">delete_outline</span></span></div></div></div></div></div>',d.parent().html(o)}if(ConvertFieldID($j(this),l),"SELECT"==d[0].nodeName?d.find("option:selected").removeAttr("selected"):d.hasClass("slno")&&"LABEL"==d[0].nodeName?d.text(a):"INPUT"==d[0].nodeName&&(d.removeAttr("value").attr("value","").val(""),d.data("attr")&&d.data("attr","")),d.hasClass("axpFilePathFld")){r=l+"F"+t;var n=$(d).attr("class");n="axpFilePath_"+d[0].id.substring("axpfilepath_".length)+" "+(n=n.substr(n.indexOf(" ")+1)),$(d).attr("class",n)}}}),"fillGrid"==i&&parseInt(GetDcRowCount(t),10)>0&&(axInlineGridEdit?(a=parseInt(e)+1,l=GetRowNoHelper(a),UpdateDcRowArrays(t,l,"Add")):$("#gridHd"+t+" tbody tr").length>0&&AddRow(t,"FillGrid"),ShowDimmer(!1))}function onlyPreviousButton(e){$("#wrapperForEditFields"+e).find(".previousNextEditButton button").prop("disabled",!0).addClass("disabled"),$(".wrapperForGridData"+e+" table tbody tr").length>0&&$("#wrapperForEditFields"+e).find(".previousNextEditButton button.prevRec").prop("disabled",!1).removeClass("disabled").attr("onclick","editThePreviousNextRow('"+($(".wrapperForGridData"+e+" table tbody tr").length-1)+"','"+e+"','prev')"),oldEditValues=""}function editTheRow(elem,dcNo,rowNo,e){if(""==rowNo&&GetCurrentTime("Tstruct grid dc addrow button click(ws call)"),axInlineGridEdit)if(""===elem){var isExitDummy=!1;if(gridDummyRowVal.length>0&&(""==rowNo?gridDummyRowVal.map(function(e){e.split("~")[0]==dcNo&&(isExitDummy=!0)}):gridDummyRowVal.map(function(e){e.split("~")[0]==dcNo&&e.split("~")[1]==rowNo&&(isExitDummy=!0)})),isExitDummy)return void showAlertDialog("warning",2054,"client","Row 1 ");gridRowEditOnLoad=!1,addNewInlineGridRow(dcNo),focusOnDeleteButton=!0}else $(elem).closest("td").click();else{if(!axInlineGridEdit&&"form"==AxpGridForm||isMobile&&"none"!=mobileCardLayout){if(!checkFormRowValid(dcNo,rowNo))return;formGridRowEdit(dcNo,rowNo,0==isLoadDataRow?undefined:"listview")}else isMobile&&($j(".wrapperForGridData"+dcNo+" tbody tr.inEditMode").find(".glyphicon").removeClass("disabled").removeAttr("disabled"),$j(".wrapperForGridData"+dcNo+" tbody tr.inEditMode").find(".gridEditDeleteBtns").removeClass("disabled").removeAttr("disabled"),$j(".wrapperForGridData"+dcNo+" tbody tr.inEditMode").removeClass("inEditMode"));isMobile||gridEditSaveNdClose("edit");var onlySave=globalOnlySave,prevlcm=eval(callParent("lcm[298]")),nextlcm=eval(callParent("lcm[299]")),savenewlcm=eval(callParent("lcm[300]")),savelcm=eval(callParent("lcm[200]")),cancellcm=eval(callParent("lcm[192]"));if($j(".dropdown").removeClass("open"),void 0!==e&&"form"!=AxpGridForm&&(e.preventDefault(),e.stopPropagation()),""===elem&&""===rowNo&&0==isLoadDataRow){rowNo=getNewEditRowNo(dcNo),onlyPreviousButton(dcNo);var indexOfThisNewElement=parseInt(rowNo,10)-1;changeEditLayoutIds(indexOfThisNewElement,dcNo),isGrdEditDirty=!1}else isGrdEditDirty=!(!axInlineGridEdit&&"form"==AxpGridForm&&isLoadDataRow||isMobile&&"none"!=mobileCardLayout&&isLoadDataRow);var dcName="dc"+dcNo,parentTrElement;if(eval("editLayouTmplate."+dcName)==undefined&&createEditLayoutTemplate(dcNo),""!=elem&&$j(elem).hasClass("disabled"))return gridEditValidator=!0,!1;gridEditValidator=!0,isMobile||"form"==AxpGridForm||0!=$("#bootstrapModal").length?!isMobile&&"form"==AxpGridForm||isMobile&&"none"!=mobileCardLayout?createFormGridRowHTML(dcNo):(""==elem&&setTimeout(function(){$("#newRecordBtn"+dcNo).click()},100),$("#colScroll"+dcNo).show()):createDataGridDialog(dcNo),AxEditActiveDcNo=dcNo,oldEditValues="",AxEditActiveRowNo=GetDbRowNo(rowNo,dcNo),""!=elem&&(parentTrElement=$j(elem).parents("tr"),$j("#wrapperForEditFields"+dcNo).find(".editLayoutFooter button").prop("disabled",!0));var editHtml="";editDivId=$j("#wrapperForEditFields"+dcNo+" .editWrapTr").attr("id");var fields=GetGridFields(dcNo);onlySave||""!=elem?isMobile||($($j("#wrapperForEditFields"+dcNo).clone()).appendTo("#divDc"+dcNo+" .grid-icons"),$j(".grid-icons #wrapperForEditFields"+dcNo).attr("id","dummyWrapperForEditFields"+dcNo).addClass("hide"),$j("#dummyWrapperForEditFields"+dcNo+"  #newRecordBtn"+dcNo).attr("id","dummynewRecordBtn"+dcNo)):editElementObject=$j("#wrapperForEditFields"+dcNo).html();var endIdPart=rowNo+"F"+dcNo,dvId="sp"+dcNo+"R"+endIdPart;if(""!=elem){editHtml+='<div id="'+dvId+'" class="editWrapTr">',parentTrElement.addClass("inEditMode");var gsiY="",groupFieldDesignArr={},addedRowsArray=new Set;parentTrElement.find("td").each(function(index,el){if(0==index)$j(this).find(".glyphicon").addClass("disabled").attr("disabled","disabled"),$j(this).find(".gridEditDeleteBtns").addClass("disabled").attr("disabled","disabled");else if(1==index)editHtml+='<div class="gridtdclass d-none">'+$j(this).html()+"</div>";else{var visibility=$j(this).is(":visible"),presentLabel=$j(this).find("textarea.labelInp"),typeOfField=presentLabel.data("type");typeOfField!=undefined&&(typeOfField=typeOfField.toLowerCase());var idOFtheField=presentLabel.attr("id"),textOfTheField=presentLabel.text(),valueOfField=presentLabel.val(),maxlength=presentLabel.attr("maxlength");maxlength==undefined&&(maxlength="");var inlineStyle=presentLabel.data("style"),isFieldDisable=presentLabel.hasClass("flddis"),fieldClasses=presentLabel.attr("class"),fName=GetFieldsName(idOFtheField);"select"==typeOfField&&(fName=fName.substr(5));var fldIndex=$j.inArray(fName,FNames),fldCaption=FCaption[fldIndex];fldCaption!=undefined&&fldCaption.indexOf("~")>-1&&(fldCaption=fldCaption.replace(new RegExp("~","g"),"\n"));var hidenFromDesignMode=!1;if(typeOfField!=undefined&&"undefined"!=typeOfField){if(0==visibility){var fldId=idOFtheField.substr(0,idOFtheField.length-5);$(this).closest("table").find("#th-"+fldId).hasClass("none")||"none"==$(this).closest("table").find("#th-"+fldId)[0].style.display||(visibility=!0)}var tmpId=idOFtheField;"select"==typeOfField?(tmpId=idOFtheField.substr(5),oldEditValues+=$("#"+tmpId+" option:selected").val()+"¿"+$("#"+tmpId+" option:selected").text()+"♠"):(tmpId=idOFtheField,oldEditValues+=valueOfField+"♠"),tmpId="axpbtn"==typeOfField?idOFtheField.substr(11):tmpId,tmpId="axpbtncustom"==typeOfField?idOFtheField.substr(11):tmpId,valueOfField&&(valueOfField=checkSpecialCharacters(valueOfField,"encode"));var lastIndexF=tmpId.lastIndexOf("F");3==tmpId.substr(lastIndexF,3).length?(tmpId=tmpId.substr(0,tmpId.length-6),tmpId+="tmp"):(tmpId=tmpId.substr(0,tmpId.length-5),tmpId+="tmp");var classes="",isAllowEmpty,purpose;classes=eval("editLayouTmplate."+dcName+"."+tmpId),-1!=fldIndex&&(isAllowEmpty=FProps[fldIndex][1],purpose=FldPurpose[fldIndex]);var dummyWrapper=$("#dummyWrapperForEditFields"+dcNo),grdFldId="",grdStack=idOFtheField;"select"==typeOfField?grdStack=idOFtheField.substr(5):"axpbtn"==typeOfField?grdStack=grdStack.substr(11):"axpbtncustom"==typeOfField&&(grdStack=grdStack.substr(11)),grdStack="dvGrid"+GetFieldsName(grdStack),dummyWrapper.find("#"+grdStack);var dataAttr=dummyWrapper.find("#"+grdStack).data(),attributes="";for(var attr in dataAttr)if(-1!=attr.indexOf("gs")){var attrFld=camelCaseToDash(attr),attrVal=dataAttr[attr];attributes+="data-"+attrFld+"='"+attrVal+"' "}var gsiHeight="";if("render"==theMode&&!staticRunMode){try{var elm=designObj[0].dcs[dcNo-1].fieldsDesign.filter(function(e,t){return e.fld_id==fName&&e.visibility})[0],elmHeight=elm.height}catch(ex){var elmHeight=0}try{var tempRowObj=designObj[0].dcs[dcNo-1].fieldsDesign.filter(function(e){return e.y>=elm.y&&e.y<=elm.y+elm.height-1});addedRowsArray.has(elm.y)||tempRowObj[0].fld_id!=elm.fld_id||(addedRowsArray=unionSets(addedRowsArray,new Set(_.map(tempRowObj,"y"))),groupFieldDesignArr=tempRowObj[0])}catch(ex){}if("render"!=theMode||staticRunMode||(gsiHeight=compressedMode?(elmHeight*gsConf.compressedMode.cellHeight+(elmHeight-1)*gsConf.compressedMode.verticalMargin-gsConf.compressedMode.labelHeight).toString()+isMobile?10:"px":(elmHeight*gsConf.normalMode.cellHeight+(elmHeight-1)*gsConf.normalMode.verticalMargin-gsConf.normalMode.labelHeight).toString()+isMobile?10:"px"),gsiHeight=void 0!==gsiHeight?" height: "+gsiHeight+"; ":"",void 0!==elm&&gsiY!==elm.y){var oldGsiY=gsiY;gsiY=elm.y;try{""!==oldGsiY&&groupFieldDesignArr!={}&&groupFieldDesignArr.fld_id==elm.fld_id&&(editHtml+='<div class="clearfix"></div>',groupFieldDesignArr={})}catch(ex){}}}if(visibility&&void 0!==dataAttr&&dataAttr.popVisible!=undefined&&(hidenFromDesignMode=!0,attributes+="data-pop-visible='false'",visibility=!1),editHtml+=visibility?'<div class="'+classes+'" style="" '+attributes+" > ":'<div class="'+classes+'" style="display:none;" '+attributes+">",editHtml+="<div class='grid-stack-item-content'>",("F"===isAllowEmpty||purpose!=undefined&&purpose.length>0&&" "!=purpose)&&(editHtml+="<div class='fld-wrap1'>"),"axpbtn"==typeOfField)editHtml+="<label>"+textOfTheField+"</label>";else if("axpbtncustom"==typeOfField)editHtml+="<label>"+textOfTheField+"</label>";else if("checkbox"==typeOfField)editHtml+='<label for="'+idOFtheField+'" style="padding-top: 20px;">';else if("select"==typeOfField){var idOfSelectField=idOFtheField.substr(5);editHtml+='<label for="'+idOfSelectField+'">'+fldCaption+"</label>"}else editHtml+='<label for="'+idOFtheField+'">'+fldCaption+"</label>";if(("F"===isAllowEmpty||purpose!=undefined&&purpose.length>0&&" "!=purpose)&&(editHtml+="<span class='fld-wrap2'>","F"===isAllowEmpty&&(editHtml+="<span class='allowempty'>*</span>"),purpose!=undefined&&purpose.length>0&&" "!=purpose&&(editHtml+="<i tabindex='-1' style='cursor: pointer; outline: none;' data-trigger='hover' class='icon-arrows-question' id='ico_cl'  data-toggle='popover'  data-content='"+purpose+"' data-placement='right'></i>"),editHtml+="</span>",editHtml+="</div>"),"hidden"==typeOfField){var axpfilePath="";if(idOFtheField.toLowerCase().startsWith("axpfilepath_")){var endPart=idOFtheField.substring("axpfilepath_".length);axpfilePath="axpFilePath_"+endPart+" axpFilePathFld ",editHtml+='<div style="display:none;"><input style="height:0px;width:0px;" id="'+idOFtheField+'" type="hidden" value="'+valueOfField+'" class="'+axpfilePath+'" name="'+idOFtheField+'"></div>'}else editHtml+='<div style="display:none;"><input style="height:0px;width:0px;" id="'+idOFtheField+'" type="hidden" value="'+valueOfField+'" name="'+idOFtheField+'"></div>'}else if("picklist"==typeOfField){var hiddenFiledData=presentLabel.data("hidden").split("~");""==hiddenFiledData[0]&&(hiddenFiledData[0]="pickIdVal_"+idOFtheField,hiddenFiledData[1]=""),editHtml+="<div>",editHtml+="<nobr>",editHtml+='<span class="picklist input-group ">',editHtml+=isFieldDisable?'<input disabled type="text" id="'+idOFtheField+'" title="" name="'+idOFtheField+'" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem inputClass2 pixelwidth form-control flddis" style="'+inlineStyle+gsiHeight+'">':'<input type="text" id="'+idOFtheField+'" title="" name="'+idOFtheField+'" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem inputClass2 pixelwidth form-control" style="'+inlineStyle+gsiHeight+'">',editHtml+='<span class="input-group-addon handCur pickimg " id="img~'+idOFtheField+'" name="img~'+idOFtheField+'">',editHtml+='<i class="glyphicon glyphicon-search icon-basic-magnifier"></i>',editHtml+="</span>",editHtml+='<div class="picklisttxtclear icon-arrows-remove" title="Clear Text" style="position: absolute;right: 39px;z-index: 3;font-size: 22px;font-weight: bold;color: black"></div>',editHtml+='<input type="hidden" id="'+hiddenFiledData[0]+'" value="'+hiddenFiledData[1]+'" name="'+hiddenFiledData[0]+'">',editHtml+="</span>",editHtml+="</nobr>",editHtml+="</div>"}else if("input"==typeOfField||"numeric"==typeOfField){var classes="",timepicker="",axpfilePath="",dwbfieldName=GetFieldsName(idOFtheField),dwbfldInd=GetFieldIndex(dwbfieldName),fldDType=GetDWBFieldType(idOFtheField,dwbfldInd);if(0===idOFtheField.indexOf("axptm_",0)||0===idOFtheField.indexOf("axpdbtm_",0)||""!=fldDType&&"time"==fldDType.toLowerCase())timepicker=TimeFieldPattern(idOFtheField)?" tstOnlyTime24hours flatpickr-input ":" tstOnlyTime flatpickr-input ";else if(idOFtheField.toLowerCase().startsWith("axpfilepath_")){var endPart=idOFtheField.substring("axpfilepath_".length);axpfilePath=" axpFilePath_"+endPart+" axpFilePathFld "}else idOFtheField.toLowerCase().startsWith("barqr_")&&(editHtml+='<div class="divBarQrScan input-group-text p-2 cursor-pointer"><span class="material-icons material-icons-style material-icons-1">center_focus_weak</span></div>');classes="numeric"==typeOfField?"tem form-control  Family number":axpfilePath+"tem form-control  Family "+timepicker,editHtml+="<div>",""!=timepicker&&(editHtml+='<span class="input-group">'),"Table"==fldDType&&(editHtml+='<div class="input-group">',classes="fldCustTable "+classes),editHtml+=isFieldDisable?'<input disabled id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'"  class="'+classes+' flddis" style="'+inlineStyle+gsiHeight+'" type="text">':'<input id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'" class="'+classes+'" style="'+inlineStyle+gsiHeight+'" type="text">',""!=timepicker&&(editHtml+='<span class="input-group-text" data-toggle=""><span class="material-icons material-icons-style cursor-pointer fs-4">schedule</span></span>',editHtml+="</span>"),"Table"==fldDType&&(editHtml+='<span class="input-group-text"><span class="material-icons material-icons-style cursor-pointer fs-4 fldCustTableIcon" data-clk="'+idOFtheField+'-tbl">apps</span></span></div>'),editHtml+="</div>"}else if("datepicker"==typeOfField)editHtml+="<div>",editHtml+='<span class="input-group">',editHtml+=isFieldDisable?'<input disabled id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem Family form-control date flatpickr-input flddis" style="'+inlineStyle+gsiHeight+'" type="text">':'<input id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem Family form-control date flatpickr-input " style="'+inlineStyle+gsiHeight+'" type="text">',editHtml+='<span class="input-group-text spandate" id="basic-addon2"><span class="material-icons material-icons-style cursor-pointer fs-4">calendar_today</span></span>',editHtml+="</span>",editHtml+="</div>";else if("select"==typeOfField){var idOfSelectField=idOFtheField.substr(5),selectMarkup=$j("#"+idOfSelectField).html();editHtml+="<div>",editHtml+=isFieldDisable?'<select disabled id="'+idOfSelectField+'" class="form-control flddis" style="'+gsiHeight+'">':'<select id="'+idOfSelectField+'" class="form-control" style="'+gsiHeight+'">',editHtml+=selectMarkup,editHtml+="</select>",editHtml+="</div>"}else if("axpbtn"==typeOfField)idOFtheField=$j("#"+idOFtheField).prev("a").attr("id"),editHtml+="<div>",editHtml+='<a href="javascript:void(0)" style="cursor :pointer;'+gsiHeight+'" class="Grdlnk axpBtn" id="'+idOFtheField+'">'+textOfTheField+"</a>",editHtml+="</div>";else if("axpbtncustom"==typeOfField)idOFtheField=$j("#"+idOFtheField).prev("a").attr("id"),editHtml+="<div>",editHtml+='<a href="javascript:void(0)" style="cursor :pointer;'+gsiHeight+'" class="Grdlnk axpBtnCustom" id="'+idOFtheField+'">'+textOfTheField+"</a>",editHtml+="</div>";else if("gridattach"==typeOfField){var hdnScriptsUrlPath=$j("#hdnScriptsUrlpath"),lastIndexF=idOFtheField.lastIndexOf("F"),rowNo=idOFtheField.substr(lastIndexF-3,3);fileLinks="",editHtml+='<div style="'+gsiHeight+'">',editHtml+='<input type="hidden" id="'+idOFtheField+'" tabindex="-1" name="'+idOFtheField+'" value="'+valueOfField+'" class="grdAttach handCur">',idOFtheField.toLowerCase().startsWith("axpfile_")?(editHtml+=' <div id="GridAxpFile'+idOFtheField+'" class="grdattch" name="GridAxpFile'+endIdPart+'"><span id="GridAxpFileAtt_'+idOFtheField+'"  tabindex="0" title="Attach Files" class="fa fa-paperclip" onclick="ShowAxpFileAttachPopUp(this);" class="grdAttach handCur" ></span>',""!=valueOfField&&(editHtml+=ConstructAxpFileAttachHTML(idOFtheField,rowNo,valueOfField,hdnScriptsUrlPath)),editHtml+='<a href="0" id="axpFileAtt_hlnk_'+endIdPart+'" tabindex="-1" class="grdAttach handCur"></a>'):(editHtml+=' <div id="GridAttach'+idOFtheField+'" class="grdattch" name="GridAttach'+endIdPart+'"><span id="grdAtt_img_'+endIdPart+'"  tabindex="0" title="Attach Files" class="fa fa-paperclip" onclick="ShowGridAttachPopUp(this);" class="grdAttach handCur" ></span>',""!=valueOfField&&(editHtml+=ConstructGridAttachHTML(idOFtheField,rowNo,valueOfField,hdnScriptsUrlPath)),editHtml+='<a href="0" id="grdAtt_hlnk_'+endIdPart+'" tabindex="-1" class="grdAttach handCur"></a>'),editHtml+="</div>",editHtml+="</div>"}else if("checkbox"==typeOfField){var isCompMode=!1;($("#ckbCompressedMode").length&&1==$("#ckbCompressedMode").prop("checked")||$j("#hdnCompMode").length&&"true"==$j("#hdnCompMode").val().toLowerCase())&&(isCompMode=!0),isCompMode&&(editHtml+='<div style="min-height: 23px;">'),editHtml+='<input id="'+idOFtheField+'" name="'+idOFtheField+'" title="" alt="'+presentLabel.data("hidden")+'" value="'+valueOfField+'" class="gridchk Family " style="'+inlineStyle+gsiHeight+'" type="checkbox"',isFieldDisable&&(editHtml+=" disabled readonly "),"yes"==valueOfField.toLowerCase()&&(editHtml+=' checked="checked" '),editHtml+=" ></input>",editHtml+='<span class="gridChkSpan">'+fldCaption+"</span></label>",editHtml+="</div>"}else if("textarea"==typeOfField)editHtml+="<div>",editHtml+=isFieldDisable?'<textarea  id="'+idOFtheField+'" name="'+idOFtheField+'" title="" disabled readonly maxlength="'+maxlength+'" class="tem form-control Family disabled" style="'+inlineStyle+gsiHeight+'" >'+valueOfField+"</textarea>":'<textarea  id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem form-control  Family " style="'+inlineStyle+gsiHeight+'" >'+valueOfField+"</textarea>",editHtml+="</div>";else if(-1!=typeOfField.indexOf("fromselect")){editHtml+="<div>",editHtml+='<div class="autoinput-parent">';var typeOfAutoComFld=typeOfField.split("~"),auRefreshOnSave=typeOfAutoComFld[1]&&"isrefreshsave"===typeOfAutoComFld[1]?"isrefreshsave":"";typeOfField=typeOfAutoComFld[0];var classesToAdd="";classesToAdd="fromselect-pick"==typeOfField?"":"fastdll";var axpfilePath="";if(idOFtheField.toLowerCase().startsWith("axpfilepath_")){var endPart=idOFtheField.substring("axpfilepath_".length);axpfilePath=" axpFilePath_"+endPart+" axpFilePathFld "}editHtml+=isFieldDisable?'<input disabled type="text" data-type="autocomplete" id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem fldFromSelect pixelwidth form-control flddis '+classesToAdd+" "+auRefreshOnSave+" "+axpfilePath+'" style="'+gsiHeight+'">':'<input type="text" '+(isMobile?'onfocus="blur()"':" ")+' data-type="autocomplete" id="'+idOFtheField+'" name="'+idOFtheField+'" title="" value="'+valueOfField+'" maxlength="'+maxlength+'" class="tem fldFromSelect pixelwidth form-control '+classesToAdd+" "+auRefreshOnSave+" "+axpfilePath+'" style="'+gsiHeight+'">',isMobile&&(editHtml+='<div class="virtualKeyboard"><i class="fa fa-keyboard-o" id="vkeyboard'+idOFtheField+'" title="vkeyboard"></i></div>'),editHtml+='<div class="autoclear '.concat("fromselect-pick"==typeOfField?"advsearchexist":"",' autoinputtxtclear">'),editHtml+=isFieldDisable?'<i class="glyphicon glyphicon-remove" id="clr'+idOFtheField+'" title="clear" name="clr'+idOFtheField+'" style="display:none"></i>':'<i class="glyphicon glyphicon-remove" id="clr'+idOFtheField+'" title="clear" name="clr'+idOFtheField+'"></i>',editHtml+="</div>",editHtml+='<div class="edit">',isFieldDisable?(editHtml+='<i class="glyphicon glyphicon-chevron-down autoClickddl" title="select" data-clk="'+idOFtheField+'" style="display:none"></i>',"fromselect-pick"===typeOfField&&(editHtml+='<i style="display:none" class="glyphicon glyphicon-search fldavdsearch" title="adv. search"></i>')):(editHtml+='<i class="glyphicon glyphicon-chevron-down autoClickddl" title="select" data-clk="'+idOFtheField+'"></i>',"fromselect-pick"===typeOfField&&(editHtml+='<i class="glyphicon glyphicon-search fldavdsearch" title="adv. search"></i>')),editHtml+="</div>",editHtml+="</div>",editHtml+='<div style="display:none;" id="autoadv'+idOFtheField+'">',editHtml+='<div class="name" data-advance="true">',"fromselect-pick"==typeOfField?(editHtml+='<div class="leftico ico">',editHtml+='<i class="glyphicon glyphicon-chevron-left" title="previous" data-fldname="'+idOFtheField+'" id="autoleft'+idOFtheField+'"></i>',editHtml+='<i class="glyphicon glyphicon-chevron-right" title="next" data-fldname="'+idOFtheField+'" id="autoright'+idOFtheField+'"></i>',editHtml+="</div>",editHtml+='<div class="rightico">',editHtml+='<i class="glyphicon glyphicon-search pickimg" title="adv. search" aria-hidden="true" id="img~'+idOFtheField+'" data-ids="'+idOFtheField+'" name="img~'+idOFtheField+'"></i>',editHtml+='<input type="hidden" id="pickIdVal_'+idOFtheField+'" value="" name="pickIdVal_'+idOFtheField+'">',editHtml+="</div>"):(editHtml+='<div class="reload">',editHtml+='<i class="glyphicon glyphicon-repeat" title="refresh" id="autorefresh'+idOFtheField+'" data-refresh="'+idOFtheField+'"></i>',editHtml+="</div>"),editHtml+="</div>",editHtml+="</div>",editHtml+="</div>"}else if(-1!=typeOfField.indexOf("multigroupselect")){editHtml+='<div class="autoinput-parent dropdown-mul">';var datasep=presentLabel.attr("data-sep");""!=valueOfField&&(valueOfField=valueOfField.replace(/#amp:/g,"&"),valueOfField=valueOfField.replace(/#apos:/g,"'"));var typeOfMgsFld=typeOfField.split("~"),mgsRefreshOnSave=typeOfMgsFld[1]&&"isrefreshsave"===typeOfMgsFld[1]?"isrefreshsave":"";typeOfField=typeOfMgsFld[0],editHtml+=isFieldDisable?'<select disabled data-type="multigroupselect" multiple data-selected="'+valueOfField+'" data-sep="'+datasep+'" id="'+idOFtheField+'" name="'+idOFtheField+'" title="" maxlength="'+maxlength+'" class="tem fldmultiSelect pixelwidth form-control '+mgsRefreshOnSave+'" style=""></select>':'<select data-type="multigroupselect" multiple data-selected="'+valueOfField+'" data-sep="'+datasep+'" id="'+idOFtheField+'" name="'+idOFtheField+'" title="" maxlength="'+maxlength+'" class="tem fldmultiSelect pixelwidth form-control '+mgsRefreshOnSave+'" style=""></select>',""!=valueOfField&&SetMultiSelectValue(idOFtheField,valueOfField),editHtml+="</div>"}editHtml+="</div></div>"}}}),editHtml+="</div>",editHtml+='<div class="clear"></div>',editHtml+='<div class="col-sm-12 editLayoutFooter">',editHtml+='<div class="GridHelpdiv" style="margin-bottom: 10px;">',editHtml+='<i class="fa fa-question-circle" aria-hidden="true"></i> <span>Use <b>Ctrl+Left arrow</b> &amp; <b>Ctrl+Right arrow</b> to navigate between record(s).</span>',editHtml+="</div>",editHtml+="<div>",editHtml+='<div class="btn-group previousNextEditButton" role="group">';var previosRow=checkForTheRow("previous",parentTrElement.index(),dcNo),nextRow=checkForTheRow("next",parentTrElement.index(),dcNo);if(editHtml+=!1===previosRow?'<button title="Previous Record" class="btn prevRec coldbtn disabled" disabled="disabled" onclick="editThePreviousNextRow(\'\',\''+dcNo+"');\">&lt;  "+prevlcm+"</button>":'<button title="Previous Record" class="btn prevRec coldbtn cup"  onclick="editThePreviousNextRow('+previosRow+",'"+dcNo+"','prev');\">&lt;  "+prevlcm+"</button>",editHtml+=!1===nextRow?'<button title="Next Record" class="btn nextRec coldbtn disabled"  disabled="disabled" onclick="editThePreviousNextRow(\'\',\''+dcNo+"');\"> "+nextlcm+" &gt;</button>":'<button title="Next Record" class="btn nextRec cup coldbtn" onclick="editThePreviousNextRow('+nextRow+",'"+dcNo+"','next');\"> "+nextlcm+" &gt;</button>",editHtml+="</div>",editHtml+='<button title="Save & New Record" class="btn hotbtn" id="newRecordBtn'+dcNo+'" onclick="addTheValuesToGrid('+dcNo+",this,"+parentTrElement.index()+')"> '+savenewlcm+"</button>",isMobile&&(editHtml+='<button title="Save the record" class="btn hotbtn" id="editUpdateButton'+dcNo+'" style="margin-right:5px;" onclick="if(addTheValuesToGrid('+dcNo+",this,"+parentTrElement.index()+",true)){clickTheEdit('"+rowNo+"','"+dcNo+"')}\"> "+savelcm+"</button>"),editHtml+="</div>",editHtml+="</div>",isMobile){if(isMobile){if($j("#wrapperForEditFields"+dcNo).html(editHtml),$("#wrapperForEditFields"+dcNo).removeClass("hide"),$("#wrapperForEditFields"+dcNo).addClass("mobilewrapperForEditFields"),axInlineGridEdit&&$(".editWrapTr").hide(),$(".editLayoutFooter").hide(),"none"==mobileCardLayout){$("#DivFrame".concat(dcNo," .newgridbtn")).addClass("d-none");var gridButton=$("#DivFrame".concat(dcNo," .newgridbtn>ul")).html();$("#wrapperForEditFields".concat(dcNo)).append('<div class="clearfix"></div><div class="grdButtons btnMobile"><ul class="left">'.concat(gridButton,"</ul</div>")),$("#wrapperForEditFields".concat(dcNo," .btnMobile")).find("#viewGrid".concat(dcNo)).addClass("d-none")}$(".virtualKeyboard").click(function(){$(this).parent().children("input").attr("onfocus",function(e,t){return"blur()"==t?null:"blur()"}),$(this).parent().children("input").focus(),$(this).children().toggleClass("green")})}}else makeIdsEdit(parentTrElement,"add"),$j("#wrapperForEditFields"+dcNo).html(editHtml);if(showAttachmentPopover(),!axInlineGridEdit&&!isMobile){var rCnt=$j("#gridDc"+dcNo+" tbody>tr").length?0:$j("#gridHd"+dcNo+" tbody>tr").length;$j("#hdnSlNoCnt"+dcNo).val(rCnt),$j("#lblSlNo"+rowNo+"F"+dcNo).text(rCnt),createBlurEventOnLastElem(dcNo),SetRowCount(dcNo,rCnt,"d",undefined)}}if(CheckShowHideFldsGrid(dcNo.toString()),checkSpecialCharacters("","decode",dcNo),createBlurEventOnLastElem(dcNo),assignShortCuts(dcNo),!axInlineGridEdit&&"form"!=AxpGridForm){var arrEditDiv=new Array;arrEditDiv.push("#wrapperForEditFields"+dcNo),AssignJQueryEvents(arrEditDiv)}makeFieldInitCap(dcNo);var fields=GetGridFields(dcNo);CheckAxpvalid(dcNo,rowNo,fields),EvaluateSetFont(dcNo),""!=elem||isMobile||"form"==AxpGridForm||("undefined"!=typeof wsPerfEnabled&&wsPerfEnabled?CallEvaluateOnAddPerf(dcNo,rowNo,fields,"ToCheckAddRow"):CallEvaluateOnAdd(dcNo,rowNo,fields,"ToCheckAddRow")),setModalFooterInEdit(dcNo),fromNextPrevious=!1,hideacoptions(),isMobile||"form"==AxpGridForm?!isMobile&&"form"==AxpGridForm||isMobile&&"none"!=mobileCardLayout?(addRowFormGrid(dcNo,rowNo),3!=rowNo.toString().length||isLoadDataRow||("undefined"!=typeof wsPerfEnabled&&wsPerfEnabled?CallEvaluateOnAddPerf(dcNo,rowNo,fields,"ToCheckAddRow"):CallEvaluateOnAdd(dcNo,rowNo,fields,"ToCheckAddRow"))):$("#wrapperForEditFields"+dcNo).removeClass(".editWrapTr"):($("#bootstrapModalData input,select,textarea").off("change.dirty"),$("#bootstrapModalData input,select,textarea").on("change.dirty",function(){isGrdEditDirty=!0}),$("#bootstrapModal").ready(function(){lastFocusabbleElem?$("#wrapperForEditFields"+AxEditActiveDcNo).find("[id='"+lastFocusabbleElem+rowNo+"F"+AxEditActiveDcNo+"']").focus():FocusOnFirstField(AxEditActiveDcNo),$(".lblprevious").html(eval(callParent("lcm[298]"))).prepend(" &lt; "),$(".lblNext").html(eval(callParent("lcm[299]"))).append(" &gt; "),$(".lblSaveNew").html(eval(callParent("lcm[300]"))),$(".lblSaveRec").html(eval(callParent("lcm[200]"))),$(".lblCancel").html(eval(callParent("lcm[192]"))),$("#wrapperForEditFields"+dcNo).find(".editWrapTr").addClass("grid-stack"),setDesignedLayout("#bootstrapModalData"),customAlignTstructFlds([],dcNo,parseInt(rowNo));try{AxAfterPopupAddRow(dcNo,rowNo)}catch(e){}}))}}function assignShortCuts(e){$("#wrapperForEditFields"+e).off("keydown.shortCutsKD"),$("#wrapperForEditFields"+e).on("keydown.shortCutsKD",function(t){t.ctrlKey&&(39==t.keyCode?(t.preventDefault(),$("#wrapperForEditFields"+e+" .previousNextEditButton .nextRec").click()):37==t.keyCode&&(t.preventDefault(),$("#wrapperForEditFields"+e+" .previousNextEditButton .prevRec").click()),isMobile&&83==t.keycode&&(t.preventdefault(),$("#editUpdateButton"+e).click()))})}function createBlurEventOnLastElem(e,t){var i=$("#wrapperForEditFields"+e).find(":focus:not('button')").last();0==i.length&&(i=$("#wrapperForEditFields"+e).find(":focus:not('button')"));var d=$("#wrapperForEditFields"+e+" .previousNextEditButton .nextRec"),a=$("#wrapperForEditFields"+e+" .previousNextEditButton .prevRec"),l=$("#bootstrapModal .modal-header button.close"),r=getFirstFocusElement("#wrapperForEditFields"+e);r!=undefined&&("close"==t||isMobile||r.focus(),$(i).add(r).off("keydown.lastElemKDandFirstElemKD").on("keydown.lastElemKDandFirstElemKD",function(t){if(9==t.keyCode){if($(i).is($(r))&&(t.shiftKey?i="":r=""),"next"==lastEditAction||"prev"==lastEditAction)if(!d.is(":disabled")&&d.length>0)$(this).is(i)?t.shiftKey||(t.preventDefault(),d.focus(),$(d).off("keydown.nextElemKD").on("keydown.nextElemKD",function(e){e.shiftKey&&9==e.keyCode&&i.length>0&&(e.preventDefault(),i.focus())}),!a.is(":disabled")&&a.length>0?($(document).off("keydown.cancelBtnKD").on("keydown.cancelBtnKD","#editCancelButton"+e,function(e){e.shiftKey||9!=e.keyCode||(e.preventDefault(),a.focus())}),$(a).off("keydown.prevBtnKD").on("keydown.prevBtnKD",function(t){!t.shiftKey&&9==t.keyCode&&l.length>0?(t.preventDefault(),l.focus()):t.shiftKey&&9==t.keyCode&&$("#editCancelButton"+e).length>0&&(t.preventDefault(),$("#editCancelButton"+e).focus())}),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(e){!e.shiftKey&&9==e.keyCode&&r.length>0?(e.preventDefault(),r.focus()):e.shiftKey&&9==e.keyCode&&a.length>0&&(e.preventDefault(),a.focus())}),$(r).off("keydown.grdFrstElemKD").on("keydown.grdFrstElemKD",function(e){e.shiftKey&&9==e.keyCode&&l.length>0&&(e.preventDefault(),l.focus())})):($(document).off("keydown.cancelBtnKD").on("keydown.cancelBtnKD","#editCancelButton"+e,function(e){e.shiftKey||9!=e.keyCode||(e.preventDefault(),l.focus())}),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(t){!t.shiftKey&&9==t.keyCode&&r.length>0?(t.preventDefault(),r.focus()):t.shiftKey&&9==t.keyCode&&$("#editCancelButton"+e).length>0&&(t.preventDefault(),$("#editCancelButton"+e).focus())}),$(r).off("keydown.grdFrstElemKD").on("keydown.grdFrstElemKD",function(e){e.shiftKey&&9==e.keyCode&&(e.preventDefault(),l.focus())}))):$(this).is(r)&&t.shiftKey&&(t.preventDefault(),l.focus(),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(e){!e.shiftKey&&9==e.keyCode&&r.length>0?(e.preventDefault(),r.focus()):e.shiftKey&&9==e.keyCode&&a.length>0&&(e.preventDefault(),a.focus())}),$(d).off("keydown.nextElemKD").on("keydown.nextElemKD",function(e){e.shiftKey&&9==e.keyCode&&i.length>0&&(e.preventDefault(),i.focus())}),!a.is(":disabled")&&a.length>0&&($(document).off("keydown.cancelBtnKD").on("keydown.cancelBtnKD","#editCancelButton"+e,function(e){e.shiftKey||9!=e.keyCode||(e.preventDefault(),a.focus())}),$(a).off("keydown.prevBtnKD").on("keydown.prevBtnKD",function(t){!t.shiftKey&&9==t.keyCode&&l.length>0?(t.preventDefault(),l.focus()):t.shiftKey&&9==t.keyCode&&$("#editCancelButton"+e).length>0&&(t.preventDefault(),$("#editCancelButton"+e).focus())}),$(r).off("keydown.grdFrstElemKD").on("keydown.grdFrstElemKD",function(e){e.shiftKey&&9==e.keyCode&&l.length>0&&(e.preventDefault(),l.focus())})));else if($("#myGridDCAdd"+e).is(":visible"))$(this).is(i)?t.shiftKey||(t.preventDefault(),$("#myGridDCAdd"+e).focus(),$("#myGridDCAdd"+e).off("keydown.gridDCAdd").on("keydown.gridDCAdd",function(e){e.shiftKey||9!=e.keyCode?e.shiftKey&&9==e.keyCode&&(e.preventDefault(),i.focus()):(e.preventDefault(),l.focus())}),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(t){!t.shiftKey&&9==t.keyCode&&r.length>0?(t.preventDefault(),r.focus()):t.shiftKey&&9==t.keyCode&&a.length>0&&(t.preventDefault(),$("#myGridDCAdd"+e).focus())})):$(this).is(r)&&t.shiftKey&&(t.preventDefault(),l.focus(),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(t){!t.shiftKey&&9==t.keyCode&&r.length>0?(t.preventDefault(),r.focus()):t.shiftKey&&9==t.keyCode&&$("#myGridDCAdd"+e).length>0&&(t.preventDefault(),$("#myGridDCAdd"+e).focus())}),$("#myGridDCAdd"+e).off("keydown.gridDCAdd").on("keydown.gridDCAdd",function(e){e.shiftKey||9!=e.keyCode?e.shiftKey&&9==e.keyCode&&(e.preventDefault(),i.focus()):(e.preventDefault(),l.focus())}));else{$("#editUpdateButton"+e);var o=$("button[id*='newRecordBtn"+e+"']");$(this).is(i)?t.shiftKey||(t.preventDefault(),o.length>0&&o.focus(),$(document).off("keydown.cancelBtnKD").on("keydown.cancelBtnKD","#editCancelButton"+e,function(e){e.shiftKey||9!=e.keyCode||(e.preventDefault(),a.length>0&&!a.is(":disabled")?a.focus():o.focus())}),$(o).off("keydown.saveNewBtnKD").on("keydown.saveNewBtnKD",function(t){!t.shiftKey&&9==t.keyCode&&l.length>0?(t.preventDefault(),l.focus()):t.shiftKey&&9==t.keyCode&&a.length>0&&a.is(":disabled")&&(t.preventDefault(),$("#editCancelButton"+e).focus())}),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(e){!e.shiftKey&&9==e.keyCode&&r.length>0?(e.preventDefault(),r.focus()):e.shiftKey&&9==e.keyCode&&o.length>0&&(e.preventDefault(),o.focus())}),$(o).off("keydown.saveBtnKD").on("keydown.saveBtnKD",function(e){e.shiftKey&&9==e.keyCode&&i.length>0&&(e.preventDefault(),i.focus())}),$(r).off("keydown.grdFrstElemKD").on("keydown.grdFrstElemKD",function(e){e.shiftKey&&9==e.keyCode&&o.length>0&&(e.preventDefault(),l.focus())}),$(a).off("keydown.prevBtnKD").on("keydown.prevBtnKD",function(t){t.shiftKey&&9==t.keyCode&&$("#editCancelButton"+e).length>0&&(t.preventDefault(),$("#editCancelButton"+e).focus())})):$(this).is(r)&&t.shiftKey&&(t.preventDefault(),l.length>0&&l.focus(),$(l).off("keydown.closeBttnKD").on("keydown.closeBttnKD",function(e){!e.shiftKey&&9==e.keyCode&&r.length>0?(e.preventDefault(),r.focus()):e.shiftKey&&9==e.keyCode&&o.length>0&&(e.preventDefault(),o.focus())}),$(o).off("keydown.saveNewBtnKD").on("keydown.saveNewBtnKD",function(t){!t.shiftKey&&9==t.keyCode&&l.length>0?(t.preventDefault(),l.focus()):t.shiftKey&&9==t.keyCode&&l.length>0&&a.length>0&&a.is(":disabled")&&$("#editCancelButton"+e).focus()}),$(a).off("keydown.prevBtnKD").on("keydown.prevBtnKD",function(t){t.shiftKey&&9==t.keyCode&&$("#editCancelButton"+e).length>0&&(t.preventDefault(),$("#editCancelButton"+e).focus())}),$(document).off("keydown.cancelBtnKD").on("keydown.cancelBtnKD","#editCancelButton"+e,function(e){!e.shiftKey&&9==e.keyCode&&a.length>0&&(e.preventDefault(),a.focus())}),$(o).off("keydown.saveBtnKD").on("keydown.saveBtnKD",function(e){e.shiftKey&&9==e.keyCode&&i.length>0&&(e.preventDefault(),i.focus())}))}""==r?r=i:""==i&&(i=r)}}))}function checkSpecialCharacters(e,t,i){return"encode"==t?e=(e=(e=(e=(e=e.replace(/&/g,"#amp:")).replace(/</g,"#lt:")).replace(/>/g,"#gt:")).replace(/'/g,"#apos:")).replace(/"/g,"#quot:"):$("#wrapperForEditFields"+i+" input, #wrapperForEditFields"+i+" textarea").each(function(){e=(e=(e=(e=(e=(e=$(this).val()).replace(/#amp:/g,"&")).replace(/#lt:/g,"<")).replace(/#gt:/g,">")).replace(/#apos:/g,"'")).replace(/#quot:/g,'"'),$(this).val(e)}),e}function cancelTheEdit(e,t,i){globalOnlySave=!1;var d=!1;if(""!=editDivId){void 0!==i&&""!==i||(i=getTableRowIndex(e)),fromNextPrevious?(d=!0,fromNextPrevious=!1):(d=!1,$("#bootstrapModal").modal("hide"));var a="";if(""!=oldEditValues&&(a=GetEditNewValues(AxEditActiveDcNo)),$j(".wrapperForGridData"+e+" tbody tr.inEditMode").find(".glyphicon").removeClass("disabled").removeAttr("disabled"),$j(".wrapperForGridData"+e+" tbody tr.inEditMode").find(".gridEditDeleteBtns").removeClass("disabled").removeAttr("disabled"),$j(".wrapperForGridData"+e+" tbody tr.inEditMode").removeClass("inEditMode"),void 0!==i&&""!==i)makeIdsEdit($j(".wrapperForGridData"+e+" tbody tr").eq(i));var l=getFirstFocusElement("#wrapperForEditFields"+e),r=$("#wrapperForEditFields"+e+" .previousNextEditButton .prevRec"),o=$("#wrapperForEditFields"+e+" .previousNextEditButton .nextRec"),s=$("#wrapperForEditFields"+e).find(":focusable:not('button')").last();0==s.length&&(s=$("#wrapperForEditFields"+e).find(":focusable:not('button')"));var n=$("#bootstrapModal .modal-header button.close"),c=$("#editUpdateButton"+e),p=$("#newRecordBtn"+e);$(l).off("keydown.grdFrstElemKD"),$(r).off("keydown.prevBtnKD"),$(o).off("keydown.nextElemKD"),$(s).add(l).off("keydown.lastElemKDandFirstElemKD"),$("#wrapperForEditFields"+e).off("keydown.shortCutsKD"),$(n).off("keydown.closeBttnKD"),$("#myGridDCAdd"+e).off("keydown.gridDCAdd"),$(p).off("keydown.saveNewBtnKD"),$(c).off("keydown.saveBtnKD"),void 0!==i&&""!==i&&($j("#dummyWrapperForEditFields"+e).length>0?($j("#wrapperForEditFields"+e).replaceWith($j("#dummyWrapperForEditFields"+e).detach()),$j("#dummyWrapperForEditFields"+e).attr("id","wrapperForEditFields"+e).removeClass("hide"),$j("#dummyWrapperForEditFields"+e+" #dummynewRecordBtn"+e).attr("id","newRecordBtn"+e),isMobile&&$j("#dummyWrapperForEditFields"+e+" #dummyEditUpdateButton"+e).attr("id","editUpdateButton"+e)):$j("#wrapperForEditFields"+e).html(editElementObject));var f=new Array;f.push("#"+editDivId),AssignJQueryEvents(f);var h=getNewEditRowNo(e);d||UpdateFieldArray(axpIsRowValid+e+h+"F"+e,GetDbRowNo(h,e),"false","parent","AddRow"),""!=oldEditValues&&updateEditFldValues(oldEditValues,a),$j("#wrapperForEditFields"+e).find(".editLayoutFooter button").prop("disabled",!1),editElementObject="",editDivId="",oldEditValues="",AxEditActiveDcNo="",AxEditActiveRowNo="",$("#gridAddBtn"+e).focus()}else $("#bootstrapModal").modal("hide");gridEditValidator=!0}function checkForTheRow(e,t,i){var d=!1;return"previous"==e?d=0!=t&&t-1:"next"==e&&(d=t!=$("#gridHd"+i+" tbody tr").length-1&&t+1),d}function editThePreviousNextRow(e,t,i){globalOnlySave=!1,fromNextPrevious=!0,""!==e&&((lastFocusabbleElem=$(document.activeElement).attr("id"))&&(lastFocusabbleElem=lastFocusabbleElem.substr(0,lastFocusabbleElem.length-5)),lastEditAction=i,$("#gridHd"+t+" tbody tr").eq(e).find('[onclick^="editTheRow"]').click())}function clickTheEdit(e,t){void 0!==e&&""!=e||(e=""!=globalClickTheEditRow?globalClickTheEditRow:getNewEditRowNo(t)),$("#sp"+t+"R"+e+"F"+t).find('[onclick^="editTheRow"]').click()}function getNewEditRowNo(e){var t=$("#wrapperForEditFields"+e+" .editWrapTr").attr("id");try{return void 0!==t?t.substr(t.indexOf("R")+1,3):void 0}catch(i){console.log(i.message)}}function getTableRowIndex(e){if($(".wrapperForGridData"+e+" table tbody tr").length>0){var t=$(".wrapperForGridData"+e+" .inEditMode").attr("id");return void 0!==t?$(".wrapperForGridData"+e+" table tbody tr").index($("#"+t)):void 0}return""}function getLastPartOfId(e){var t=str.lastIndexOf("F");return e.substr(t-3)}function getHeaderName(e,t){return $j(".wrapperForGridData"+e+" thead tr th").eq(t).html()}function makeIdsEdit(e,t){$j(e).find("td").each(function(e,i){var d=axInlineGridEdit?$j(this).find("textarea.labelInp,label"):$j(this).find("textarea,label").last(),a=d.attr("id");if(a!=undefined){if(-1!==a.indexOf("txtA~")&&(a=(d=axInlineGridEdit?$j(this).find("select").first():$j(this).find("select")).attr("id")),axInlineGridEdit||-1===a.indexOf("txt_axpBtn_")||(a=(d=$j(this).find("a.axpBtn")).attr("id")),axInlineGridEdit||-1===a.indexOf("txt_axpBtnCustom_")||(a=(d=$j(this).find("a.axpBtnCustom")).attr("id")),axInlineGridEdit&&"add"==t&&a.toString().startsWith("EDIT~"))"hidden"==$j(this).find("textarea").data("type")&&(a=a.slice(5));"add"==t?(d.attr("id","EDIT~"+a),a.indexOf("_image")>-1&&$("#"+a).parent().find("input").length>0&&!axInlineGridEdit&&($("#"+a).parent().find("input").attr("id","EDIT~"+a),$(this).find("input").siblings(".grdattch").attr("id","EDIT~"+$(this).find("input").siblings(".grdattch").attr("id")))):(d.attr("id",a.slice(5)),a.indexOf("_image")>-1&&$("#"+a).parent().find("input").length>0&&!axInlineGridEdit&&($("#"+a).parent().find("input").attr("id",a.slice(5)),$(this).find("input").siblings(".grdattch").attr("id","EDIT~"+$(this).find("input").siblings(".grdattch").attr("id"))))}})}function createImageTag(e){var t=new FileReader;t.onload=function(e){var t="<img class='attachedImageGrid' src='"+e.target.result+"'/>";$j(".attachedImageGrid").length>0?($j(".attachedImageGrid").remove(),$j(t).insertAfter("#testFile")):$j(t).insertAfter("#testFile")},t.readAsDataURL(e.files[0])}function checkRowsExists(e){"all"==e&&($j(div).hasClass('[class^="wrapperForGridData"]'),$j("div").each(function(e,t){showAlertDialog("info",e)}))}function ValidateOnAddRow(e){for(var t=0;t<FNames.length;t++){var i=GetFieldProp(t,"allowEmpty"),d=GetFieldProp(t,"visible");if(dcNo=GetDcNo(FNames[t]),e==dcNo){if(FNames[t].toString().toLowerCase().indexOf("axpcurrencydec")&&""!=currdecVal)return showAlertDialog("warning",2031,"client",currdecVal),!1;if("f"==i.toLowerCase()&&"f"==d.toLowerCase()){var a=IsGridField(FNames[t]);if(dcNo=GetDcNo(FNames[t]),1==a&&(k=GetRowNoHelper(AxCurrGridRowNo),0==IsAxFldEmpty(t,k,dcNo,"Edit")))return!1}}}return!0}function AddNewRowInDc(e,t){var i=GetDcRowCount(e),d=parseInt(i,10),a=GetRowNoHelper(d),l=a+"F"+e,r="sp2R"+l,o=createGridHtmlFromEdit(e,"listView"),s='<td class="text-center"><span class="tem1"><div class="form-check form-check-sm form-check-custom ms-2"><input class="form-check-input border-gray-500 fgChk gridRowChk" type="checkbox" name="grdchkItemTd'+e+'" id="grdchkItemTd'+a+"F"+e+'" onclick="javascript:CheckboxGridRow(this,'+e+","+a+',event);"></div></span></td>',n="<td "+(0==gridColOptVisibility("uniqueThHead",e)?'style="display:none;"':gridColOptVisibility("uniqueThHead",e)||IsTabDc(e)?"":'style="display:none;"')+'><label id="lblSlNo'+GetRowNoHelper(d)+"F"+e+'" class="form-control w-100 border bg-transparent overflow-hidden resize-none  slno">'+d+"</label></td>";$j(".wrapperForGridData"+e+" tbody").append("<tr id='sp"+e+"R"+l+"'>"+s+"<td style='display:none;'></td>"+n+o+"</tr>"),changeEditLayoutIds(d,e,"listView"),AddRow(e,t),axpBtnClickEvent(r),setDesignedLayout("divDc"+e),axInlineGridEdit&&setTimeout(function(){showAttachmentPopover(),assignInlineGridEditEvent(e)},500)}function adjustEditLayoutId(e){var t="wrapperForEditFields"+e,i="wrapperForGridData"+e;if(0==$j("."+i+" tbody tr").length)return changeEditLayoutIds(0,e),void UpdateLastRowNoOnDel(e,"001");try{var d=$j("#"+t+" .editWrapTr").attr("id");d=d.substr(0,d.indexOf("F")),d=parseInt(d.substr(d.length-3),10);var a=$j("."+i+" tbody tr:last").attr("id");a=a.substr(0,a.indexOf("F")),a=parseInt(a.substr(a.length-3),10);var l=GetFieldsRowNo($("#wrapperForEditFields"+e+" .editWrapTr").attr("id")),r=a+1,o=GetRowNoHelper(r);r!=d&&(changeEditLayoutIds(a,e),UpdateLastRowNoOnDel(e,l,o))}catch(s){}}function UpdateLastRowNoOnDel(e,t,i){for(var d=-1,a=0;a<RowDcNo.length;a++){if(i==undefined&&RowDcNo[a]==e&&ClientRowNo[a]!=t){d=a,ClientRowNo[d]=t;break}if(RowDcNo[a]==e&&ClientRowNo[a]==t){d=a,ClientRowNo[d]=i;break}}}function createGridHtmlFromEditPop(e,t){var i="wrapperForEditFields"+e,d=GetDcRowCount(e),a=parseInt(d,10),l=GetRowNoHelper(a)+"F"+e,r="",o=!1;return $j("#"+i).hasClass("hide")&&(o=!0,$j("#"+i).removeClass("hide")),$j("."+("wrapperForGridData"+e)+" thead tr th").each(function(d,a){var o=$j(this).attr("id"),s="";void 0!==o&&o.startsWith("th-")>0&&(s=o.split("-")[1]);var n=$("#"+i).find("#dvGrid"+s),c=$j(n),p="",f="",h="",u="",m="",v="",g="",F="",y=$j(n).find("select,input,textarea,checkbox"),w="",b="";if(y.length>0){var x=y.attr("id"),E=y.attr("type"),C="";if(x){var k=x.lastIndexOf("F");C=3==x.substr(k,3).length?"th-"+x.substr(0,x.length-6):"th-"+x.substr(0,x.length-5)}""!=C&&$("#"+C).length>0&&(b=$j(".wrapperForGridData"+e+" thead tr th#"+C).attr("class")),b==undefined&&(b=""),c.find("span.picklist").length>0?(w="pickList",g=c.find("span.picklist input[type = hidden]").attr("id")+"~"+c.find("span.picklist input[type = hidden]").val()):c.find("input.grdAttach").length>0?(w="gridattach",isAttachMentExist=!0):c.find("input.tstOnlyTime").length>0?w="input":c.find("input.tstOnlyTime24hours").length>0?w="input":c.find("input.flatpickr-input").length>0?w="datepicker":y.hasClass("fldFromSelect")?(w=y.hasClass("fastdll")?"fromselect-select":"fromselect-pick",w=y.hasClass("isrefreshsave")?w+"~isrefreshsave":w):y.hasClass("fldmultiSelect")?(w="multigroupselect",w=y.hasClass("isrefreshsave")?w+"~isrefreshsave":w):("input"==(w=y[0].nodeName.toLowerCase())&&"checkbox"==y[0].type&&(w="checkbox"),"input"==w&&y.hasClass("number")&&(w="numeric"),g=""),p=y.attr("id"),"listView"==t&&(p=p.replace(GetFieldsRowFrameNo(p),l)),y.attr("maxlength")!=undefined&&(m=y.attr("maxlength")),y.attr("style")!=undefined&&(v=y.attr("style"));var D=!!$("#"+C).hasClass("none")||"none"!=c.css("display")&&$("#"+C).data("grid-visible")===undefined;t===undefined&&(c.data("pop-visible"),undefined);if(u=!("hidden"==E&&"gridattach"!==w||!(!axInlineGridEdit&&D||axInlineGridEdit&&D)),F=y.hasClass("flddis")||"fromselect-pick"==w&&y.hasClass("pickdis")||"fromselect-pick~isrefreshsave"==w&&y.hasClass("pickdis")?"flddis":"","listview"!=t)if("select"==w)h=y.find("option:selected").text(),""==(f=y.find("option:selected").val())&&(f=h),"-- Select --"==f&&(f="");else if("checkbox"==w){var A=y.attr("alt").split(","),N="",R="";""!=A[0]?(N=A[0],R=A[1]):(N=A[1],R=A[2]),f=h=y.is(":checked")?N:R,g=y.attr("alt")}else h=f="datepicker"==w?y.val().endsWith("/yyyy")?"":y.val():-1!=w.indexOf("multigroupselect")?y.attr("data-selected"):y.val()}else if($j(n).find("a.axpBtn").length>0){p=(G=$j(n).find("a.axpBtn")).attr("id"),"listview"!=t&&(f=h=G.text()),w="axpBtn",u=!0,g="",m="",v=G.attr("style"),F=G.hasClass("flddis")?"flddis":""}else if($j(n).find("a.axpBtnCustom").length>0){var G;p=(G=$j(n).find("a.axpBtnCustom")).attr("id"),"listview"!=t&&(f=h=G.text()),w="axpBtnCustom",u=!0,g="",m="",v=G.attr("style"),F=G.hasClass("flddis")?"flddis":""}""!=p&&(r+=createInpLabel(p,h,f,w,u,g,m,v,F,t,b))}),1==o&&($j("#"+i).addClass("hide"),o=!1),r}function createGridHtmlFromEdit(e,t){var i="wrapperForEditFields"+e,d=GetDcRowCount(e),a=parseInt(d,10),l=GetRowNoHelper(a)+"F"+e,r="",o=!1;return $j("#"+i).hasClass("hide")&&(o=!0,$j("#"+i).removeClass("hide")),$j("#"+i+" .gridElement").each(function(i,d){var a=$j(this),o="",s="",n="",c="",p="",f="",h="",u="",m=$j(this).find("select,input,textarea,checkbox"),v="",g="";if(m.length>0){var F=m.attr("id"),y=m.attr("type"),w="";if(F){var b=F.lastIndexOf("F");w=3==F.substr(b,3).length?"th-"+F.substr(0,F.length-6):"th-"+F.substr(0,F.length-5)}""!=w&&$("#"+w).length>0&&(g=$j(".wrapperForGridData"+e+" thead tr th#"+w).attr("class")),g==undefined&&(g=""),a.find("span.picklist").length>0?(v="pickList",h=a.find("span.picklist input[type = hidden]").attr("id")+"~"+a.find("span.picklist input[type = hidden]").val()):a.find("input.grdAttach").length>0?(v="gridattach",isAttachMentExist=!0):a.find("input.tstOnlyTime").length>0?v="input":a.find("input.tstOnlyTime24hours").length>0?v="input":a.find("input.flatpickr-input").length>0?v="datepicker":m.hasClass("fldFromSelect")?(v=m.hasClass("fastdll")?"fromselect-select":"fromselect-pick",v=m.hasClass("isrefreshsave")?v+"~isrefreshsave":v):m.hasClass("fldmultiSelect")?(v="multigroupselect",v=m.hasClass("isrefreshsave")?v+"~isrefreshsave":v):("input"==(v=m[0].nodeName.toLowerCase())&&"checkbox"==m[0].type&&(v="checkbox"),"input"==v&&m.hasClass("number")&&(v="numeric"),h=""),o=m.attr("id"),"listView"==t&&(o=o.replace(GetFieldsRowFrameNo(o),l)),m.attr("maxlength")!=undefined&&(p=m.attr("maxlength")),m.attr("style")!=undefined&&(f=m.attr("style"));var x=!!$("#"+w).hasClass("none")||"none"!=a.css("display")&&$("#"+w).data("grid-visible")===undefined;t===undefined&&(a.data("pop-visible"),undefined);if(c=!("hidden"==y&&"gridattach"!==v||!(!axInlineGridEdit&&x||axInlineGridEdit&&x)),u=m.hasClass("flddis")||"fromselect-pick"==v&&m.hasClass("pickdis")||"fromselect-pick~isrefreshsave"==v&&m.hasClass("pickdis")?"flddis":"","listview"!=t)if("select"==v)n=m.find("option:selected").text(),""==(s=m.find("option:selected").val())&&(s=n),"-- Select --"==s&&(s="");else if("checkbox"==v){var E=m.attr("alt").split(","),C="",k="";""!=E[0]?(C=E[0],k=E[1]):(C=E[1],k=E[2]),s=n=m.is(":checked")?C:k,h=m.attr("alt")}else n=s="datepicker"==v?m.val().endsWith("/yyyy")?"":m.val():-1!=v.indexOf("multigroupselect")?m.attr("data-selected"):-1!=v.indexOf("fromselect")&&null==m.val()?"":m.val()}else if($j(this).find("a.axpBtn").length>0){o=(D=$j(this).find("a.axpBtn")).attr("id"),"listview"!=t&&(s=n=D.text()),v="axpBtn",c=!0,h="",p="",f=D.attr("style"),u=D.hasClass("flddis")?"flddis":""}else if($j(this).find("a.axpBtnCustom").length>0){var D;o=(D=$j(this).find("a.axpBtnCustom")).attr("id"),"listview"!=t&&(s=n=D.text()),v="axpBtnCustom",c=!0,h="",p="",f=D.attr("style"),u=D.hasClass("flddis")?"flddis":""}""!=o&&(r+=createInpLabel(o,n,s,v,c,h,p,f,u,t,g))}),1==o&&($j("#"+i).addClass("hide"),o=!1),r}function createAttachmentsInGrid(e,t,d){if(!callParentNew("axInlineGridEdit")){var a=$j("#hdnScriptsUrlpath").val()+"axpert/"+sid+"/",l="",r=GetFieldsRowNo(e),o=(GetFieldsRowNo(e),t.split(","));for(i=0;i<o.length;i++){var s=allImageNames[i];s=s.replace(/'/g,"♠"),l+='<div id="Link_'+d+"_"+unescape(o[i]).replace(/\s/g,"♠").replace(/\(/g,"♦").replace(/\)/g,"♣")+"\"  class='atchfile'>",l+="<a onclick=\"DeleteFileFromRow('"+e+"','"+r+"','"+s+'\')"><i class="glyphicon glyphicon-remove close icon-arrows-remove attachmentcrossicon"></i></a>';""==referRecId?a+o[i]:a+referRecId+"-"+o[i],l+='<a href="javascript:void(0)" id=\'grdAtt_hlnk_'+d+"' class='grdAttach handCur' onclick='ShowGridAttLink(\""+a+s+"\")'>"+o[i]+"</a>",l+="</div>"}$j(l).insertAfter("#"+e),$j("#"+e).val(t)}}function createEditLayoutTemplate(e){var t={},i="dc"+e;$("#wrapperForEditFields"+e+" .gridElement ").each(function(){var e=$(this).find("select,input,textarea,a.axpBtn,a.axpBtnCustom").attr("id"),i=$(this).attr("class");if(e){var d=e.lastIndexOf("F");3==e.substr(d,3).length?(e=e.substr(0,e.length-6),e+="tmp"):(e=e.substr(0,e.length-5),e+="tmp"),t[e]=i}}),editLayouTmplate[i]=t}function checkTableBodyWidths(e){"0px"==$("#gridHd"+e+" tbody tr:first td:first").css("min-width")&&$("#gridHd"+e+" tbody tr:first td").each(function(t,i){var d=0;d=$(i).find(".slno").length>0||$(i).find(".gridRowChk").length>0?"40px":$("#gridHd"+e+" thead th:not([id*=uniqueEditDeleteAct],[id*=uniqueThHead]):visible").eq(t).css("width"),$(this).css({width:d,"min-width":d})})}function GetEditNewValues(e){var t="",i="";return $("#wrapperForEditFields"+e+" .editWrapTr .gridElement").each(function(e,d){var a=$(this).find("select,input,textarea,checkbox");a.length>0&&(i=a[0].nodeName.toLowerCase(),t+="select"==i?a.find("option:selected").val()+"¿"+a.find("option:selected").text()+"♠":a.val()+"♠")}),t}function toggleTheEditLayout(e){$("#gridToggleBtn"+e).hasClass("icon-arrows-up")?($("#wrapperForEditFields"+e).attr("data-action","closedByToggle").slideUp("medium"),$("#gridToggleBtn"+e).removeClass("icon-arrows-up").addClass("icon-arrows-down").attr("title","Expand")):($("#wrapperForEditFields"+e).attr("data-action","openedByToggle").slideDown("medium"),$("#gridToggleBtn"+e).removeClass("icon-arrows-down").addClass("icon-arrows-up").attr("title","Collapse"))}function checkEditMode(mode){if("true"==dcGridOnSave&&1==globalOnlySave)return globalOnlySave=!1,!0;var newEditValues="";if(""!=AxEditActiveDcNo){if(newEditValues=GetEditNewValues(AxEditActiveDcNo),newEditValues==oldEditValues||gridEditValidator)return oldEditValues="",gridEditValidator=!0,$("#editCancelButton"+AxEditActiveDcNo).click(),!0;var dcName="";if(dcName=""==$("#dcCaption"+AxEditActiveDcNo).text()?$("#myTab #li"+AxEditActiveDcNo+" span").text():$("#dcCaption"+AxEditActiveDcNo).text(),""===oldEditValues&&""==globalClickTheEditRow)return gridEditValidator=!0,$("#editCancelButton"+AxEditActiveDcNo).click(),!0;globalClickTheEditRow="";var message="",cutMsg=eval(callParent("lcm[36]"));cutMsg=cutMsg.replace("{0}",dcName);var cutMsg1=eval(callParent("lcm[37]"));if(cutMsg1=cutMsg1.replace("{0}",dcName),message="edit"==mode?"!confirm('"+cutMsg+"')":"confirm('"+cutMsg1+"')","edit"==mode&&1!=eval(callParent("appSettingsObj.sabrnig"))&&(message="false"),eval(message))return gridEditValidator=!0,$("#editCancelButton"+AxEditActiveDcNo).click(),oldEditValues="",!0;if("edit"==mode){var wrapperForEditFields="wrapperForEditFields"+AxEditActiveDcNo,rowId=$j("#"+wrapperForEditFields+" .editWrapTr").attr("id");if(AxCurrGridRowNo=parseInt(GetFieldsRowNo(rowId),10),!ValidateOnAddRow(AxEditActiveDcNo))return!1;var trIndex=$j(".wrapperForGridData"+AxEditActiveDcNo+" .customSetupTableMN tbody tr.inEditMode").index();return trIndex>-1?(gridEditValidator=!0,addTheValuesToGrid(AxEditActiveDcNo,"",trIndex,!1)):(gridEditValidator=!0,addTheValuesToGrid(AxEditActiveDcNo,"","",!1)),oldEditValues="",!0}return FocusOnFirstField(AxEditActiveDcNo),!1}return!0}function setModalFooterInEdit(e){if(curRowNoo="",$(".wrapperForGridData"+e+" .inEditMode [id*=lblSlNo]").length>0&&$(".wrapperForGridData"+e+" .inEditMode [id*=lblSlNo]").text().length>0?curRowNoo=$(".wrapperForGridData"+e+" .inEditMode [id*=lblSlNo]").text():$("#wrapperForEditFields"+e+" .editWrapTr [id^=lblSlNo]").length>0&&$("#wrapperForEditFields"+e+" .editWrapTr [id^=lblSlNo]").text().length>0&&(curRowNoo=$("#wrapperForEditFields"+e+" .editWrapTr [id^=lblSlNo]").text()),""!=curRowNoo){$("#wrapperForEditFields"+e+" .footerRowCount").length<1&&$("#wrapperForEditFields"+e+" .previousNextEditButton").parent().append('<div class="footerRowCount"></div>');var t=$(".wrapperForGridData"+e+" table tbody tr").length;t>=curRowNoo?$("#wrapperForEditFields"+e+" .footerRowCount").text("Row "+curRowNoo+"("+t+")"):$("#wrapperForEditFields"+e+" .footerRowCount").text("Row "+curRowNoo)}}function updateEditFldValues(e,t){for(var i=GetGridFields(AxEditActiveDcNo),d=e.split("♠"),a=t.split("♠"),l=0;l<i.length;l++){var r=i[l]+GetRowNoHelper(AxEditActiveRowNo)+"F"+AxEditActiveDcNo;if(d[l].toString()!=a[l].toString()){var o=i[l].toString();-1==o.indexOf("axp_gridattach_")&&o.toLowerCase()!="dc"+AxEditActiveDcNo+"_image"||($("#"+r).nextAll("span.badge.attachmentWrapper").remove(),createAttachmentsInGrid(r,d[l].toString(),GetFieldsRowFrameNo(r))),UpdateFieldArray(r,AxEditActiveRowNo,d[l].toString(),"parent",""),UpdateAllFieldValues(r,d[l].toString())}}}function gridEditSaveNdClose(e){if(""!=AxEditActiveDcNo){var t=AxEditActiveDcNo;!0===isGrdEditDirty&&("close"===e&&($j("#dummyWrapperForEditFields"+t).length>0?$("#dummynewRecordBtn"+t).addClass("closeEventCall"):$("#bootstrapModal [id*=newRecordBtn]").addClass("closeEventCall")),$("#bootstrapModal [id*=newRecordBtn]").click());var i=!1;fromNextPrevious?(i=!0,fromNextPrevious=!1):i=!1;var d=getNewEditRowNo(t);i||UpdateFieldArray(axpIsRowValid+t+d+"F"+t,GetDbRowNo(d,t),"false","parent","AddRow"),$j("#dummyWrapperForEditFields"+t).length>0&&($j("#wrapperForEditFields"+t).replaceWith($j("#dummyWrapperForEditFields"+t).detach()),$j("#dummyWrapperForEditFields"+t).attr("id","wrapperForEditFields"+t).removeClass("hide"),$j("#dummyWrapperForEditFields"+t+" #dummynewRecordBtn"+t).attr("id","newRecordBtn"+t),isMobile&&$j("#dummyWrapperForEditFields"+t+" #dummyEditUpdateButton"+t).attr("id","editUpdateButton"+t)),isGrdEditDirty=!1,"edit"!==e&&$("#bootstrapModal").modal("hide")}}function gridColOptVisibility(e,t){var i=$.grep(designObj[0].dcs,function(e){return e.dc_id==t})[0].tableDesign.filter(function(i){return i.fld_id==e+t});return 0==i.length?$("#"+e+t).is(":visible"):i[0].visibility}function checkFormRowValid(e,t){if(""!=t&&0==isLoadDataRow){var i=GetRowNoHelper(t);return 0!=$("#gridHd"+e+" tbody [id^="+("sp"+e+"R"+i+"F"+e)+"]").length||(showAlertDialog("warning","Current row cannot be empty value."),!1)}return!0}function formGridRowEdit(e,t,i){if(axInlineGridEdit=!1,AxEditActiveDcNo="",""!=t){var d=$("#colScroll"+e+" [id^=gridrowWrap"+e+"-]").children("#wrapperForEditFields"+e).attr("id");$("#colScroll"+e+" [id^=gridrowWrap"+e+"-]").children("#wrapperForEditFields"+e).attr("id",d+"Added"),$("#divDc"+e+" .grid-icons").append(gridDivHtml[e]);var a=parseInt(t,10);changeEditLayoutIds(GetRowNoHelper(a),e),"undefined"!=typeof formGridRowDele[e]&&"false"!=formGridRowDele[e]||void 0!==i?formGridRowDele[e]="false":AddRow(e,"AddRow")}}function addRowFormGrid(e,t,i){var d;$("#gridAddBtn"+e).addClass("d-none"),$("#clearThisDC"+e).addClass("d-none");var a=$j("#wrapperForEditFields"+e+" .editWrapTr").attr("id").split("F")[0],l=a.substring(a.length-3,a.length);$("#colScroll"+e+" .addFormGridbutton").remove(),$("#gridHd"+e).addClass("d-none");var r="";"001"!=l&&null!==(d=$("#clearThisDC".concat(e)))&&void 0!==d&&d[0]&&(r='<div class="removeformGridbutton d-inline-flex"><button id="gridRemoveBtnAdd'+e+l+'" onclick="DeleteFromGridRow(\''+e+"','"+l+"F"+e+"','this');\" class=\"btn btn-white btn-color-gray-700 btn-active-primary shadow-sm\" >Delete Row</button></div>");var o='<div class="clearfix"></div>',s='<span class="d-flex flex-center mobileDcRowNO"> ('+l+") </span>",n="";try{n=$("#head".concat(e)).length>0?$("#head".concat(e)).text():$("#dcCaption"+e)[0].childNodes[0].nodeValue}catch(f){}isMobile&&(o+='<div id="dcCaptionBtn'+e+"-"+l+'" class="d-flex gap-3 frameCap fw-boldest fs-6 text-gray-800 dcCaptionBtn"><span class="d-flex flex-center">'+n+"</span>"+s+'</div><hr class="text-gray-500" />'),o+='<div id="gridrowWrap'+e+"-"+l+'" class="formGridRow"><div class="row" id="wrapperForEditFields'+e+'" >'+$j("#wrapperForEditFields"+e).html()+'</div><div class="addFormGridbutton d-inline-flex me-2"><button id="gridAddBtnAdd'+e+"\" onclick=\"editTheRow('',"+e+","+l+',event)" class="btn btn-primary" type="button" title="Add">Add Row</button></div>'+r+'<div class="clearfix"></div></div>',$("#bootstrapModalData").remove(),$("#colScroll"+e+" [id^=gridrowWrap"+e+"-]").children("#wrapperForEditFields"+e+"Added").attr("id","wrapperForEditFields"+e),$("#colScroll"+e).append(o);var c=isMobile?"editWrapTr grid-stack grid-stack-one-column-mode dynamicRunMode dirty":"editWrapTr grid-stack dynamicRunMode dirty";$("#gridrowWrap"+e+"-"+l).find(".editWrapTr").removeAttr("class").attr("class",c),isMobile&&($("#head".concat(e)).addClass("d-none"),$("#DivFrame".concat(e," .gridIconBtns:not(.dcCaptionBtn .gridIconBtns)")).first().clone().appendTo($("#dcCaptionBtn".concat(e,"-").concat(l))),$("#DivFrame2 .gridIconBtns:not(.dcCaptionBtn .gridIconBtns)").addClass("d-none"),$("#dcCaptionBtn".concat(e,"-").concat(l," .gridIconBtns")).addClass("ms-auto").removeClass("d-none")),SetGridBtnAccess();var p=new Array;p.push("#gridrowWrap"+e+"-"+l),AssignJQueryEvents(p),$(".editLayoutFooter").remove()}function DeleteFromGridRow(e,t,i){var d="sp"+e+"R"+t,a=t.substring(0,3);$("#colScroll"+e+" #gridrowWrap"+e+"-"+a).remove();var l=$("#colScroll"+e+" [id^=gridrowWrap"+e+"]").last().attr("id");$("#colScroll"+e+" .addFormGridbutton").remove(),$("#colScroll"+e+" #gridrowWrap"+e+"-"+l.split("-")[1]+" .clearfix").remove(),$("#colScroll"+e+" #gridrowWrap"+e+"-"+l.split("-")[1]).append('<div class="addFormGridbutton d-inline-flex me-2"><button id="gridAddBtnAdd'+e+"\" onclick=\"editTheRow('',"+e+","+l.split("-")[1]+',event)" class="btn btn-primary" type="button" title="Add">Add Row</button></div><div class="clearfix"></div>'),$("#gridAddBtnAdd"+e).removeAttr("onclick").attr("onclick","editTheRow('',"+e+","+l.split("-")[1]+",event)"),formGridRowDele[e]="true",$("#gridHd"+e+" tbody [id^="+d+"]").length>0&&DeleteRow(e,t,i),isMobile&&$("#dcCaptionBtn"+e+"-"+a).remove()}function addTheValuesToFormGrid(e,t,i,d,a){globalOnlySave=!1,void 0!==a&&""!==a||(a=!1),globalOnlySave=a;var l=$j("#"+("gridrowWrap"+e+"-"+t)+" .editWrapTr").attr("id");"001"==t&&(gridDummyRowVal.splice($.inArray(e.toString()+"~"+t,gridDummyRowVal),1),gridDummyRows=!1,gridRowEditOnLoad=!1),AxCurrGridRowNo=parseInt(GetFieldsRowNo(l),10);var r=createGridHtmlForm(e,t),o='<td class="text-center"><span class="tem1"><div class="form-check form-check-sm form-check-custom ms-2"><input class="form-check-input border-gray-500 fgChk gridRowChk" type="checkbox" name="grdchkItemTd'+e+'" id="grdchkItemTd'+GetFieldsRowNo(l)+"F"+e+'" onclick="javascript:CheckboxGridRow(this,'+e+","+GetFieldsRowNo(l)+',event);"></div></span></td>',s="<td style='display:none;'></td>",n="";if(d==undefined||""===d){var c=GetDcClientRows(e).getMaxVal();0==c&&(c=1);var p=GetRowNoHelper(c);globalClickTheEditRow=p,n=p;var f="<td "+(0==gridColOptVisibility("uniqueThHead",e)?'style="display:none;"':gridColOptVisibility("uniqueThHead",e)||IsTabDc(e)?"":'style="display:none;"')+'><label id="lblSlNo'+GetFieldsRowNo(l)+"F"+e+'" class="form-control w-100 border bg-transparent overflow-hidden resize-none  slno">'+($j("#gridHd"+e+" tbody tr").length+1)+"</label></td>";return $j(".wrapperForGridData"+e+" tbody").append("<tr id='sp"+e+"R"+GetFieldsRowNo(l)+"F"+e+"'>"+o+s+f+r+"</tr>"),$j(".wrapperForGridData"+e+" tbody tr[id=sp"+e+"R"+GetFieldsRowNo(l)+"F"+e+"] select,tr[id=sp"+e+"R"+GetFieldsRowNo(l)+"F"+e+"] textarea").each(function(){$(this).attr("id","gr"+this.id)}),UpdateFieldArray(axpIsRowValid+e+p+"F"+e,GetDbRowNo(p,e),"","parent","AddRow"),AxCurrGridRowNo="",TstructTabEventsInPopUP(e),isGrdEditDirty=!1,gridEditValidator=!0,CheckShowHideFldsGrid(e),customAlignTstructFlds([],e,parseInt(n)),!0}$j(".wrapperForGridData"+e+" tbody tr.inEditMode").removeClass("inEditMode");f="<td "+(0==gridColOptVisibility("uniqueThHead",e)?'style="display:none;"':gridColOptVisibility("uniqueThHead",e)||IsTabDc(e)?"":'style="display:none;"')+'><label id="lblSlNo'+GetFieldsRowNo(l)+"F"+e+'" class="form-control w-100 border bg-transparent overflow-hidden resize-none  slno">'+(d+1)+"</label></td>";return $j(".wrapperForGridData"+e+" tbody tr").eq(d).html(o+s+f+r),UpdateFieldArray(axpIsRowValid+e+GetFieldsRowNo(l)+"F"+e,GetDbRowNo(GetFieldsRowNo(l),e),"","parent","AddRow"),$j(".wrapperForGridData"+e+" tbody tr[id=sp"+e+"R"+GetFieldsRowNo(l)+"F"+e+"] select,tr[id=sp"+e+"R"+GetFieldsRowNo(l)+"F"+e+"] textarea").each(function(){$(this).attr("id","gr"+this.id)}),editElementObject="",!0}function formGridRowBlur(e){var t=e.attr("id"),i=GetFieldsDcNo(t),d=GetFieldsName(t);if(divEditClass="",IsGridField(d)){var a=GetFieldsRowNo(t),l=(GetDbRowNo(a,i),"sp"+i+"R"+a+"F"+i),r=0;if($("#gridrowWrap"+i+"-"+a+" .attach-files").show(),$("#gridHd"+i+" tbody tr").each(function(){$(this).attr("id")==l&&(r=$(this).index())}),$("#gridHd"+i+" tbody tr").length>0){divEditClass="gridrowWrap"+i+"-"+a;var o=!1;$("#gridHd"+i+" tbody tr").each(function(){$(this).attr("id")==l&&(o=!0,addTheValuesToFormGrid(i,a,$(this),r))}),0==o&&addTheValuesToFormGrid(i,a,$(this))}else divEditClass="gridrowWrap"+i+"-"+a,addTheValuesToFormGrid(i,a,$(this))}}function createFormGridRowHTML(e){var t="wrapperForEditFields"+e;gridDivHtml[e]='<div class="row hide" id="wrapperForEditFields'+e+'">'+$("#"+t).html()+"</div>";$("body").append('<div class="modal fade" style="width:100%" id="bootstrapModalGrid" role="dialog"><div class="modal-dialog" style="height:;width:100%;margin-bottom:0px;"><div class="modal-content" style="height:400px"><div class="modal-header"><h4 class="modal-title"></h4></div><div class="modal-body" style="height: calc(100% - 111px);-webkit-height: calc(100% - 111px);-moz-height: calc(100% - 111px);-o-height: calc(100% - 111px);overflow: auto;"><div id="bootstrapModalDataGrid" style="width:100%;height:100%;" class="modal-body-content"></div></div> </div></div></div>'),$("#"+t).removeClass("hide"),t=$("#"+t).detach(),$(t).appendTo("#bootstrapModalDataGrid")}function createGridHtmlForm(e,t,i){var d="wrapperForEditFields"+e,a=t+"F"+e,l="",r=!1;return $j("#"+d).hasClass("hide")&&(r=!0,$j("#"+d).removeClass("hide")),$("#gridrowWrap"+e+"-"+t+" #"+d+" .gridElement").each(function(t,d){var r=$j(this),o="",s="",n="",c="",p="",f="",h="",u="",m=$j(this).find("select,input,textarea,checkbox"),v="",g="";if(m.length>0){var F=m.attr("id"),y=m.attr("type"),w="";if(F){var b=F.lastIndexOf("F");w=3==F.substr(b,3).length?"th-"+F.substr(0,F.length-6):"th-"+F.substr(0,F.length-5)}""!=w&&$("#"+w).length>0&&(g=$j(".wrapperForGridData"+e+" thead tr th#"+w).attr("class")),g==undefined&&(g=""),r.find("span.picklist").length>0?(v="pickList",h=r.find("span.picklist input[type = hidden]").attr("id")+"~"+r.find("span.picklist input[type = hidden]").val()):r.find("input.grdAttach").length>0?(v="gridattach",isAttachMentExist=!0):r.find("input.tstOnlyTime").length>0?v="input":r.find("input.tstOnlyTime24hours").length>0?v="input":r.find("input.flatpickr-input").length>0?v="datepicker":m.hasClass("fldFromSelect")?(v=m.hasClass("fastdll")?"fromselect-select":"fromselect-pick",v=m.hasClass("isrefreshsave")?v+"~isrefreshsave":v):m.hasClass("fldmultiSelect")?(v="multigroupselect",v=m.hasClass("isrefreshsave")?v+"~isrefreshsave":v):("input"==(v=m[0].nodeName.toLowerCase())&&"checkbox"==m[0].type&&(v="checkbox"),"input"==v&&m.hasClass("number")&&(v="numeric"),h=""),o=m.attr("id"),"listView"==i&&(o=o.replace(GetFieldsRowFrameNo(o),a)),m.attr("maxlength")!=undefined&&(p=m.attr("maxlength")),m.attr("style")!=undefined&&(f=m.attr("style"));var x=!!$("#"+w).hasClass("none")||"none"!=r.css("display")&&$("#"+w).data("grid-visible")===undefined;i===undefined&&(r.data("pop-visible"),undefined);if(c=!("hidden"==y&&"gridattach"!==v||!(!axInlineGridEdit&&x||axInlineGridEdit&&x)),u=m.hasClass("flddis")||"fromselect-pick"==v&&m.hasClass("pickdis")||"fromselect-pick~isrefreshsave"==v&&m.hasClass("pickdis")?"flddis":"","listview"!=i)if("select"==v)n=m.find("option:selected").text(),""==(s=m.find("option:selected").val())&&(s=n),"-- Select --"==s&&(s="");else if("checkbox"==v){var E=m.attr("alt").split(","),C="",k="";""!=E[0]?(C=E[0],k=E[1]):(C=E[1],k=E[2]),s=n=m.is(":checked")?C:k,h=m.attr("alt")}else n=s="datepicker"==v?m.val().endsWith("/yyyy")?"":m.val():-1!=v.indexOf("multigroupselect")?m.attr("data-selected"):m.val()}else if($j(this).find("a.axpBtn").length>0){o=(D=$j(this).find("a.axpBtn")).attr("id"),"listview"!=i&&(s=n=D.text()),v="axpBtn",c=!0,h="",p="",f=D.attr("style"),u=D.hasClass("flddis")?"flddis":""}else if($j(this).find("a.axpBtnCustom").length>0){var D;o=(D=$j(this).find("a.axpBtnCustom")).attr("id"),"listview"!=i&&(s=n=D.text()),v="axpBtnCustom",c=!0,h="",p="",f=D.attr("style"),u=D.hasClass("flddis")?"flddis":""}""!=o&&(l+=createInpLabel(o,n,s,v,c,h,p,f,u,i,g))}),1==r&&($j("#"+d).addClass("hide"),r=!1),l}function AddNewFormRowInDc(e,t){isLoadDataRow=!0;var i="",d="001",a="sp"+e+"R001";if($j("#wrapperForEditFields"+e+" .editWrapTr.grid-stack.dynamicRunMode.dirty").length>0){i=(a=$j("#wrapperForEditFields"+e+" .editWrapTr.grid-stack.dynamicRunMode.dirty").last().attr("id").split("F")[0]).substring(a.length-3,a.length);var l=parseInt(i,10);d=GetRowNoHelper(l+1),i=GetRowNoHelper(l)}else i=a.substring(a.length-3,a.length);editTheRow("",e,"001"==d?"":i,event),axpBtnClickEvent(d),setDesignedLayout("divDc"+e),formGridRowBlur($("#axp_recid"+e+d+"F"+e)),AxEditActiveRowNo=parseInt(d,10),UpdateDcRowArrays(e,GetRowNoHelper(AxEditActiveRowNo),"Add"),isLoadDataRow=!1}function inlineGridEdit(e,t,i,d,a){try{if($(".grd-attach-popover").length>0)return;AxActiveDc=e;var l="",r=(globalOnlySave,$j(t).closest("tr"));editDivId=$j("#wrapperForEditFields"+e+" .editWrapTr").attr("id");GetGridFields(e);var o="sp"+e+"R"+(d+"F"+e),s=0;if(""!=r){$(".inline-edit").length>0&&updateInlineGridRowValues(),$(".inline-edit").find("textarea").show(),makeIdsEdit($(".inline-edit"),"remove"),$(".inline-edit").removeClass("inline-edit"),'<div id="'+o+'" class="editWrapTr">',r.addClass("inline-edit"),r.find("td").each(function(e,t){if(l="",0==e)$j(t).find('[onclick*="editTheRow"], [onclick*="editTheRow"] .glyphicon').addClass("disabled").attr("disabled","disabled");else if(1==e)l+='<div class="gridtdclass d-none">'+$j(t).html()+"</div>";else{var i=$j(t).is(":visible"),d=$j(t).find("textarea.labelInp"),a=d.attr("data-type");a!=undefined&&(a=a.toLowerCase());var r=d.attr("id"),o=(d.text(),d.val()),n=d.attr("maxlength");n==undefined&&(n="");var c=d.attr("data-style"),p=0==d.hasClass("flddis")?"disabled"==d.attr("disabled"):d.hasClass("flddis"),f=(d.attr("class"),GetFieldsName(r)),h=$j.inArray(f,FNames),u=FCaption[h];if(a!=undefined&&"undefined"!=a){var m=r;"select"==a?(m=r.substr(5),oldEditValues+=$("#"+m+" option:selected").val()+"¿"+$("#"+m+" option:selected").text()+"♠"):(m=r,oldEditValues+=o+"♠"),m="axpbtn"==a?r.substr(11):m,m="axpbtncustom"==a?r.substr(11):m,o&&(o=checkSpecialCharacters(o,"encode"));var v=m.lastIndexOf("F");3==m.substr(v,3).length?(m=m.substr(0,m.length-6),m+="tmp"):(m=m.substr(0,m.length-5),m+="tmp");var g="";if("checkbox"==a?g=" form-check form-switch form-check-custom px-1 align-self-end ":r.toLowerCase().startsWith("barqr_")&&(g=" input-group"),l+='<div class="edit-mode-content'+g+'" data-type="'+a+'" style="'+(i?"":"display:none;")+'" data-fld-id="'+r+'">',"hidden"==a){var F="";if(r.toLowerCase().startsWith("axpfilepath_")){var y=r.substring("axpfilepath_".length);l+='<div style="display:none;"><input style="height:0px;width:0px;" id="'+r+'" type="hidden" value="'+o+'" class="'+(F="axpFilePath_"+y+" axpFilePathFld ")+'" name="'+r+'"></div>'}else l+='<div style="display:none;"><input style="height:0px;width:0px;" id="'+r+'" type="hidden" value="'+o+'" name="'+r+'"></div>'}else if("picklist"==a){var w=d.data("hidden").split("~");""==w[0]&&(w[0]="pickIdVal_"+r,w[1]=""),l+="<nobr>",l+='<span class="picklist input-group ">',l+=p?'<input disabled type="text" id="'+r+'" title="" name="'+r+'" value="'+o+'" maxlength="'+n+'" class="tem inputClass2 pixelwidth form-control flddis " style="'+c+'">':'<input type="text" id="'+r+'" title="" name="'+r+'" value="'+o+'" maxlength="'+n+'" class="tem inputClass2 pixelwidth form-control focus-input" style="'+c+'">',l+='<span class="input-group-addon handCur pickimg " id="img~'+r+'" name="img~'+r+'">',l+='<i class="glyphicon glyphicon-search icon-basic-magnifier"></i>',l+="</span>",l+='<div class="picklisttxtclear icon-arrows-remove" title="Clear Text" style="position: absolute;right: 39px;z-index: 3;font-size: 22px;font-weight: bold;indexor: black"></div>',l+='<input type="hidden" id="'+w[0]+'" value="'+w[1]+'" name="'+w[0]+'">',l+="</span>",l+="</nobr>",l+="</div>"}else if("input"==a||"numeric"==a){g="";var b="",x=(F="",GetFieldsName(r)),E=GetFieldIndex(x),C=GetDWBFieldType(r,E);if(0===r.indexOf("axptm_",0)||0===r.indexOf("axpdbtm_",0)||""!=C&&"time"==C.toLowerCase())b=TimeFieldPattern(r)?" tstOnlyTime24hours flatpickr-input ":" tstOnlyTime flatpickr-input ";else if(r.toLowerCase().startsWith("axpfilepath_")){F=" axpFilePath_"+(y=r.substring("axpfilepath_".length))+" axpFilePathFld "}else r.toLowerCase().startsWith("barqr_")&&(l+='<div class="divBarQrScan input-group-text p-2 cursor-pointer"><span class="material-icons material-icons-style material-icons-1">center_focus_weak</span></div>');g="numeric"==a?"tem form-control  Family number":F+"tem form-control  Family "+b,""!=b&&(l+='<span class="input-group">'),"Table"==C&&(l+='<div class="input-group">',g="fldCustTable "+g),l+=p?'<input disabled id="'+r+'" name="'+r+'" title="" value="'+o+'" maxlength="'+n+'"  class=" '+g+' flddis" style="'+c+'" type="text">':'<input id="'+r+'" name="'+r+'" title="" value="'+o+'" maxlength="'+n+'" class="focus-input '+g+'" style="'+c+'" type="text">',""!=b&&(l+='<span class="input-group-text" data-toggle=""><span class="material-icons material-icons-style cursor-pointer fs-4">schedule</span></span>',l+="</span>"),"Table"==C&&(l+='<span class="input-group-text"><span class="material-icons material-icons-style cursor-pointer fs-4 fldCustTableIcon" data-clk="'+r+'-tbl">apps</span></span></div>')}else if("datepicker"==a)l+='<span class="input-group">',l+=p?'<input disabled id="'+r+'" name="'+r+'" title="" value="'+o+'" maxlength="'+n+'" class="tem Family form-control date flatpickr-input  flddis " style="'+c+'" type="text">':'<input id="'+r+'" name="'+r+'" title="" value="'+o+'" maxlength="'+n+'" class="tem Family form-control date flatpickr-input focus-input " style="'+c+'" type="text">',l+='<span class="input-group-text spandate" id="basic-addon2"><span class="material-icons material-icons-style cursor-pointer fs-4">calendar_today</span></span>',l+="</span>";else if("select"==a){var k=r.substr(5),D=$j("#"+r.substr(5)).html();l+=p?'<select disabled id="'+k+'" class="form-control flddis " style="display: inline-block !important">':'<select id="'+k+'" class="form-control focus-input" style="display: inline-block !important">',l+=D,l+="</select>"}else if("gridattach"==a){r=r.substr(4);$j("#hdnScriptsUrlpath"),v=r.lastIndexOf("F"),r.substr(v-3,3);fileLinks="",l+='<input type="hidden" id="'+r+'" tabindex="-1" name="'+r+'" value="'+o+'" class="grdAttach handCur">',l+="</div>"}else if("checkbox"==a)l+='<input id="'+r+'" name="'+r+'" title="" alt="'+d.data("hidden")+'" value="'+o+'" class="form-check-input opacity-100 gridchk Family focus-input h-30px" style="'+c+'" type="checkbox"',p&&(l+=" disabled readonly "),"yes"==o.toLowerCase()&&(l+=' checked="checked" '),l+=" ></input>",l+='<span class="gridChkSpan form-check-label form-label col-form-label opacity-100 noempty nopurpose col-form-label-sm d-none">'+u+"</span></label>",l+="</div>";else if("textarea"==a)l+=p?'<textarea rows="2"  id="'+r+'" name="'+r+'" title="" disabled readonly maxlength="'+n+'" class="tem form-control Family disabled " data-txt-area="true" style="'+c+'" >'+o+"</textarea>":'<textarea rows="2" id="'+r+'" name="'+r+'" title=""  maxlength="'+n+'" class="tem form-control  Family  focus-input" data-txt-area="true" style="'+c+'" >'+o+"</textarea>";else if(-1!=a.indexOf("fromselect")){var A=a.split("~"),N=A[1]&&"isrefreshsave"===A[1]?"isrefreshsave":"",R=void 0!==$("#"+r).data("addoption")?" data-addoption='"+$("#"+r).data("addoption")+"'":"";l+=p?"fromselect-pick"==a?'<select disabled class="tem fldFromSelect form-control form-select '+N+'" data-control="select2" id="'+r+'" data-placeholder="Select an option" data-allow-clear="true" data-refresh="false" "'+R+'">':'<select disabled class="tem fldFromSelect form-control form-select fastdll '+N+'" data-control="select2" id="'+r+'" data-placeholder="Select an option" data-allow-clear="true" data-refresh="true" "'+R+'">':"fromselect-pick"==a?'<select class="tem fldFromSelect form-control focus-input form-select '+N+'" data-control="select2" id="'+r+'" data-placeholder="Select an option" data-allow-clear="true" data-refresh="false" "'+R+'">':'<select class="tem fldFromSelect form-control focus-input form-select fastdll '+N+'" data-control="select2" id="'+r+'" data-placeholder="Select an option" data-allow-clear="true" data-refresh="true" "'+R+'">',""!=o&&(o=o.replace(/#amp:/g,"&").replace(/#lt:/g,"<").replace(/#gt:/g,">").replace(/#apos:/g,"'").replace(/#quot:/g,'"'),l+='<option value="'+o+'" selected="selected">'+o+"</option>"),l+="</select>"}else if(-1!=a.indexOf("multigroupselect")){var G=d.attr("data-sep");""!=o&&(o=(o=o.replace(/#amp:/g,"&")).replace(/#apos:/g,"'"));var O=a.split("~");O[1]&&O[1];a=O[0],l+='<select class="tem fldmultiSelect form-control focus-input form-select" data-control="select2" id="'+r+'" data-type="multigroupselect" multiple data-selected="'+o+'" data-sep="'+G+'" data-placeholder="Select an option" data-allow-clear="true">',""!=o&&$.each(o.split(G),function(e,t){l+='<option value="'+t+'" selected="selected">'+t+"</option>"}),l+="</select>"}$(t).append(l),i&&!p&&$(t).attr({"data-focus-index":++s,"data-focus":""});var I=$j(t).attr("inline-grid-warning");I!=undefined&&""==I&&$(t).find(".focus-input").css("border","1px solid red")}}}),$(r).find("input").each(function(){selectedVal=$(this).val(),selectedVal=selectedVal.replace(/#amp:/g,"&").replace(/#lt:/g,"<").replace(/#gt:/g,">").replace(/#apos:/g,"'").replace(/#quot:/g,'"'),$(this).val(selectedVal)}),$(r).attr("last-focus-index",s),makeIdsEdit(r,"add"),$(".inline-edit").find("textarea:not([data-txt-area])").hide();var n=new Array;n.push("#"+r.attr("id")),AssignJQueryEvents(n),isScriptFCAddClick&&(ShowDimmer(!0),isScriptFCAddClick=!1),assignInlineGridEditEvent(e),CheckShowHideFldsGrid(e,r.attr("id")),$("[inline-grid-warning]").length>0&&!isMobile?$("[inline-grid-warning]").find(".focus-input").first().focus():!focusOnDeleteButton&&inlineShiftKeyPressed||setTimeout(function(){if($("textarea.select2-search__field").addClass("cursor-pointer"),forceRowedit)forceRowedit=!1;else if(focusOnDeleteButton)$(r).find("input.gridRowChk").focus();else if($(t).is("td"))if($(t).find(".upload-icon").length)$(t).find(".upload-icon").focus();else{var e=$(t).find(".focus-input").filter(":visible").not(":disabled");e=0==e.length?$(t).find(".fldmultiSelectInput").filter(":visible").not(":disabled"):e;for(var i=$(t);0==e.length&&0!=i.length;)e=(i=$(i).next()).find(".focus-input").filter(":visible").not(":disabled");e.length>0?e.focusCursorToEnd():$(r).find('[onclick*="DeleteRow"]').is(":visible")&&$(r).find('[onclick*="DeleteRow"]').focus()}else $(r).find("[data-focus][data-fld-mandatory]")?$(r).find("[data-focus][data-fld-mandatory] .focus-input:first").focusCursorToEnd():$(r).find("[data-focus] .focus-input:first").focusCursorToEnd()},30),hideacoptions();try{AxAfterInlineEditRow(e,GetClientRowNo(d+1,e))}catch(c){}customAlignTstructFlds([],e,$(r).index()+1)}}catch(c){console.log("Exception: "+c)}}function updateInlineGridRowValues(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];try{if($(".grd-attach-popover").length)return;$(".inline-edit td").removeAttr("data-focus-index"),$(".inline-edit").removeAttr("last-focus-index"),$(".inline-edit").closest("tr").find("td").each(function(e,t){if(0==e)$j(t).find(".glyphicon").removeClass("disabled").removeAttr("disabled"),$j(t).find(".gridEditDeleteBtns").removeClass("disabled").removeAttr("disabled");else{var i,d,a,l,r;if($(t).find(".edit-mode-content").length>0){if(i=$(t).find(".edit-mode-content").data("fld-id"),"select"==(d=$(t).find(".edit-mode-content").data("type"))?(l=i.substr(5),a=$("#"+l).val(),r=$("#"+l).find("option:selected").text(),"-- Select --"==a&&(a=""),""==a?r="":a=r):a="checkbox"==d?$("#"+i).is(":checked"):$("#"+i).val(),"input"==d||"numeric"==d||"datepicker"==d||"fromselect-select"==d||"fromselect-pick"==d||"fromselect-pick~isrefreshsave"==d||"fromselect-select~isrefreshsave"==d||"textarea"==d||"hidden"==d)$("#EDIT\\~"+i).val(a);else if("picklist"===d){var o=$(t).find("span.picklist input[type = hidden]").attr("id")+"~"+$(t).find("span.picklist input[type = hidden]").val();$("#EDIT\\~"+i).val(a).text(a).attr("data-hidden",o)}else if("select"==d)$("#txtA\\~"+l).text(a),$("#EDIT\\~"+l).find("option").removeAttr("selected"),$("#EDIT\\~"+l).find("option").each(function(){r==$(this).text()&&$(this).attr({selected:"selected",value:r})});else if("checkbox"==d)$("#EDIT\\~"+i).val(a?"YES":"NO");else if("multigroupselect"==d||"multigroupselect~isrefreshsave"==d){o=$(t).find("select.fldmultiSelect").attr("data-selected");$("#EDIT\\~"+i).val(o)}var s=$("#"+i),n=s.attr("id"),c=GetFieldsName(n),p=$j.inArray(c,FNames);if(-1!=p){var f=GetFieldProp(p,"allowEmpty"),h=s.val();if("F"===f)"Numeric"==FDataType[p]&&0==parseFloat(h)||""===h||null===h?(s.css("border","1px solid red"),s.closest("td").attr("data-fld-mandatory","")):(s.css("border","1px solid rgb(204, 204, 204)"),s.closest("td").removeAttr("data-fld-mandatory"))}"select"==d?($("#txtA\\~"+l).show(),$("#EDIT\\~"+l).attr("id",l)):"gridattach"==d||"axpbtn"==d?$("#EDIT\\~"+i).attr("id",i):"gridattach"==d||"axpbtncustom"==d?$("#EDIT\\~"+i).attr("id",i):$("#EDIT\\~"+i).show().attr("id",i)}else if($(t).find("label").hasClass("slno")){var u=$(t).find(".slno").attr("id");0==u.indexOf("EDIT~")&&$(t).find(".slno").attr("id",u.substr(5))}customAlignTstructFlds([],AxActiveDc,$(".inline-edit").index()+1)}});var t=!0;e||$(".inline-edit").closest("table").find("th .required").closest("th").each(function(){if(t){var e=$(this).index(),i=$(".inline-edit").find("td:nth-child("+(e+1)+")").find(".focus-input"),d=i.attr("id"),a=GetFieldsName(d),l=$j.inArray(a,FNames),r=i.val();("Numeric"==FDataType[l]&&0==parseFloat(r)||""===r||null===r)&&(t=!1)}}),$(".inline-edit").attr("data-valid-row",t),$(".inline-edit").removeClass("inline-edit").find(".edit-mode-content").remove();try{AxAfterInlineAddRowUpdate()}catch(i){}}catch(i){console.log("Exception: "+i)}}function addNewInlineGridRow(e,t){try{if(AxActiveDc=e,inlineShiftKeyPressed=!1,t===undefined&&!validateInlineGridRow(e,"addrow"))return;updateInlineGridRowValues(),rowNo=getNewEditRowNo(e),AxActiveRowNo=parseInt(rowNo),$("[inline-grid-warning]").removeAttr("inline-grid-warning");var i="wrapperForEditFields"+e,d=$j("#"+i+" .editWrapTr").attr("id");AxCurrGridRowNo=parseInt(GetFieldsRowNo(d),10);var a=createGridHtmlFromEdit(e),l='<td class="text-center"><span class="tem1"><div class="form-check form-check-sm form-check-custom ms-2"><input class="form-check-input border-gray-500 fgChk gridRowChk" type="checkbox" name="grdchkItemTd'+e+'" id="grdchkItemTd'+GetFieldsRowNo(d)+"F"+e+'" onclick="javascript:CheckboxGridRow(this,'+e+","+GetFieldsRowNo(d)+',event);"></div></span></td>',r=GetDcClientRows(e).getMaxVal();0==r&&(r=1);var o=GetRowNoHelper(r);globalClickTheEditRow=o,o;var s,n="sp"+e+"R"+GetFieldsRowNo(d)+"F"+e,c="<td "+(0==gridColOptVisibility("uniqueThHead",e)?'style="display:none;"':gridColOptVisibility("uniqueThHead",e)||IsTabDc(e)?"":'style="display:none;"')+">"+$j("#"+i+" .gridElement").first().find("label")[0].outerHTML+"</td>";s="LoadData"===t||"GetDep"===t,$j(".wrapperForGridData"+e+" tbody").append("<tr data-valid-row='"+s+"' id='"+n+"'>"+l+c+a+"</tr>"),changeEditLayoutIds(o,e),"LoadData"!=t&&"Action"!=t&&0==gridDummyRows&&("GetDep"!=t&&UpdateFieldArray(ConstructFieldName(axpIsRowValid+AxActiveDc,AxActiveDc,r+1),GetRowNoHelper(r+1),"false","parent","AddRow"),AddInlineRow(e,"AddInlineRow",undefined,t),navValidator=!0),"LoadData"==t&&0==gridDummyRows&&$j("#chkallgridrow"+e).prop("disabled",!1);var p=$j("#gridDc"+e+" tbody>tr").length?0:$j("#gridHd"+e+" tbody>tr").length;$j("#hdnSlNoCnt"+e).val(p),$j("#lblSlNo"+rowNo+"F"+e).text(p),SetRowCount(e,p,"d",undefined),checkTableBodyWidths(e),AxEditActiveRowNo=parseInt(o,10)+1,UpdateDcRowArrays(e,GetRowNoHelper(AxEditActiveRowNo),"Add"),"LoadData"==t&&showAttachmentPopover();var f=!1;t===undefined&&0==gridDummyRows&&$("#"+n).find("td").each(function(t,i){if(!f&&$(i).is(":visible")&&$(i).find("textarea").data("type")){var d=$("#"+n).index(),a=$(i).index();inlineGridEdit(e,i,a,d),f=!0}}),hideacoptions(),IsAddRowCalled&&ShowDimmer(!0)}catch(h){console.log("Exception: "+h)}}function showAttachmentPopover(){try{$(".attach-popover").each(function(){$(this).popover({html:!0,trigger:"manual",placement:"bottom",content:function(){var e=$(this).parents().siblings("input").attr("id"),t=$(this).parent().siblings().attr("id"),i=GetFieldsRowFrameNo(t),d=GetFieldsRowNo(t),a=!1;$(this).parents(".modal").hasClass("in")&&(a=!0);var l=$(this).parent().siblings(".attach-files").clone();return l.find(".revrseInlinediv").removeClass("revrseInlinediv"),l.find(".inlinediv").removeClass("inlinediv"),l.children().each(function(){if(e.toLowerCase().startsWith("axpfile_")){if("000"==d)$("input#"+e).siblings(".divNonGridAxpFile").attr("data-morefiles").includes($(this).attr("id"))||$(this).remove();else if(axInlineGridEdit&&!a)$j("#GridAxpFile"+e).attr("data-morefiles").includes($(this).attr("id"))||$(this).remove();else if(!axInlineGridEdit&&!a&&("popup"==AxpGridForm&&!isMobile||"popup"==!AxpGridForm&&!isMobile)){$j("#GridAxpFile"+e).attr("data-morefiles").includes($(this).attr("id"))||$(this).remove()}}else"000"==d?$(".attachment-count").parent().attr("data-morefiles").includes($(this).attr("id"))||$(this).remove():a||$j("#GridAttach"+i).attr("data-morefiles").includes($(this).attr("id"))||$(this).remove()}),l.html()}})}),$(".attachment-count").click(function(){$(".popover-content").parent().remove();var fldno="",parentID=$(this).siblings().attr("id"),rowFrmNo=GetFieldsRowFrameNo(parentID),countrowno=GetFieldsRowNo(parentID),rowNo=GetFieldsRowNo(parentID);fldno=$(this).parent("div").siblings("input").attr("id"),0==$(this).find(".popover").length&&($(this).find(".attach-popover").popover("show"),$(this).find(".popover").addClass("grd-attach-popover"),$(this).find(".popover-content").addClass("grd-attach-popover-content")),fldno.toLowerCase().startsWith("axpfile_")?updateAxpFileAttachmentLabelCount(rowFrmNo):updateAttachmentLabelCount(rowFrmNo);var deleteBtn=$(".popover-content").addClass("grd-attach-content").find("a[onclick^='DeleteFileFromRow']");return deleteBtn.addClass("a-colorbutton").attr("title",eval(callParent("lcm[248]"))).find("img").remove(),deleteBtn.siblings("a").css("word-break","break-all"),"disabled"==deleteBtn.first().attr("disabled")&&deleteBtn.addClass("disabled").attr("onclick","javascript:void(0)"),$(".popover-content div").css("margin-bottom","1px"),setTimeout(function(){$(".popover-content div .grdAttach:first").focus(),$(".popover-content div .grdAttach").keydown(function(e){9==e.which&&(e.shiftKey?$(this).parent().prev().length>0?$(this).parent().prev().find("a").focus():$(".popover-content div .grdAttach:last").focus():$(this).parent().next().length>0?$(this).parent().next().find("a").focus():$(".popover-content div .grdAttach:first").focus(),e.preventDefault())})},250),!1}),$("body").off("click").on("click",function(e){$(".attach-popover").each(function(){if(!$(this).is(e.target)&&0===$(this).has(e.target).length&&0===$(".popover").has(e.target).length&&!$(".jconfirm").length>0&&!$(e.target).hasClass("glyphicon-remove")){var t=$(".popover").prop("id");$(this).popover("hide"),$("[aria-describedby='"+t+"']").parent().focus()}})}),$("body").off("keydown").on("keydown",function(e){if(27==e.which&&$(".popover").length>0){var t=$(".popover").prop("id");$(".popover").popover("hide"),$("[aria-describedby='"+t+"']").parent().focus()}})}catch(e){console.log("Exception: "+e)}}function assignInlineGridEditEvent(e){try{$("body").off("click").on("click",function(e){$(".attach-popover").each(function(){if(!$(this).is(e.target)&&0===$(this).has(e.target).length&&0===$(".popover").has(e.target).length&&!$(".jconfirm").length>0&&!$(e.target).hasClass("glyphicon-remove")){var t=$(".popover").prop("id");$(this).popover("hide"),$("[aria-describedby='"+t+"']").parent().focus()}})}),$(".edit-mode-content, .attachment-count, .upload-icon, .attach-popover, [onclick*='DeleteRow']").off("keydown.inlineEditEv").on("keydown.inlineEditEv",function(t){if(27==t.which);else if(13==t.which&&$(this).hasClass("upload-icon"))$(this).click();else if(13==t.which&&$(this).hasClass("attachment-count")){var i=$(this).parent().attr("id");setTimeout(function(){$("#"+i).find(".attach-popover").click()},200)}else if(0==$(".popover").length&&9==t.which){var d=$(this).data("type")!=undefined?$(this).data("type"):"attach";if("attach"==d&&$(this).hasClass("upload-icon")&&$(this).closest("td").find(".attachment-count").length>0)$(this).closest("td").find(".attach-popover").focus();else{if(0===$(".inline-edit").length)return;var a=$(this).closest("tr").find("[onclick*='DeleteRow']").is(":visible");focusOnDeleteButton=a;var l="",r="attach"!=d?$(this).parent():$(this).parent().parent(),o=!1;t.shiftKey||"gridattach"!=r.next().find(".edit-mode-content").attr("data-type")?t.shiftKey&&"gridattach"==r.prev().find(".edit-mode-content").attr("data-type")&&(o=!0):o=!0;for(var s=t.shiftKey?o?r.prev().prev():r.prev():o?r.next().next():r.next();s.hasClass("none");)s=t.shiftKey?s.prev():s.next();var n=!1,c=parseInt($(".inline-edit").attr("last-focus-index"));if(s.length>0){var p=r.data("focus-index"),f=t.shiftKey?p-1:p+1;p<=c&&(t.shiftKey?(0!=f?($j(s).find("select").hasClass("fldmultiSelect")&&$j(s).find("input.fldmultiSelectInput").click(),n=!0):a?(setTimeout(function(){$(this).closest("tr").find('[onclick*="DeleteRow"]').focus()},100),n=!0):n=!1,inlineShiftKeyPressed=!0):p===c?n=!1:($j(s).find("select").hasClass("fldmultiSelect")&&$j(s).find("input.fldmultiSelectInput").click(),n=!0))}if(a&&$(t.target).hasClass("gridEditDeleteBtns")&&!t.shiftKey&&(n=!0),!n)if(!t.shiftKey&&$(this).closest("tr").next().length>0){inlineShiftKeyPressed=!1;var h=$(this).closest("tr").index()+1,u=!1,m=$(this).closest("tr").next();$(this).closest("tr").next().find("td").each(function(t,i){if(!u&&$(i).is(":visible")&&$(i).find("textarea").data("type")){var d=$(this).index();r.find(".focus-input").length&&!r.find(".focus-input").hasClass("upload-icon")&&MainBlur(r.find(".focus-input")),updateInlineGridRowValues();var a=$(this).closest("tr").index();d=$(i).index();inlineGridEdit(e,i,d,a),l=$(i).find(".focus-input").attr("id"),u=!0,inlineShiftKeyPressed=!1}}),setTimeout(function(){a?m.find('[onclick*="DeleteRow"]').focus():$("#"+l).focus()},100)}else if(t.shiftKey&&$(this).closest("tr").prev().length>0){inlineShiftKeyPressed=!0,focusOnDeleteButton=!1;var v=$(this).closest("tr").find("[data-focus]:last").index(),g=$(this).closest("tr").prev().attr("id");r.find(".focus-input").length&&!r.find(".focus-input").hasClass("upload-icon")&&MainBlur(r.find(".focus-input"));h=$(this).closest("tr").index();var F=$(this).closest("tr").prev().find("td:nth-child("+(v+1)+")").index();inlineGridEdit(e,$(this).closest("tr").prev().find("td:nth-child("+(v+1)+")"),F,h),t.preventDefault(),setTimeout(function(){var e=$("#"+g).find("td:nth-child("+(v+1)+")");e.find(".attachment-count").length?e.find(".attachment-count").focus():e.find(".upload-icon").length?e.find(".upload-icon").focus():e.find(".focus-input").focus()},50)}else if(t.shiftKey&&$(this).hasClass("attachment-count")&&0==$(this).closest("tr").prev().length)inlineShiftKeyPressed=!0,focusOnDeleteButton=!1;else if(t.shiftKey&&0===$(this).closest("tr").prev().length)updateInlineGridRowValues(),inlineShiftKeyPressed=!0,focusOnDeleteButton=!1;else{if(r.find(".focus-input").length&&!r.find(".focus-input").hasClass("upload-icon")&&MainBlur(r.find(".focus-input")),"undefined"!=typeof callBackFunDtls&&callBackFunDtls.startsWith("GetDependents♠")>0)return void t.preventDefault();if(!validateInlineGridRow(e))return void t.preventDefault();$("#gridAddBtn"+e).length>0?(addNewInlineGridRow(e),focusOnDeleteButton=!0):updateInlineGridRowValues(),inlineShiftKeyPressed=!1}}}})}catch(t){console.log("Exception: "+t)}}function updateAttachmentLabelCount(e){try{0==$("#grdAtt_hlnk_"+e+"attach div").length?($("[data-target='grdAtt_hlnk_"+e+"attach']").remove(),$("#grdAtt_hlnk_"+e+"attach+.attachment-count").remove()):$("[data-target='grdAtt_hlnk_"+e+"attach']").hasClass("attach-popover")&&$("[data-target='grdAtt_hlnk_"+e+"attach']").addClass("expandAttachment")}catch(t){console.log("Exception: "+t)}}function updateAxpFileAttachmentLabelCount(e){try{0==$("#axpFileAtt_hlnk_"+e+"attach div").length?($("[data-target='axpFileAtt_hlnk_"+e+"attach']").remove(),$("#axpFileAtt_hlnk_"+e+"attach+.attachment-count").remove()):$("[data-target='axpFileAtt_hlnk_"+e+"attach']").hasClass("attach-popover")&&$("[data-target='axpFileAtt_hlnk_"+e+"attach']").addClass("expandAttachment")}catch(t){console.log("Exception: "+t)}}function validateInlineGridRow(e,t){var i=!0;if(void 0!==t&&0!=gridDummyRows)return i;var d=$("#gridHd"+e+" [data-valid-row='false']");if(d.length>0){$("[inline-grid-warning]").removeAttr("inline-grid-warning");var a=d.find("[data-fld-mandatory]");if(a.length>0){var l="";updateInlineGridRowValues();var r=a.first().parent().index();a.each(function(){var t=$(this);l=t.first().find(".labelInp").is(":visible")?".labelInp":".focus-input";var d=t.first().find(l).attr("Id");void 0!==d&&d.startsWith("grdAtt_img_")&&(d=a.first().find(".grdAttach").attr("Id"));var o=GetFieldsName(d),s=$j.inArray(o,FNames),n=t.index();inlineShiftKeyPressed=!1,focusOnDeleteButton=!1,fldObj=$("#"+d),fldValue=fldObj.val();FDataType[s];if(0==parseFloat(fldValue)||""===fldValue||null===fldValue){t.attr("inline-grid-warning",""),t.parent().removeClass("inline-edit"),inlineGridEdit(e,t,n,r),fldObj.css("border","1px solid red"),fldObj.closest("td").attr("data-fld-mandatory","");var c=GetFieldsRowNo(d),p=!1;gridDummyRowVal.length>0&&gridDummyRowVal.map(function(t){t.split("~")[0]==e&&t.split("~")[1]==c&&(p=!0)}),p&&(gridRowEditOnLoad=!0);var f=GetDbRowNo(c,e);return f=GetRowNoHelper(f),showAlertDialog("warning",2056,"client",FCaption[s]+"^♠^"+parseInt(f,10)),i=!1,!1}fldObj.css("border","1px solid rgb(204, 204, 204)"),fldObj.closest("td").removeAttr("data-fld-mandatory").removeAttr("inline-grid-warning")})}}return i}function camelCaseToDash(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function axpBtnClickEvent(e){try{$("#"+e+" .axpBtn").off("click.axpBtn").on("click.axpBtn",function(){var e=$j(this);CallAction(e[0].id)})}catch(t){console.log(t.message)}}function fillgridColOptVisibility(e){null!=designObj[0].dcs&&$.grep(designObj[0].dcs,function(t){return t.dc_id==e})[0].tableDesign.map(function(t){if(t.fld_id!=undefined&&t.visibility!=undefined&&!t.visibility){var i=t.fld_id,d=-1;(d=i.indexOf("uniqueEditDeleteAct")>-1?$("#"+i).index():i.indexOf("uniqueThHead")>-1?$("#"+i).index():$("#th-"+i).index())>-1&&$("#gridHd"+e).find("tbody tr td:nth-child("+(d+1)+")").hide()}})}function viewGridPopUp(e){var t='<div class="dcTablePopup"><table class="customSetupTableMN gridHeader g-1 table table-striped table-bordered mt-1 mb-0 border-gray-300 ">'+$("#colScroll"+e+" table").html()+"</table></div>";displayBootstrapModalDialog("Grid View","md","100%",!1,t,!1)}function CheckAllGridRow(e,t){$j("input[name=grdchkItemTd"+t+"]:checkbox").each(function(){0==$j(this).prop("disabled")&&$j(this).prop("checked",e.checked)}),$j("input[name=grdchkItemTd"+t+"]:checked").length>0?$("#clearThisDC"+t).removeClass("disabled"):$("#clearThisDC"+t).removeClass("disabled").addClass("disabled")}function CheckboxGridRow(e,t,i,d){$j("input[name=grdchkItemTd"+t+"]:visible").length==$j("input[name=grdchkItemTd"+t+"]:checked").length?($j("#chkallgridrow"+t).prop("checked",!0),$j("#chkallgridrow"+t).prop("disabled",!1)):($j("#chkallgridrow"+t).prop("checked",!1),$j("#chkallgridrow"+t).prop("disabled",!1)),$j("input[name=grdchkItemTd"+t+"]:checked").length>0?$("#clearThisDC"+t).removeClass("disabled"):$("#clearThisDC"+t).removeClass("disabled").addClass("disabled"),d.stopPropagation()}$j("#testFile").change(function(){var e=$j(this);if(e[0].files.length>0){var t=e[0].files[0].type;if(""!=t)"image"==t.split("/")[0]?createImageTag(this):showAlertDialog("warning",t)}}),$j(document).off("click",".griddivColumn table tbody tr").on("click",".griddivColumn table tbody tr",function(e){if(e.target==undefined||e.target.className.indexOf("material-icons")>=0||e.target.className.indexOf("grdAttach")>=0||e.target.className.indexOf("rejectEdit")>=0||e.target.className.indexOf("gridEditDeleteBtns")>-1||$(e.target).is(".gridHeader  a.axpBtn")||$(e.target).is(".gridHeader  a.axpBtnCustom"))return!1;if("gridEditDeleteBtns"==e.target.className&&isMobile)return $(e.target).find(".material-icons").click(),!1;var t=$j(this),i=t.attr("id").substring(t.attr("id").lastIndexOf("F")+1,t.attr("id").length);if(axInlineGridEdit){if(!$(e.target).closest("tr").hasClass("inline-edit")&&!$(e.target).hasClass("attach-popover")&&!$(e.target).closest("tr").hasClass("disableTheRow")){$("[inline-grid-warning]").removeAttr("inline-grid-warning");var d=$(e.target).closest("tr").index(),a=$(e.target).parent().index();inlineShiftKeyPressed=!1,focusOnDeleteButton=!1;var l=t.attr("id"),r=l.substring(l.lastIndexOf("F")-3,l.lastIndexOf("F")),o=GetGridFields(i),s=!1;gridDummyRowVal.length>0&&gridDummyRowVal.map(function(e){e.split("~")[0]==i&&e.split("~")[1]==r&&(s=!0)}),s&&(GetCurrentTime("Tstruct grid dc addrow button click(ws call)"),AxActiveDc=i,AxActiveRowNo=parseInt(r),gridRowEditOnLoad||(gridDummyRowVal.splice($.inArray(i.toString()+"~"+r,gridDummyRowVal),1),gridDummyRows=!1,$j(".wrapperForGridData"+i+" tbody tr.inEditMode").find(".gridEditDeleteBtns").removeClass("disabled").removeAttr("disabled"),CallEvaluateOnAddPerf(i,r,o,"AddRow")),navValidator=!0),null!=$(e.target).closest("td")?inlineGridEdit(i,$(e.target).closest("td"),a,d):inlineGridEdit(i,$(t).find("td .gridEditDeleteBtns").closest("td"),a,d),CheckAxpvalid(i,r,o)}}else $(e.target).hasClass("attach-popover")||t.find("td:first i.glyphicon.glyphicon-pencil.icon-software-pencil").click()}),function(e){e.fn.focusCursorToEnd=function(t){this.hasClass("fldFromSelect")||this.focus();var i=this.val();if(this.val("").val(i),isMobile||this.select(),e(this).hasClass("fldmultiSelectInput")&&e(this).parents(".dropdown-mul").click(),isMobile&&"undefined"!=typeof axpShowKeyboard&&"false"==axpShowKeyboard)try{AxAfterMainFocus(e(this).attr("id"))}catch(t){}return this}}(jQuery),$(document).on("click",".modal-content .dcTablePopup table td",function(e){var t=$(this).find("textarea").attr("id");$("#"+t.substr(2)).is(":disabled")||($("#"+t.substr(2)).focus(),closeModalDialog())});