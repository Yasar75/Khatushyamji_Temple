/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function LoadIframeac(i){isTstructSplited=!1;try{AxOnLoadIframe()}catch(e){}if(1!==i.indexOf("iviewInteractive")&&(i=i.replace("iviewInteractive","iview")),window.globalChange){if(!confirm(appGlobalVarsObject.lcm[31]))return;SetFormDirty(!1)}else if($("#axpiframeac")[0].contentWindow.designChanged!=undefined&&1==$("#axpiframeac")[0].contentWindow.designChanged&&!confirm(appGlobalVarsObject.lcm[31]))return;var a="";try{(a=AxOnLoadMiddleIframe(i))==undefined&&""==a||(a.src="../../aspx/"+i)}catch(e){}return a!==undefined&&""!==a||(document.getElementById("axpiframeac").src=i),isTstructPopup=!1,!1}function SetFormDirty(i){IsFormDirty=i,window.globalChange=i,void 0!==$("#axpiframeac")&&$("#axpiframeac").attr("src").indexOf("tstruct.aspx")>-1&&"undefined"!=typeof tstAxpFileFlds&&1==tstAxpFileFlds&&(tstAxpFileFlds=!1,ASB.WebService.RemoveUnwantedAxpFiles())}function loadFrameAc(){"undefined"!=typeof $("#axpiframeac")[0].contentWindow.ShowDimmer&&$("#axpiframeac")[0].contentWindow.ShowDimmer(!1),$("body").addClass($.axpertUI.options.loader.parent.substr(1))}function closeFrameAc(){$("body").removeClass($.axpertUI.options.loader.parent.substr(1))}$(function(){$(".adminMainLeft .menu-link[onclick]:first").click()});var menuLabel,navigationshow=callParentNew("navigationshow"),thmProj=callParentNew("thmProj"),mainProject=callParentNew("mainProject"),isBackClicked=!1,appLinkHistory=[],appLinkHistoryLabel=[],curPageIndex=0,prevClickFlag=!1,nextClickFlag=!1,histListFlag=!1;function prevbtn_click(i){if(i.hasClass("linkGray"))return!1;appLinkHistoryLabel.pop(),appLinkHistory.pop(),updateLinks(i,"prev")}function nextbtn_click(i){if(i.hasClass("linkGray"))return!1;updateLinks(i,"next")}function updateAppLinkObj(i){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,e=arguments.length>2&&arguments[2]!==undefined&&arguments[2],t=-1;try{t=AxCustomLinks(i)}catch(s){}var n=window.location.pathname.toLowerCase().split("/"),r=n.slice(0,n.indexOf("aspx")>-1?n.indexOf("aspx"):n.length).reduce(function(i,a){return a&&""==i?i+a:i},"")||"";t>-1?i="../"+mainProject+i.substr(i.indexOf("/aspx/")):i.toLowerCase().indexOf(tempCustomProjPath=window.location.origin.toLowerCase()+"/"+r+(r&&"/")+thmProj.toLowerCase()+"/aspx/")>-1?i="../"+i.substr(i.toLowerCase().indexOf("/"+thmProj.toLowerCase()+"/aspx/")+1):i.indexOf("/aspx/")>-1&&(i=i.substr(i.indexOf("/aspx/")+6));if(!a&&["mainnew.aspx","ivtstload.aspx","ivtoivload.aspx","err.aspx","adminconsole.aspx","configurationStudio.aspx"].filter(function(a){return i.indexOf("/aspx/")>-1?i.substr(i.indexOf("/aspx/")+6)==a:i.indexOf(a)>-1}).length>0)return appLinkHistory.length>1&&(void 0===navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),histListFlag=!1,!1;if(appLinkHistory[appLinkHistory.length-1]==i)return appLinkHistory.length>1&&(void 0===navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),appLinkHistory.length-1>curPageIndex&&curPageIndex++,histListFlag=!1,!1;if(findGetParameter("ivname",appLinkHistory[curPageIndex])===(thisIvName=findGetParameter("ivname",i))&&thisIvName)return appLinkHistory.length>1&&(void 0===navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),(thisAxIvNav=findGetParameter("AxIvNav",i))&&"true"==thisAxIvNav&&(appLinkHistory[curPageIndex]=i),prevClickFlag=nextClickFlag=histListFlag=!1,!1;if(histListFlag)return prevClickFlag=nextClickFlag=histListFlag=!1,!1;if(prevClickFlag)return prevClickFlag=nextClickFlag=histListFlag=!1,!1;if(nextClickFlag)return nextClickFlag=prevClickFlag=histListFlag=!1,!1;if(e&&$("#axpiframe").hasClass("frameSplited"))return!1;if(i){if(0==appLinkHistory.length)return appLinkHistory.push(i),appLinkHistory.length>1&&(void 0===navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),menuLabel?appLinkHistoryLabel.push(menuLabel):1===t?appLinkHistoryLabel.push(updateHisLabel(i.substr(i.indexOf("/aspx/")+6))):appLinkHistoryLabel.push(updateHisLabel(i)),!1;if(appLinkHistory.length-1==curPageIndex)appLinkHistory.push(i),appLinkHistory.length>1&&(void 0===navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),curPageIndex=appLinkHistory.length-1,$(".linkNext").addClass("linkGray"),menuLabel?(appLinkHistoryLabel.push(menuLabel),menuLabel=""):1===t?appLinkHistoryLabel.push(updateHisLabel(i.substr(i.indexOf("/aspx/")+6))):appLinkHistoryLabel.push(updateHisLabel(i));else{if(appLinkHistory[curPageIndex]===i)return!1;curPageIndex+=1,findGetParameter("ivname",appLinkHistory[curPageIndex])===(thisIvName=findGetParameter("ivname",i))&&null!=thisIvName||appLinkHistory.splice(curPageIndex,0,i),appLinkHistory.length>1&&(void 0===navigationshow||"true"==navigationshow)&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).show(),menuLabel?appLinkHistoryLabel.splice(curPageIndex,0,menuLabel):appLinkHistory.length==curPageIndex?1===t?appLinkHistoryLabel.push(updateHisLabel(i.substr(i.indexOf("/aspx/")+6))):appLinkHistoryLabel.push(updateHisLabel(i)):1===t?appLinkHistoryLabel.splice(curPageIndex,0,updateHisLabel(i.substr(i.indexOf("/aspx/")+6))):appLinkHistoryLabel.splice(curPageIndex,0,updateHisLabel(i))}}return curPageIndex<=0?($(".linkPrev").addClass("linkGray"),$(".linkNext").addClass("linkGray")):($(".linkPrev").removeClass("linkGray"),$(".linkPrev").data("index",curPageIndex-1).data("url",appLinkHistory[curPageIndex-1])),updateHistList(),menuLabel="",!1}function updateHisLabel(i){var a="iview.aspx";if(-1!=i.indexOf(a)||-1!=i.toLowerCase().indexOf("ivtoivload.aspx")){var e=$("#middle1").contents().find("div#breadcrumb-panel").find(".bcrumb").find(".tstivCaption").text();return null!=findGetParameter("tstcaption",i)&&(e+=" - Listview"),(e=i.indexOf(a)>0?e+" - "+i.slice(0,i.indexOf(a)):e)||"Title Not Found"}if(-1!=i.indexOf("tstruct.aspx")){var t,n=(t=$("#middle1").contents()).find("input[type=text],textarea,select").filter(":visible:first");if(n&&""!=$.trim(n.val()))e=" - "+n.val();else{var r=getChildLabel(i);e=""!=r?r:" - New"}return t.find("div#breadcrumb-panel").find(".bcrumb").find(".tstivCaption").text()+e}return-1!=i.indexOf("listIview.aspx")?(t=$("#middle1").contents()).find("div#breadcrumb-panel").find(".bcrumb").find(".tstivCaption").text()+" - listview":i.slice(0,i.indexOf(".aspx"))}function getChildLabel(i){for(var a,e=i.split("?")[1].split("&"),t="",n=0;n<e.length;n++)e[n]&&("recordid"==(a=e[n].split("="))[0]&&(t=a[1]),"theMode"==a[0]&&(t=t+" - "+a[1]));return t}function updateHistList(){for(var i=[],a=appLinkHistoryLabel.length-1;a>=0;--a)-1===$.inArray(appLinkHistory[a],i)&&(i.push(appLinkHistory[a]),'<li class="histLi histLi'+a+'" title="'+appLinkHistoryLabel[a]+'" onclick="histListFlag = true; LoadIframeac(\''+appLinkHistory[a]+'\')"> <a href="javascript:void(0);" style="text-decoration: none;">'+appLinkHistoryLabel[a]+"</a></li>");appLinkHistoryLabel.length}function updateLinks(i,a){prevClickFlag=nextClickFlag=!1;var e,t=i.data("index");i.data("url");console.log("Next Link"),0==t&&$(".linkPrev").addClass("linkGray"),appLinkHistory.length-1==t&&$(".linkNext").addClass("linkGray"),"next"==a?(curPageIndex++,e=t+1,nextClickFlag=!0):(curPageIndex--,e=t-1,prevClickFlag=!0),i.data("index",e).data("url",appLinkHistory[e]),"next"==a?($(".linkPrev").data("index",curPageIndex-1).data("url",appLinkHistory[curPageIndex-1]),$(".linkPrev").removeClass("linkGray")):($(".linkNext").data("index",curPageIndex+1).data("url",appLinkHistory[curPageIndex+1]),$(".linkNext").removeClass("linkGray")),menuLabel="",isBackClicked=!0,LoadIframeac(appLinkHistory[curPageIndex]),0==curPageIndex&&$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).hide()}$(document).ready(function(i){$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).hide()}),$(".linkPrev").click(function(){prevbtn_click($(this))}),$(".linkNext").click(function(){nextbtn_click($(this))}),$(document).on("click","li.clearHisItem",function(){appLinkHistoryLabel=[],appLinkHistory=[],$(appGlobalVarsObject._CONSTANTS.navigation.backButton.div).hide(),updateHistList(),curPageIndex=0,prevClickFlag=nextClickFlag=!1,$(".linkPrev").addClass("linkGray"),$(".linkNext").addClass("linkGray")});