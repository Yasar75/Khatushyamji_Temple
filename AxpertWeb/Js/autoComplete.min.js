/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/var dtAssoc=[],isAutocomBlur=!0;$j(function(){$(".fastAutocompl").autocomplete({minLength:1,selectFirst:!0,autoFocus:!0,source:function(e,t){fldName=$(this.element).attr("id"),$("#"+fldName).next().removeClass("hide"),$j.ajax({url:"tstruct.aspx/GetFilterFastData",type:"POST",cache:!1,async:!0,data:JSON.stringify({SessKey:tstDataId,FldName:fldName,FldValue:"",fltValue:e.term}),dataType:"json",contentType:"application/json",success:function(e){dtAssoc=$j.parseJSON(e.d),t($.map(dtAssoc,function(e){return{label:e.Item,value:e.Value}}))}})},open:function(e,t){$(this).attr("id");var a=$(this).closest(".ui-dialog");a.length>0&&$(".ui-autocomplete.ui-front").zIndex(a.zIndex()+1)},focus:function(e,t){return!1},select:function(e,t){dtAssoc=[];$(this).attr("id");return $(this).val(t.item.label),!1}})});var AutPageNo=1,AutPageSize=50,rcount=0,fetchRCount=FetchPickListRows||1e3;PageCount=0;var CangefldName="",isNavigation=!1,refreshAC=!1,pickarrow=!1;function removeClickEvents(e,t){$(document).off("click","[data-ids = '"+e+"']"),$(document).off("click","#autoleft"+e),$(document).off("click","#autoright"+e),$(document).off("click","#autorefresh"+e)}function clickEvents(e,t){$(document).on("click","[data-ids = '"+e+"']",function(){var t=$(this).attr("id");$j("#hdnPickFldId").val(t);try{$("#"+e).autocomplete("close")}catch(a){}$("#"+e).removeClass("autoComSelWithTab"),CallSearchOpen()}),$(document).on("click","#autoleft"+e,function(){isNavigation=!0,pickarrow=!0,AutPageNo--,$("#"+t+" #autoright"+e).prop("disabled",!1).removeClass("disabled"),1==AutPageNo&&$("#"+t+" #autoleft"+e).prop("disabled",!0).addClass("disabled");var a=$(this).data("fldname");$("#"+a).focus().autocomplete("search",$("#"+a).val())}),$(document).on("click","#autoright"+e,function(){isNavigation=!0,pickarrow=!0,AutPageNo++,$("#"+t+" #autoleft"+e).prop("disabled",!1).removeClass("disabled"),PageCount<=AutPageNo&&$("#"+t+" #autoright"+e).prop("disabled",!0).addClass("disabled");var a=$(this).data("fldname");$("#"+a).focus().autocomplete("search",$("#"+a).val())}),$(document).on("click","#autorefresh"+e,function(){refreshAC=!0,AutPageNo=1,rcount=0,CangefldName="",PageCount=0;var e=$(this).data("refresh");$("#"+e).focus().autocomplete("search",$("#"+e).val())})}function GetAutoCompData(e,t,a,o){var s="";if(arrRefreshDcs.length>0)for(var l=0;l<arrRefreshDcs.length;l++){var i=arrRefreshDcs[l].split(":");s=i[1].replace("dc","")+","+i[0].replace("dc","")}t=CheckSpecialCharsInStr(t);var r=GetFieldsDcNo(e);AxActiveRowNo=parseInt(GetFieldsRowNo(e),10),AxActiveRowNo=GetDbRowNo(AxActiveRowNo,r);var d=AxActiveRowNo,n="";""!=AxActivePRow&&""!=AxActivePDc&&(n=AxActivePDc+"♠"+AxActivePRow);var c="";return IsParentField(e,r)&&(c=GetSubGridInfoForParent(r,AxActiveRowNo)),a.toString()+"~"+o.toString()+"~"+r+"~"+d+"~"+n+"~"+c+"~"+s}function createAutoComplete(fld){var position={my:"left top",at:"left bottom"};$("body").hasClass("btextDir-rtl")&&(position={my:"right top",at:"right bottom"});var depFldName="";callBackFunDtls="createAutoComplete♠"+fld;var autoComFlds=$(fld);autoComFlds.each(function(){var e=$(this);e.data("uiAutocomplete")&&e.autocomplete("destroy")}),autoComFlds.autocomplete({minLength:0,selectFirst:!0,autoFocus:!0,appendTo:".dvheightframe",source:function source(request,response){var fastdll=$(this.element).hasClass("fastdll"),isrefreshsave=$(this.element).hasClass("isrefreshsave");if(fldNameAc=$(this.element).attr("id"),request.term.length>2&&0==fastdll||0==request.term.length||1==fastdll){if($(this.element).parent().hasClass("opened"))return;if(performFastSearch){$("#"+fldNameAc).hasClass("blurme")||$(this.element).parent().addClass("opened"),CangefldName!=fldNameAc&&(AutPageNo=1,rcount=0,CangefldName=fldNameAc),isNavigation||(AutPageNo=1),isNavigation=!1,$("#"+fldNameAc).next().removeClass("hide");var pageData=GetAutoCompData(fldNameAc,request.term,AutPageNo,AutPageSize),fieldName=fldNameAc.substring(0,fldNameAc.lastIndexOf("F")-3),parentFldVal="";parentFldVal="undefined"!=typeof wsPerfEnabled&&wsPerfEnabled?ISBoundAutoCom(fieldName,fldNameAc):ISBoundNew(fieldName,fldNameAc);var fldApiInd=GetFieldIndex(fieldName),isApifld=FldIsAPI[fldApiInd];if(GetProcessTime(),$j.inArray(fieldName,sourceAcMetaJsonFlds)>-1){$("#"+fldNameAc).parent().removeClass("opened eventFiredWhileLoading");var fldsourceIndex=$j.inArray(fieldName,sourceAcMetaJsonFlds),fdmJson=fldSourceAcMetaJson[fldsourceIndex].data,aSearch=[];aSearch=fdmJson.split(","),$("#"+fldNameAc).data("rowcount",aSearch.length),0!=aSearch.length&&response($.map(aSearch,function(e){return{label:e=e.replace(/\^\^dq/g,'"'),value:"",dep:""}})),$("#"+fldNameAc).hasClass("clickedOnTab")&&$("#"+fldNameAc).removeClass("clickedOnTab").addClass("newValueReturned")}else $.ajax({url:"tstruct.aspx/GetAutoCompleteData",type:"POST",cache:!1,async:!0,data:JSON.stringify({tstDataId:tstDataId,FldName:fieldName,FltValue:request.term,ChangedFields:ChangedFields,ChangedFieldDbRowNo:ChangedFieldDbRowNo,ChangedFieldValues:ChangedFieldValues,DeletedDCRows:DeletedDCRows,pageData:pageData,fastdll:fastdll,fldNameAc:fldNameAc,refreshAC:refreshAC,pickArrow:pickarrow,parentsFlds:parentFldVal,rfSave:isrefreshsave,IsApiFld:isApifld}),dataType:"json",contentType:"application/json",success:function success(data){refreshAC=!1,$("#"+fldNameAc).parent().removeClass("opened eventFiredWhileLoading");try{var result=data.d.toString().replace(new RegExp("\\n","g"),"");if(""!=result&&(result.split("*♠*").length>1?(serverprocesstime=result.split("*♠*")[1],requestProcess_logtime=result.split("*♠*")[2],result=result.split("*♠*")[0],WireElapsTime(serverprocesstime,requestProcess_logtime,!0)):UpdateExceptionMessageInET("Error : "+result)),CheckSessionTimeout(result))return;if(result=result.toString().replace(new RegExp("\\t","g"),"&#9;"),ChangedFields=new Array,ChangedFieldDbRowNo=new Array,ChangedFieldValues=new Array,DeletedDCRows=new Array,result.toLowerCase().includes("access violation")&&result.toLowerCase().includes("asbtstruct.dll"))isAutoComSelected=!0,AxWaitCursor(!1),ShowDimmer(!1),$("#reloaddiv").show(),$("#dvlayout").hide();else{var serResult=$.parseJSON(result);if(serResult.error)return void ExecErrorMsg(serResult.error,"autocomplete");var rcountNew=serResult.pickdata[0].rcount;if(depFldName=serResult.pickdata[2].dfname,AutoFillFlds[fieldName]=depFldName,$("#"+fldNameAc).hasClass("blurme"))return isAutoComSelected=!0,$("#"+fldNameAc).removeClass("blurme").removeClass("autoComSelWithTab"),void MainBlur($j($("#"+fldNameAc)));if(0!=rcountNew&&(rcount=parseInt(rcountNew)),dtAssoc=serResult.pickdata[3].data,dtAssoc!=undefined&&0!=dtAssoc.length)if(fastdll){var aSearch=[];if($(dtAssoc).each(function(e,t){t.i=t.i.replace(/\^\^dq/g,'"'),t.i.toLowerCase().indexOf(request.term.toLowerCase())>=0&&aSearch.push(t)}),$("#"+fldNameAc).data("rowcount",aSearch.length),0!=aSearch.length)response($.map(aSearch,function(e){return e.i=e.i.replace(/\^\^dq/g,'"'),{label:e.i,value:e.v,dep:e.d}}));else{var cutMsg=eval(callParent("lcm[0]")),result=[{label:cutMsg,value:"NO1234567890",dep:cutMsg}];response(result)}}else response($.map(dtAssoc,function(e){return e.i=e.i.replace(/\^\^dq/g,'"'),{label:e.i,value:e.v,dep:e.d}}));else{var cutMsg=eval(callParent("lcm[0]")),result=[{label:cutMsg,value:"NO1234567890"}];response(result)}}$("#"+fldNameAc).hasClass("clickedOnTab")&&$("#"+fldNameAc).removeClass("clickedOnTab").addClass("newValueReturned")}catch(exception){$(this).removeClass("autoComSelWithTab"),isAutoComSelected=!0,$("#"+fldNameAc).parent().removeClass("opened eventFiredWhileLoading"),$("#"+fldNameAc).hasClass("clickedOnTab")&&$("#"+fldNameAc).removeClass("clickedOnTab").addClass("newValueReturned"),-1!=exception.message.toLowerCase().indexOf("access violation")&&(AxWaitCursor(!1),ShowDimmer(!1),$("#reloaddiv").show(),$("#dvlayout").hide())}},error:function(e){return $(this).removeClass("autoComSelWithTab"),isAutoComSelected=!0,$("#"+fldNameAc).parent().removeClass("opened eventFiredWhileLoading"),-1!=e.toLowerCase().indexOf("access violation")&&(AxWaitCursor(!1),ShowDimmer(!1),$("#reloaddiv").show(),$("#dvlayout").hide()),!1}})}}else{$(this).removeClass("autoComSelWithTab"),isAutoComSelected=!0,this.menu.element.html(""),rcount=0;var result=[{label:"Required to search minimum 3 characters",value:"",dep:""}];response(result)}},position:position,open:function(e,t){refreshAC=!1,pickarrow=!1;var a=$(this).data("ui-autocomplete").menu.element.attr("id"),o=$(this).outerWidth(),s=$("#"+a).offset().left+"px",l=!1,i=0;"popup"==AxpGridForm&&$("#bootstrapModal:visible").length&&(l=!0),i=!$(".dvheightframe").hasScrollBar()&&l?$("#"+a)[0].offsetTop+$("#"+a)[0].offsetHeight+"px":$("#"+a)[0].offsetTop+$("#"+a)[0].offsetHeight+$(".dvheightframe")[0].offsetTop-$(".dvheightframe")[0].scrollTop+"px";var r=1==isMobile?o+"px":$("#"+a)[0].offsetWidth+"px";$("#"+a).append("<li class='autoComFooter' style='float: left;z-index:999999;width:"+r+" ;position: fixed;top: "+i+";left:"+s+";'>"+$("#autoadv"+fldNameAc).html()+"</li>"),!$(".dvheightframe").hasScrollBar()&&l&&$("#"+a).find(".name").css({position:"absolute"}).parent().css({top:"initial"}),rcount=rcount<fetchRCount?rcount:fetchRCount,PageCount=Math.ceil(rcount/AutPageSize),0==PageCount&&(PageCount=1),countPerPage=rcount,isMobile&&$("#"+a).css({width:o+"px"}).addClass("acOpen"),1==AutPageNo?1==PageCount?($("#"+a+" #autoleft"+fldNameAc).prop("disabled",!0).addClass("disabled"),$("#"+a+" #autoright"+fldNameAc).prop("disabled",!0).addClass("disabled")):$("#"+a+" #autoleft"+fldNameAc).prop("disabled",!0).addClass("disabled"):AutPageNo>1&&PageCount<=AutPageNo&&$("#"+a+" #autoright"+fldNameAc).prop("disabled",!0).addClass("disabled"),0==$(this).data("rowcount")&&$("#"+a+" #autorefresh"+fldNameAc).prop("disabled",!0).addClass("disabled"),removeClickEvents(fldNameAc,a),clickEvents(fldNameAc,a),createScrollEvent("bind",a),createLeftRightEvents("bind",a);var d=$("#"+a),n=$(".dvheightframe"),c=d.offset().top+d.outerHeight(),u=$(".dvheightframe").outerHeight();c>u&&n.scrollTop(n.scrollTop()+(c-u)),$("body").hasClass("btextDir-rtl")?($("#"+a).find("li").css("text-align","right"),$("#"+a).find(".reload,.leftico").css("float","right"),$("#"+a).find(".rightico").css("float","left")):($("#"+a).find("li").css("text-align","left"),$("#"+a).find(".reload,.leftico").css("float","left"),$("#"+a).find(".rightico").css("float","right"))},close:function(e,t){refreshAC=!1,createLeftRightEvents("unbind"),createScrollEvent("unbind");var a=$(this).data("ui-autocomplete").menu.element.attr("id");return $("#"+a).removeClass("acOpen").html(""),$(".ui-helper-hidden-accessible").html(""),!1},focus:function(e,t){isAutoComSelWithTab=!1;var a=$(this).data("ui-autocomplete").menu.element.find(".autoComFooter .glyphicon.footerActive");return a.length>0&&a.removeClass("footerActive"),!1},select:function select(event,ui){isAutoComSelWithTab=!0,refreshAC=!1,isGrdEditDirty=!0,dtAssoc=[];var fldNameAc=$(this).attr("id"),fldAcValue="",cutMsg=eval(callParent("lcm[0]"));ui.item.label!=cutMsg&&"NO1234567890"!=ui.item.value&&"Required to search minimum 3 characters"!=ui.item.label?($(this).val(ui.item.label),fldAcValue=ui.item.label):$(this).val("");var rcID=GetFieldsRowFrameNo(fldNameAc),acFrNo=GetFieldsDcNo(fldNameAc),rowNum=GetDbRowNo(GetFieldsRowNo(fldNameAc),acFrNo),fldRowNo=GetFieldsRowNo(fldNameAc);if(IsDcGrid(acFrNo)&&isGrdEditDirty&&UpdateFieldArray(axpIsRowValid+acFrNo+fldRowNo+"F"+acFrNo,GetDbRowNo(fldRowNo,acFrNo),"","parent","AddRow"),UpdateFieldArray(fldNameAc,rowNum,fldAcValue,"parent","AutoComplete"),ui.item.dep!=undefined&&ui.item.dep!=cutMsg)try{var depText=ui.item.dep.split("^"),dfCount=0;$.each(depText,function(e,t){var a=depFldName.split("^")[dfCount],o=t;dfCount++,rcID=rcID.substring(0,rcID.lastIndexOf("F")+1)+GetDcNo(a),$("#"+a+rcID).val(o);var s=$j.inArray(a,FNames);"Numeric"==GetFieldType(a,s)&&$("#"+a+rcID).data("attr",o),o!=undefined&&UpdateFieldArray(a+rcID,rowNum,o,"parent","AutoComplete")})}catch(Ex){}return $(this).addClass("newValueReturned"),$(this).removeClass("autoComSelWithTab"),isAutoComSelected=!0,!1},search:function(e,t){isAutocomBlur&&(isAutocomBlur=!1,GetCurrentTime("Tstruct autocomplete search (ws call)")),$(this).parent().hasClass("eventFiredWhileLoading")&&e.preventDefault();var a=$(this).hasClass("fastdll");$(this).addClass("autoComSelWithTab"),a?(isAutoComSelected=!1,$(this).autocomplete("option","delay",300)):(isAutoComSelected=!1,$(this).autocomplete("option","delay",600))}}),$(".autoinputtxtclear").click(function(e){isAutoComSelected=!0}),$(".autoClickddl").off("click"),$(".autoClickddl").click(function(e){performFastSearch=!0;var t=$(this).attr("data-clk");""!=$("#"+t).val()&&$("#"+t).val(""),$("#"+t).focus().autocomplete("search",$("#"+t).val())}),$(".fldAutocomplete").off("keydown.fldA"),$(".fldAutocomplete").on("keydown.fldA",function(e){if(performFastSearch=!0,$(this).parent().hasClass("opened"))$(this).parent().addClass("eventFiredWhileLoading"),e.preventDefault();else{if(9===e.keyCode){var t=$(this);if(t.hasClass("newValueReturned"))t.removeClass("newValueReturned");else{var a=t.val();""!==a&&AxOldValue!==a&&(e.preventDefault(),$(this).addClass("clickedOnTab"))}if(9!=e.keyCode||e.shiftKey){if(9==e.keyCode&&e.shiftKey){o=$(this),s=$(o).closest("[class*=fldindex]").data("dataindex"),l=$(o).attr("id").substring($(o).attr("id").lastIndexOf("F")+1,$(o).attr("id").length),i=[];$(o).closest("#divDc"+l).find(".rowDUMMY").find("[class*=fldindex]").each(function(e,t){i.push($(this).data("dataindex"))}),i.length>0&&(i.sort(function(e,t){return e-t}).reverse(),$.each(i,function(a,i){if(s>i){var r=$j(o).closest("#divDc"+l).find("[data-dataindex="+i+"]").find("input:not([id=searstr],[class=AxAddRows],[class=AxSearchField]),select:not([id=selectbox]),textarea:not(#txtCommentWF):not(.labelInp),input[type=checkbox],input[type=checkbox]");if(void 0===$("#"+$(r).attr("id")).attr("disabled")&&void 0===$("#"+$(r).attr("id")).attr("readonly"))return $("#"+$(r).attr("id")).hasClass("fldAutocomplete")||$("#"+$(r).attr("id")).hasClass("fldmultiSelect")||0!=isAutoComSelWithTab?0==isAutoComSelWithTab&&AxOldValue!=t.val()?(t.addClass("autoComSelWithTab"),$("#"+$(r).attr("id")).focus()):0==isAutoComSelWithTab&&AxOldValue==t.val()?(t.removeClass("autoComSelWithTab"),$("#"+$(r).attr("id")).focus()):$("#"+$(r).attr("id")).hasClass("fldmultiSelect")?$("#"+$(r).attr("id")).parent(".dropdown-mul").find(".fldmultiSelectInput").click():$("#"+$(r).attr("id")).focus():(t.removeClass("autoComSelWithTab"),$("#"+$(r).attr("id")).focus()),(e.shiftKey&&16==e.keyCode||9==e.keyCode||e.shiftKey&&9==e.keyCode||e.ctrlKey&&17==e.keyCode||e.altKey&&18==e.keyCode||20==e.keyCode)&&(performFastSearch=!1),e.preventDefault(),!1}}))}}else{var o=$(this),s=$(o).closest("[class*=fldindex]").data("dataindex"),l=$(o).attr("id").substring($(o).attr("id").lastIndexOf("F")+1,$(o).attr("id").length),i=[];$(o).closest("#divDc"+l).find(".rowDUMMY").find("[class*=fldindex]").each(function(e,t){i.push($(this).data("dataindex"))}),i.length>0&&(i.sort(function(e,t){return e-t}),$.each(i,function(a,i){if(s<i){var r=$j(o).closest("#divDc"+l).find("[data-dataindex="+i+"]").find("input:not([id=searstr],[class=AxAddRows],[class=AxSearchField]),select:not([id=selectbox]),textarea:not(#txtCommentWF):not(.labelInp),input[type=checkbox],input[type=checkbox]");if(void 0===$("#"+$(r).attr("id")).attr("disabled")&&void 0===$("#"+$(r).attr("id")).attr("readonly"))return $("#"+$(r).attr("id")).hasClass("fldAutocomplete")||$("#"+$(r).attr("id")).hasClass("fldmultiSelect")||0!=isAutoComSelWithTab?0==isAutoComSelWithTab&&AxOldValue!=t.val()?(t.addClass("autoComSelWithTab"),$("#"+$(r).attr("id")).focus()):0==isAutoComSelWithTab&&AxOldValue==t.val()?(t.removeClass("autoComSelWithTab"),$("#"+$(r).attr("id")).focus()):$("#"+$(r).attr("id")).hasClass("fldmultiSelect")?$("#"+$(r).attr("id")).parent(".dropdown-mul").find(".fldmultiSelectInput").click():$("#"+$(r).attr("id")).focus():(t.removeClass("autoComSelWithTab"),$("#"+$(r).attr("id")).focus()),(e.shiftKey&&16==e.keyCode||9==e.keyCode||e.shiftKey&&9==e.keyCode||e.ctrlKey&&17==e.keyCode||e.altKey&&18==e.keyCode||20==e.keyCode)&&(performFastSearch=!1),e.preventDefault(),!1}}))}return}if(38!==e.keyCode&&40!==e.keyCode&&$(this).data("uiAutocomplete")&&$(this).autocomplete("close"),13==e.keyCode){var r=$(this);if(r.attr("readonly")==undefined&&0==$("#axpertPopupWrapper").length){r.data("ui-autocomplete").menu.element;var d=r.data("ui-autocomplete").menu.element.find(".autoComFooter .glyphicon.footerActive");0==d.length&&""==r.val()?r.focus().autocomplete("search",r.val()):0!==d.length&&d.click()}}else(e.shiftKey&&16==e.keyCode||9==e.keyCode||e.shiftKey&&9==e.keyCode||e.ctrlKey&&17==e.keyCode||e.altKey&&18==e.keyCode||20==e.keyCode)&&(performFastSearch=!1)}}),$(".fldavdsearch").off("click.fldAS"),$(".fldavdsearch").on("click.fldAS",function(e){var t=$(this).parents(".autoinput-parent").find("input.ui-autocomplete-input").attr("id");$j("#hdnPickFldId").val("img~".concat(t)),$("#"+t).removeClass("autoComSelWithTab"),CallSearchOpen()})}function createScrollEvent(e,t){if("bind"==e){var a=0;$(".dvheightframe").off("scroll.autoScroll").on("scroll.autoScroll",function(){var e=$(".dvheightframe")[0].scrollTop;"undefined"!=typeof isWizardTstruct&&isWizardTstruct?a=$("#"+t)[0].offsetHeight+$("#"+t)[0].offsetTop-e:isMobile&&"none"!=mobileCardLayout?a=$(".dvheightframe").outerHeight():"undefined"!=typeof $("#"+t)[0]&&(a=$("#"+t)[0].offsetHeight+$("#"+t)[0].offsetTop+100-e),$("#"+t+" li.autoComFooter").css("top",a+"px")})}else $(".dvheightframe").off("scroll.autoScroll")}function createLeftRightEvents(e,t){if($(document).off("keydown.lrEvents"),"unbind"==e)return isAutoComSelected=!0,!1;$(document).on("keydown.lrEvents",function(e){var a=$("#"+t+" .autoComFooter .name .glyphicon.footerActive"),o=$("#"+t).data("ui-menu").active;if(o=o?o.find("div"):$("#"+t+" li:first div"),37==e.keyCode)if(0==a.length)$("#"+t+" li div.ui-state-active").removeClass("ui-state-active"),$("#"+t+" .autoComFooter .name div").last().find(".glyphicon").addClass("footerActive");else if(a.hasClass("pickimg"))(s=a.parent().prev().find(".glyphicon").last()).is(":disabled")?s.prev().is(":disabled")?(a.removeClass("footerActive"),o.addClass("ui-state-active")):(a.removeClass("footerActive"),s.prev().addClass("footerActive")):(a.removeClass("footerActive"),s.addClass("footerActive"));else if(a.parent().hasClass("reload"))a.removeClass("footerActive"),o.addClass("ui-state-active");else if(a.parent().hasClass("leftico")){var s;if(0==a.index())a.removeClass("footerActive"),o.addClass("ui-state-active");else(s=a.prev()).is(":disabled")?(a.removeClass("footerActive"),o.addClass("ui-state-active")):(a.removeClass("footerActive"),s.addClass("footerActive"))}else a.parent().hasClass("addOption")&&(a.removeClass("footerActive"),s.addClass("footerActive"));else 39==e.keyCode?0==a.length?($("#"+t+" li div.ui-state-active").removeClass("ui-state-active"),$("#"+t+" .autoComFooter .name div").first().find('.glyphicon:not(":disabled")').first().addClass("footerActive")):a.parent().hasClass("reload")?(a.removeClass("footerActive"),a.parent().next().find(".pickimg").addClass("footerActive")):a.hasClass("pickimg")?(a.removeClass("footerActive"),o.addClass("ui-state-active")):a.parent().hasClass("leftico")?1==a.index()||a.next().is(":disabled")?(a.removeClass("footerActive"),a.parent().next().find(".pickimg").addClass("footerActive")):(a.removeClass("footerActive"),a.next().addClass("footerActive")):a.parent().hasClass("addOption")&&(a.removeClass("footerActive"),a.parent().next().hasClass("reload")?a.parent().next().find(".glyphicon-repeat").addClass("footerActive"):a.parent().next().hasClass("leftico")&&(a.parent().next().find(".glyphicon-chevron-left").hasClass("disabled")?a.parent().next().find(".glyphicon-chevron-right").hasClass("disabled")?a.parent().hasClass("reload")||a.parent().next().next().find(".pickimg").addClass("footerActive"):a.parent().next().find(".glyphicon-chevron-right").addClass("footerActive"):a.parent().next().find(".glyphicon-chevron-left").addClass("footerActive"))):32==e.keyCode&&a.length>0&&(e.preventDefault(),e.stopPropagation(),a.click())})}function AxGetCustSelectFldData(e){var t="",a=$("#"+e).hasClass("fastdll"),o=GetAutoCompData(e,"",1,1e3),s=e.substring(0,e.lastIndexOf("F")-3),l="";return l="undefined"!=typeof wsPerfEnabled&&wsPerfEnabled?ISBoundAutoCom(s,e):ISBoundNew(s,e),$.ajax({url:"tstruct.aspx/GetAutoCompleteData",type:"POST",cache:!1,async:!1,data:JSON.stringify({tstDataId:tstDataId,FldName:s,FltValue:"",ChangedFields:ChangedFields,ChangedFieldDbRowNo:ChangedFieldDbRowNo,ChangedFieldValues:ChangedFieldValues,DeletedDCRows:DeletedDCRows,pageData:o,fastdll:a,fldNameAc:e,refreshAC:!1,pickArrow:!1,parentsFlds:l,rfSave:!0}),dataType:"json",contentType:"application/json",success:function(e){try{var a=e.d.toString().replace(new RegExp("\\n","g"),"");if(""!=a&&(a=a.split("*♠*")[0]),CheckSessionTimeout(a))return;a=a.toString().replace(new RegExp("\\t","g"),"&#9;"),ChangedFields=new Array,ChangedFieldDbRowNo=new Array,ChangedFieldValues=new Array,DeletedDCRows=new Array,a.toLowerCase().includes("access violation")&&a.toLowerCase().includes("asbtstruct.dll")?(AxWaitCursor(!1),ShowDimmer(!1),showAlertDialog("error","Access Violation")):t=a}catch(o){AxWaitCursor(!1),ShowDimmer(!1),showAlertDialog("error",o.message)}},error:function(e){AxWaitCursor(!1),ShowDimmer(!1),showAlertDialog("error",e)}}),t}$(function(){createAutoComplete(".fldAutocomplete"),$(document).on("mouseenter",".fldAutocomplete",function(){$(this).attr("readonly")!=undefined&&$(this).parent().find(".autoclear,.edit").hide()}),jQBrowser.msie||$(document).on("blur",".fldAutocomplete",function(){var e=$(this);e.data("uiAutocomplete")&&e.autocomplete("close")})}),$(document).on("mousewheel DOMMouseScroll",".ui-autocomplete",function(e){var t=e.originalEvent,a=t.wheelDelta||-t.detail;this.scrollTop+=30*(a<0?1:-1),e.preventDefault()});