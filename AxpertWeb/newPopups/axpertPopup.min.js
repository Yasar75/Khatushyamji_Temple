/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var iframeHtmlSrc="",isBackBtnHidden=!1,isRefreshParentAction="false",onLoadEvent="",unLoadEvent="";function createPopup(iframeSource,isRefreshSelect,width,height){var onLoadEventArg=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"",unLoadEventArg=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";if(iframeHtmlSrc=iframeSource,width=width||"100vw",onLoadEvent=onLoadEventArg,unLoadEvent=unLoadEventArg,isRefreshSelect!=undefined)try{eval(callParent("isTstructPopup")+" = true")}catch(ex){console.log(ex.message)}if(htmlContent=createIframeMarkup(iframeSource,width,height),$("head").append(htmlContent),-1!==iframeSource.indexOf("tstruct.aspx")||-1!==iframeSource.indexOf("ivtstload.aspx"))var options={closeOnOutsideClick:!0,hashTracking:!1,closeOnEscape:!1};else var options={closeOnOutsideClick:!0,hashTracking:!1,closeOnEscape:!0};var inst=$("[data-remodal-id=axpertPopupModal]:not(.remodal-is-initialized):not(.remodal-is-closed):eq(0)").remodal(options);return inst&&"opened"!=inst.state&&inst.open(),inst}function createIframeMarkup(e,t,a){var o=checkForAxpPopUpExists(),r="";if(o>0&&(r="height:"+(100-10*++o)+"vh;width:"+(100-10*o)+"vw"),t!=undefined&&(r="width:"+t+";"),a!=undefined&&(r+="height:"+a+";"),isRefreshParentAction="false",iframeHtmlSrc.indexOf("AxPop=true")>-1&&("Iview"==window.document.title||"Listview"==window.document.title))try{var n;n=$("#hdnAct").val().substr(4),ivActions&&ivActions[n]?isRefreshParentAction=ivActions[n].r1.param1.Refresh.toLowerCase():ivScripts&&ivScripts[n]&&(isRefreshParentAction=ivScripts[n].r1.param1.Refresh.toLowerCase())}catch(l){}var i='<div id="axpertPopupWrapper" style="'+r+'" class="remodal" data-remodal-id="axpertPopupModal">';return i+='<button data-remodal-action="close" class="remodal-close remodalCloseBtn cardStyle material-icons" title="Close">close</button>',i+="<div style='height:100%;' id='iframeMarkUp'></div>",i+="</div>"}function checkForAxpPopUpExists(){return!!eval(callParent("axpertPopupWrapper","id"))&&$("#axpertPopupWrapper",eval(callParent("axpertPopupWrapper","id"))).length}function closeRemodalPopup(){var e=$("[data-remodal-id=axpertPopupModal]:not(.remodal-is-closed):eq(0)").remodal();try{e.close()}catch(t){}}function pushValToSession(e,t){$.ajax({type:"POST",url:"../WebService.asmx/AddSessionPair",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({key:e,val:t}),dataType:"json",success:function(e){}})}function createDatatableFromJson(e,t){if($.fn.DataTable.isDataTable(t)&&(t.DataTable().destroy(),t.empty()),"undefined"!=typeof e.result.row&&0!=e.result.row.length&&(t.DataTable({data:e.result.row,columns:Object.keys(e.result.row[0]).map(function(e){return{data:e,title:e}}),autoWidth:!1,paging:!1,filter:!1,bInfo:!1}),t==$("#tblOutput"))){var a=$("#tblOutput").DataTable().data().count();$("#spnRowCnt").text("No. of rows : "+a)}}function processQueryResult(e){}$(document).on("opening","#axpertPopupWrapper",function(){$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).hide(),ShowDimmer(!0)}),$(document).on("closing","#axpertPopupWrapper",function(){checkForAxpPopUpExists()||$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).show(),isBackBtnHidden&&($(callParentNew("appBackBtn","class")).show(),isBackBtnHidden=!1)}),$(document).on("opened","#axpertPopupWrapper",function(){onLoadEvent&&(onLoadEvent(),onLoadEvent=""),eval(callParent("addOverlayToBody()"));try{iframeHtmlSrc=ax_loadCustomPopIframe(iframeHtmlSrc,window)||iframeHtmlSrc}catch(ex){}$("#axpertPopupWrapper #iframeMarkUp").html('<iframe src="'+iframeHtmlSrc+'" id="popupIframeRemodal" width="100%" height="100%" style="border:0px; " data-refresh="'+isRefreshParentAction+'"></iframe>'),window.leftMenuWrapper===undefined&&window.parent.document&&$(window.parent.document).contents().find(".remodalCloseBtn").hide(),$("#popupIframeRemodal").on("load",function(){iframePopupLoadOpts($("#popupIframeRemodal"));try{eval(callParent("isTstructPopup"))&&$("#popupIframeRemodal").contents().find("head").append($("<style>#icons li a:not([title=Save]){display: none !important;}</style>")),eval(callParent("isDWB"))&&"AxDBScript.aspx"==$("#popupIframeRemodal").attr("src")&&$("#popupIframeRemodal").contents().find("head").append($("<style>#schemaBrwsr #dataView .tab-content #QryEditor #ScriptToolBar ul{ margin-right: 48px;} #dvObjList{margin-top: 42px;}#axpertPopupWrapper button{    background: #807e7e;color: #fff}</style>"))}catch(ex){console.log(ex.message)}try{$(callParentNew("appBackBtn","class")).is(":visible")&&(findGetParameter("axispop",iframeHtmlSrc)||findGetParameter("axpop",iframeHtmlSrc)||eval(callParent("isTstructPopup")))&&($(callParentNew("appBackBtn","class")).hide(),isBackBtnHidden=!0)}catch(ex){}try{ax_loadCustomPopPage(iframeHtmlSrc,window)}catch(ex){}ShowDimmer(!1)}),$("#dvSelectedGlobalVar,#ExportImportCogIcon",eval(callParent("ExportImportCogIcon","id"))).hide(),$("#popupIframeRemodal").contents().find("body :focusable").first().focus(),MainNewEdit=!0}),$(document).on("closed","#axpertPopupWrapper",function(){window.leftMenuWrapper===undefined&&window.parent.document&&$(window.parent.document).contents().find(".remodalCloseBtn").show();var isAxPop=$("#axpertPopupWrapper").find("#popupIframeRemodal").attr("src").indexOf("AxPop=true")>-1,isRefresh=$("#axpertPopupWrapper").find("#popupIframeRemodal").data("refresh")||!1,inst=$("[data-remodal-id=axpertPopupModal]:eq(0)").remodal();try{inst.destroy()}catch(ex){}if(checkForAxpPopUpExists()||$("#ExportImportCogIcon",eval(callParent("ExportImportCogIcon","id"))).show(),checkForAxpPopUpExists()||$("#dvSelectedGlobalVar",eval(callParent("dvSelectedGlobalVar","id"))).show(),checkForAxpPopUpExists()||$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).show(),MainNewEdit=!1,isAxPop&&("Iview"==window.document.title||"Listview"==window.document.title)&&eval(callParent("isSuccessAlertInPopUp")))eval(callParent("isSuccessAlertInPopUp")+"= false"),pushValToSession("IsFromChildWindow","true"),eval(callParent("isRefreshParentOnClose"))?(eval(callParent("isRefreshParentOnClose")+"= false"),window.location.href=window.location.href):isRefresh&&(window.location.href=window.location.href);else if(isAxPop&&("Load TStruct with QS"==window.document.title||"Tstruct"==window.document.title||"Load Tstruct"==window.document.title)&&eval(callParent("isSuccessAlertInPopUp"))){eval(callParent("isSuccessAlertInPopUp")+"= false");var ReloadParent=!0;try{var CallActionVar=eval(callParent("callBackFunDtls"));if(void 0!==CallActionVar&&CallActionVar.indexOf("♠")>-1){var CallActionName=5==CallActionVar.split("♠").length?CallActionVar.split("♠")[1]:"";if(""!=CallActionName){var actIndex=$j.inArray(CallActionName,tstActionName);-1==actIndex&&(actIndex=$j.inArray(CallActionName.toLowerCase(),tstActionName)),ReloadParent="true"==actParRefresh[actIndex].toLowerCase()}}}catch(ex){}ReloadParent&&redirectOnSaveAction()}parent.isTstructPopup=!1,eval(callParent("removeOverlayFromBody()")),unLoadEvent&&(unLoadEvent(),unLoadEvent=""),ShowDimmer(!1)}),$(document).on("click","#homeIcon,#dashBoardIcon,.leftPartAC",function(){"classic"===axMenuStyle&&(checkForAxpPopUpExists()||$("#dvSelectedGlobalVar",eval(callParent("dvSelectedGlobalVar","id"))).show(),$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).show(),visibleAppSettings>0&&$("#ExportImportCogIcon",eval(callParent("ExportImportCogIcon","id"))).show())}),$(document).on("closed","#axpertPopupWrapperDWB",function(){var e="#dv"+$("#axpertPopupWrapperDWB").attr("data-pushtxt-id").split("0")[0];$(e+" .CodeMirror")[0].CodeMirror.getDoc().setValue($("#QryEditor .CodeMirror")[0].CodeMirror.getValue());var t=$("[data-remodal-id=axpertPopupModalDWB]:eq(0)").remodal();try{t.destroy()}catch(a){}}),$(document).on("opened","#axpertPopupWrapperDWB",function(){$("table").on("scroll resize",function(){$(this).children().width($(this).width()+$(this).scrollLeft())})}),$(document).on("click","#exeQuery",function(){var e=$("#QryEditor .CodeMirror")[0].CodeMirror;if(""!=e.getSelection())var t=e.getSelection();else t=e.getValue();return $.ajax({url:"tstruct.aspx/callExecuteSQL",type:"POST",cache:!1,async:!1,data:JSON.stringify({queryString:t}),dataType:"json",contentType:"application/json",success:function(e){"SESSION_TIMEOUT"==e.d?parent.window.location.href="../aspx/sess.aspx":""!=e.d&&(dataJSON=JSON.parse(e.d),"undefined"!=typeof dataJSON.error?($("#txtOutput").text(dataJSON.error.msg),$("#txtOutput").show(),$("#tblOutput").hide(),$("#spnRowCnt").hide()):"object"!=_typeof(dataJSON.result)?($("#txtOutput").text(dataJSON.result),$("#txtOutput").show(),$("#tblOutput").hide(),$("#spnRowCnt").hide()):(createDatatableFromJson(dataJSON,$("#tblOutput")),$("#txtOutput").hide(),$("#tblOutput").show(),$("#spnRowCnt").show()))},error:function(){$("#txtOutput").text("Error while executing the query.")}}),!1});