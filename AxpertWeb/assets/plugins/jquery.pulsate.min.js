(function(e){var b={init:function(f){var c={color:e(this).css("background-color"),reach:20,speed:1000,pause:0,glow:!0,repeat:!0,onHover:!1};e(this).css({"-moz-outline-radius":e(this).css("border-top-left-radius"),"-webkit-outline-radius":e(this).css("border-top-left-radius"),"outline-radius":e(this).css("border-top-left-radius")});f&&e.extend(c,f);c.color=e("<div style='background:"+c.color+"'></div>").css("background-color");c.repeat!==!0&&!isNaN(c.repeat)&&c.repeat>0&&(c.repeat-=1);return this.each(function(){c.onHover?e(this).bind("mouseover",function(){d(c,this,0)}).bind("mouseout",function(){e(this).pulsate("destroy")}):d(c,this,0)})},destroy:function(){return this.each(function(){clearTimeout(this.timer);e(this).css("outline",0)})}},d=function(g,c,l){var j=g.reach;l=l>j?0:l;var i=(j-l)/j,k=g.color.split(",");i="rgba("+k[0].split("(")[1]+","+k[1]+","+k[2].split(")")[0]+","+i+")";k={outline:"2px solid "+i};g.glow?(k["box-shadow"]="0px 0px "+parseInt(l/1.5)+"px "+i,e.browser.webkit&&(k["outline-offset"]=l+"px",k["outline-radius"]="100 px")):k["outline-offset"]=l+"px";e(c).css(k);c.timer=setTimeout(function(){if(l>=j&&!g.repeat){return e(c).pulsate("destroy"),!1}else{if(l>=j&&g.repeat!==!0&&!isNaN(g.repeat)&&g.repeat>0){g.repeat-=1}else{if(g.pause&&l>=j){return a(g,c,l+1),!1}}}d(g,c,l+1)},g.speed/j)},a=function(g,f,h){innerfunc=function(){d(g,f,h)};setTimeout(innerfunc,g.pause)};e.fn.pulsate=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{e.error("Method "+c+" does not exist on jQuery.pulsate")}}}})(jQuery);